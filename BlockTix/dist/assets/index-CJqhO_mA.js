var TA=Object.defineProperty;var jm=t=>{throw TypeError(t)};var OA=(t,e,n)=>e in t?TA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var C=(t,e,n)=>OA(t,typeof e!="symbol"?e+"":e,n),Cf=(t,e,n)=>e.has(t)||jm("Cannot "+n);var h=(t,e,n)=>(Cf(t,e,"read from private field"),n?n.call(t):e.get(t)),P=(t,e,n)=>e.has(t)?jm("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),x=(t,e,n,r)=>(Cf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),I=(t,e,n)=>(Cf(t,e,"access private method"),n);var qa=(t,e,n,r)=>({set _(s){x(t,e,s,n)},get _(){return h(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function IA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function RA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var jw={exports:{}},Ud={},zw={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cc=Symbol.for("react.element"),BA=Symbol.for("react.portal"),LA=Symbol.for("react.fragment"),DA=Symbol.for("react.strict_mode"),MA=Symbol.for("react.profiler"),UA=Symbol.for("react.provider"),FA=Symbol.for("react.context"),jA=Symbol.for("react.forward_ref"),zA=Symbol.for("react.suspense"),HA=Symbol.for("react.memo"),$A=Symbol.for("react.lazy"),zm=Symbol.iterator;function GA(t){return t===null||typeof t!="object"?null:(t=zm&&t[zm]||t["@@iterator"],typeof t=="function"?t:null)}var Hw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$w=Object.assign,Gw={};function Va(t,e,n){this.props=t,this.context=e,this.refs=Gw,this.updater=n||Hw}Va.prototype.isReactComponent={};Va.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Va.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Vw(){}Vw.prototype=Va.prototype;function dg(t,e,n){this.props=t,this.context=e,this.refs=Gw,this.updater=n||Hw}var fg=dg.prototype=new Vw;fg.constructor=dg;$w(fg,Va.prototype);fg.isPureReactComponent=!0;var Hm=Array.isArray,Qw=Object.prototype.hasOwnProperty,hg={current:null},Ww={key:!0,ref:!0,__self:!0,__source:!0};function Jw(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Qw.call(e,r)&&!Ww.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Cc,type:t,key:i,ref:o,props:s,_owner:hg.current}}function VA(t,e){return{$$typeof:Cc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function pg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cc}function QA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $m=/\/+/g;function Pf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QA(""+t.key):e.toString(36)}function wu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Cc:case BA:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Pf(o,0):r,Hm(s)?(n="",t!=null&&(n=t.replace($m,"$&/")+"/"),wu(s,e,n,"",function(c){return c})):s!=null&&(pg(s)&&(s=VA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace($m,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Hm(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+Pf(i,l);o+=wu(i,e,n,a,s)}else if(a=GA(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+Pf(i,l++),o+=wu(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function jc(t,e,n){if(t==null)return t;var r=[],s=0;return wu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function WA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xt={current:null},vu={transition:null},JA={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:vu,ReactCurrentOwner:hg};function Kw(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:jc,forEach:function(t,e,n){jc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jc(t,function(){e++}),e},toArray:function(t){return jc(t,function(e){return e})||[]},only:function(t){if(!pg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=Va;re.Fragment=LA;re.Profiler=MA;re.PureComponent=dg;re.StrictMode=DA;re.Suspense=zA;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JA;re.act=Kw;re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$w({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=hg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Qw.call(e,a)&&!Ww.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Cc,type:t.type,key:s,ref:i,props:r,_owner:o}};re.createContext=function(t){return t={$$typeof:FA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UA,_context:t},t.Consumer=t};re.createElement=Jw;re.createFactory=function(t){var e=Jw.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:jA,render:t}};re.isValidElement=pg;re.lazy=function(t){return{$$typeof:$A,_payload:{_status:-1,_result:t},_init:WA}};re.memo=function(t,e){return{$$typeof:HA,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=vu.transition;vu.transition={};try{t()}finally{vu.transition=e}};re.unstable_act=Kw;re.useCallback=function(t,e){return xt.current.useCallback(t,e)};re.useContext=function(t){return xt.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return xt.current.useDeferredValue(t)};re.useEffect=function(t,e){return xt.current.useEffect(t,e)};re.useId=function(){return xt.current.useId()};re.useImperativeHandle=function(t,e,n){return xt.current.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return xt.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return xt.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return xt.current.useMemo(t,e)};re.useReducer=function(t,e,n){return xt.current.useReducer(t,e,n)};re.useRef=function(t){return xt.current.useRef(t)};re.useState=function(t){return xt.current.useState(t)};re.useSyncExternalStore=function(t,e,n){return xt.current.useSyncExternalStore(t,e,n)};re.useTransition=function(){return xt.current.useTransition()};re.version="18.3.1";zw.exports=re;var M=zw.exports;const zc=IA(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KA=M,YA=Symbol.for("react.element"),qA=Symbol.for("react.fragment"),XA=Object.prototype.hasOwnProperty,ZA=KA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eE={key:!0,ref:!0,__self:!0,__source:!0};function Yw(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)XA.call(e,r)&&!eE.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:YA,type:t,key:i,ref:o,props:s,_owner:ZA.current}}Ud.Fragment=qA;Ud.jsx=Yw;Ud.jsxs=Yw;jw.exports=Ud;var b=jw.exports,qw={exports:{}},Jt={},Xw={exports:{}},Zw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,j){var Q=B.length;B.push(j);e:for(;0<Q;){var ne=Q-1>>>1,se=B[ne];if(0<s(se,j))B[ne]=j,B[Q]=se,Q=ne;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var j=B[0],Q=B.pop();if(Q!==j){B[0]=Q;e:for(var ne=0,se=B.length,je=se>>>1;ne<je;){var We=2*(ne+1)-1,Je=B[We],Lt=We+1,Dt=B[Lt];if(0>s(Je,Q))Lt<se&&0>s(Dt,Je)?(B[ne]=Dt,B[Lt]=Q,ne=Lt):(B[ne]=Je,B[We]=Q,ne=We);else if(Lt<se&&0>s(Dt,Q))B[ne]=Dt,B[Lt]=Q,ne=Lt;else break e}}return j}function s(B,j){var Q=B.sortIndex-j.sortIndex;return Q!==0?Q:B.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],u=1,d=null,f=3,p=!1,g=!1,m=!1,A=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(B){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=B)r(c),j.sortIndex=j.expirationTime,e(a,j);else break;j=n(c)}}function k(B){if(m=!1,v(B),!g)if(n(a)!==null)g=!0,U(S);else{var j=n(c);j!==null&&K(k,j.startTime-B)}}function S(B,j){g=!1,m&&(m=!1,y(N),N=-1),p=!0;var Q=f;try{for(v(j),d=n(a);d!==null&&(!(d.expirationTime>j)||B&&!W());){var ne=d.callback;if(typeof ne=="function"){d.callback=null,f=d.priorityLevel;var se=ne(d.expirationTime<=j);j=t.unstable_now(),typeof se=="function"?d.callback=se:d===n(a)&&r(a),v(j)}else r(a);d=n(a)}if(d!==null)var je=!0;else{var We=n(c);We!==null&&K(k,We.startTime-j),je=!1}return je}finally{d=null,f=Q,p=!1}}var _=!1,T=null,N=-1,V=5,D=-1;function W(){return!(t.unstable_now()-D<V)}function Y(){if(T!==null){var B=t.unstable_now();D=B;var j=!0;try{j=T(!0,B)}finally{j?q():(_=!1,T=null)}}else _=!1}var q;if(typeof w=="function")q=function(){w(Y)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,R=Ae.port2;Ae.port1.onmessage=Y,q=function(){R.postMessage(null)}}else q=function(){A(Y,0)};function U(B){T=B,_||(_=!0,q())}function K(B,j){N=A(function(){B(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,U(S))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var Q=f;f=j;try{return B()}finally{f=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,j){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Q=f;f=B;try{return j()}finally{f=Q}},t.unstable_scheduleCallback=function(B,j,Q){var ne=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ne+Q:ne):Q=ne,B){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=Q+se,B={id:u++,callback:j,priorityLevel:B,startTime:Q,expirationTime:se,sortIndex:-1},Q>ne?(B.sortIndex=Q,e(c,B),n(a)===null&&B===n(c)&&(m?(y(N),N=-1):m=!0,K(k,Q-ne))):(B.sortIndex=se,e(a,B),g||p||(g=!0,U(S))),B},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(B){var j=f;return function(){var Q=f;f=j;try{return B.apply(this,arguments)}finally{f=Q}}}})(Zw);Xw.exports=Zw;var tE=Xw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE=M,Wt=tE;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ev=new Set,Fl={};function $i(t,e){_a(t,e),_a(t+"Capture",e)}function _a(t,e){for(Fl[t]=e,t=0;t<e.length;t++)ev.add(e[t])}var Pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ch=Object.prototype.hasOwnProperty,rE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gm={},Vm={};function sE(t){return Ch.call(Vm,t)?!0:Ch.call(Gm,t)?!1:rE.test(t)?Vm[t]=!0:(Gm[t]=!0,!1)}function iE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oE(t,e,n,r){if(e===null||typeof e>"u"||iE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function At(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nt[t]=new At(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nt[e]=new At(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nt[t]=new At(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nt[t]=new At(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nt[t]=new At(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nt[t]=new At(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nt[t]=new At(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nt[t]=new At(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nt[t]=new At(t,5,!1,t.toLowerCase(),null,!1,!1)});var gg=/[\-:]([a-z])/g;function mg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gg,mg);nt[e]=new At(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gg,mg);nt[e]=new At(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gg,mg);nt[e]=new At(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nt[t]=new At(t,1,!1,t.toLowerCase(),null,!1,!1)});nt.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nt[t]=new At(t,1,!1,t.toLowerCase(),null,!0,!0)});function yg(t,e,n,r){var s=nt.hasOwnProperty(e)?nt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oE(e,n,s,r)&&(n=null),r||s===null?sE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Rr=nE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hc=Symbol.for("react.element"),fo=Symbol.for("react.portal"),ho=Symbol.for("react.fragment"),wg=Symbol.for("react.strict_mode"),Ph=Symbol.for("react.profiler"),tv=Symbol.for("react.provider"),nv=Symbol.for("react.context"),vg=Symbol.for("react.forward_ref"),_h=Symbol.for("react.suspense"),Nh=Symbol.for("react.suspense_list"),bg=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),rv=Symbol.for("react.offscreen"),Qm=Symbol.iterator;function Xa(t){return t===null||typeof t!="object"?null:(t=Qm&&t[Qm]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Object.assign,_f;function pl(t){if(_f===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_f=e&&e[1]||""}return`
`+_f+t}var Nf=!1;function Tf(t,e){if(!t||Nf)return"";Nf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Nf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pl(t):""}function aE(t){switch(t.tag){case 5:return pl(t.type);case 16:return pl("Lazy");case 13:return pl("Suspense");case 19:return pl("SuspenseList");case 0:case 2:case 15:return t=Tf(t.type,!1),t;case 11:return t=Tf(t.type.render,!1),t;case 1:return t=Tf(t.type,!0),t;default:return""}}function Th(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ho:return"Fragment";case fo:return"Portal";case Ph:return"Profiler";case wg:return"StrictMode";case _h:return"Suspense";case Nh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nv:return(t.displayName||"Context")+".Consumer";case tv:return(t._context.displayName||"Context")+".Provider";case vg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bg:return e=t.displayName||null,e!==null?e:Th(t.type)||"Memo";case Gr:e=t._payload,t=t._init;try{return Th(t(e))}catch{}}return null}function lE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Th(e);case 8:return e===wg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cE(t){var e=sv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $c(t){t._valueTracker||(t._valueTracker=cE(t))}function iv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Oh(t,e){var n=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Wm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Cs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ov(t,e){e=e.checked,e!=null&&yg(t,"checked",e,!1)}function Ih(t,e){ov(t,e);var n=Cs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rh(t,e.type,Cs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rh(t,e,n){(e!=="number"||Hu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gl=Array.isArray;function Io(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Cs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Bh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Km(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(L(92));if(gl(n)){if(1<n.length)throw Error(L(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Cs(n)}}function av(t,e){var n=Cs(e.value),r=Cs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ym(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gc,cv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gc=Gc||document.createElement("div"),Gc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uE=["Webkit","ms","Moz","O"];Object.keys(Sl).forEach(function(t){uE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sl[e]=Sl[t]})});function uv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sl.hasOwnProperty(t)&&Sl[t]?(""+e).trim():e+"px"}function dv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=uv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var dE=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dh(t,e){if(e){if(dE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function Mh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uh=null;function xg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fh=null,Ro=null,Bo=null;function qm(t){if(t=Nc(t)){if(typeof Fh!="function")throw Error(L(280));var e=t.stateNode;e&&(e=$d(e),Fh(t.stateNode,t.type,e))}}function fv(t){Ro?Bo?Bo.push(t):Bo=[t]:Ro=t}function hv(){if(Ro){var t=Ro,e=Bo;if(Bo=Ro=null,qm(t),e)for(t=0;t<e.length;t++)qm(e[t])}}function pv(t,e){return t(e)}function gv(){}var Of=!1;function mv(t,e,n){if(Of)return t(e,n);Of=!0;try{return pv(t,e,n)}finally{Of=!1,(Ro!==null||Bo!==null)&&(gv(),hv())}}function zl(t,e){var n=t.stateNode;if(n===null)return null;var r=$d(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var jh=!1;if(Pr)try{var Za={};Object.defineProperty(Za,"passive",{get:function(){jh=!0}}),window.addEventListener("test",Za,Za),window.removeEventListener("test",Za,Za)}catch{jh=!1}function fE(t,e,n,r,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Cl=!1,$u=null,Gu=!1,zh=null,hE={onError:function(t){Cl=!0,$u=t}};function pE(t,e,n,r,s,i,o,l,a){Cl=!1,$u=null,fE.apply(hE,arguments)}function gE(t,e,n,r,s,i,o,l,a){if(pE.apply(this,arguments),Cl){if(Cl){var c=$u;Cl=!1,$u=null}else throw Error(L(198));Gu||(Gu=!0,zh=c)}}function Gi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function yv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Xm(t){if(Gi(t)!==t)throw Error(L(188))}function mE(t){var e=t.alternate;if(!e){if(e=Gi(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Xm(s),t;if(i===r)return Xm(s),e;i=i.sibling}throw Error(L(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function wv(t){return t=mE(t),t!==null?vv(t):null}function vv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vv(t);if(e!==null)return e;t=t.sibling}return null}var bv=Wt.unstable_scheduleCallback,Zm=Wt.unstable_cancelCallback,yE=Wt.unstable_shouldYield,wE=Wt.unstable_requestPaint,Ie=Wt.unstable_now,vE=Wt.unstable_getCurrentPriorityLevel,Ag=Wt.unstable_ImmediatePriority,xv=Wt.unstable_UserBlockingPriority,Vu=Wt.unstable_NormalPriority,bE=Wt.unstable_LowPriority,Av=Wt.unstable_IdlePriority,Fd=null,Yn=null;function xE(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Fd,t,void 0,(t.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:kE,AE=Math.log,EE=Math.LN2;function kE(t){return t>>>=0,t===0?32:31-(AE(t)/EE|0)|0}var Vc=64,Qc=4194304;function ml(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ml(l):(i&=o,i!==0&&(r=ml(i)))}else o=n&~s,o!==0?r=ml(o):i!==0&&(r=ml(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pn(e),s=1<<n,r|=t[n],e&=~s;return r}function SE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CE(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Pn(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=SE(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function Hh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ev(){var t=Vc;return Vc<<=1,!(Vc&4194240)&&(Vc=64),t}function If(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pn(e),t[e]=n}function PE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Pn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Eg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var fe=0;function kv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Sv,kg,Cv,Pv,_v,$h=!1,Wc=[],ys=null,ws=null,vs=null,Hl=new Map,$l=new Map,Jr=[],_E="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function e0(t,e){switch(t){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":Hl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(e.pointerId)}}function el(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Nc(e),e!==null&&kg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function NE(t,e,n,r,s){switch(e){case"focusin":return ys=el(ys,t,e,n,r,s),!0;case"dragenter":return ws=el(ws,t,e,n,r,s),!0;case"mouseover":return vs=el(vs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Hl.set(i,el(Hl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,$l.set(i,el($l.get(i)||null,t,e,n,r,s)),!0}return!1}function Nv(t){var e=Ys(t.target);if(e!==null){var n=Gi(e);if(n!==null){if(e=n.tag,e===13){if(e=yv(n),e!==null){t.blockedOn=e,_v(t.priority,function(){Cv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Uh=r,n.target.dispatchEvent(r),Uh=null}else return e=Nc(n),e!==null&&kg(e),t.blockedOn=n,!1;e.shift()}return!0}function t0(t,e,n){bu(t)&&n.delete(e)}function TE(){$h=!1,ys!==null&&bu(ys)&&(ys=null),ws!==null&&bu(ws)&&(ws=null),vs!==null&&bu(vs)&&(vs=null),Hl.forEach(t0),$l.forEach(t0)}function tl(t,e){t.blockedOn===e&&(t.blockedOn=null,$h||($h=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,TE)))}function Gl(t){function e(s){return tl(s,t)}if(0<Wc.length){tl(Wc[0],t);for(var n=1;n<Wc.length;n++){var r=Wc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ys!==null&&tl(ys,t),ws!==null&&tl(ws,t),vs!==null&&tl(vs,t),Hl.forEach(e),$l.forEach(e),n=0;n<Jr.length;n++)r=Jr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Jr.length&&(n=Jr[0],n.blockedOn===null);)Nv(n),n.blockedOn===null&&Jr.shift()}var Lo=Rr.ReactCurrentBatchConfig,Wu=!0;function OE(t,e,n,r){var s=fe,i=Lo.transition;Lo.transition=null;try{fe=1,Sg(t,e,n,r)}finally{fe=s,Lo.transition=i}}function IE(t,e,n,r){var s=fe,i=Lo.transition;Lo.transition=null;try{fe=4,Sg(t,e,n,r)}finally{fe=s,Lo.transition=i}}function Sg(t,e,n,r){if(Wu){var s=Gh(t,e,n,r);if(s===null)Hf(t,e,r,Ju,n),e0(t,r);else if(NE(s,t,e,n,r))r.stopPropagation();else if(e0(t,r),e&4&&-1<_E.indexOf(t)){for(;s!==null;){var i=Nc(s);if(i!==null&&Sv(i),i=Gh(t,e,n,r),i===null&&Hf(t,e,r,Ju,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Hf(t,e,r,null,n)}}var Ju=null;function Gh(t,e,n,r){if(Ju=null,t=xg(r),t=Ys(t),t!==null)if(e=Gi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=yv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ju=t,null}function Tv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vE()){case Ag:return 1;case xv:return 4;case Vu:case bE:return 16;case Av:return 536870912;default:return 16}default:return 16}}var gs=null,Cg=null,xu=null;function Ov(){if(xu)return xu;var t,e=Cg,n=e.length,r,s="value"in gs?gs.value:gs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return xu=s.slice(t,1<r?1-r:void 0)}function Au(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jc(){return!0}function n0(){return!1}function Kt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Jc:n0,this.isPropagationStopped=n0,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jc)},persist:function(){},isPersistent:Jc}),e}var Qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pg=Kt(Qa),_c=Pe({},Qa,{view:0,detail:0}),RE=Kt(_c),Rf,Bf,nl,jd=Pe({},_c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_g,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nl&&(nl&&t.type==="mousemove"?(Rf=t.screenX-nl.screenX,Bf=t.screenY-nl.screenY):Bf=Rf=0,nl=t),Rf)},movementY:function(t){return"movementY"in t?t.movementY:Bf}}),r0=Kt(jd),BE=Pe({},jd,{dataTransfer:0}),LE=Kt(BE),DE=Pe({},_c,{relatedTarget:0}),Lf=Kt(DE),ME=Pe({},Qa,{animationName:0,elapsedTime:0,pseudoElement:0}),UE=Kt(ME),FE=Pe({},Qa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jE=Kt(FE),zE=Pe({},Qa,{data:0}),s0=Kt(zE),HE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$E={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GE[t])?!!e[t]:!1}function _g(){return VE}var QE=Pe({},_c,{key:function(t){if(t.key){var e=HE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Au(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$E[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_g,charCode:function(t){return t.type==="keypress"?Au(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Au(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),WE=Kt(QE),JE=Pe({},jd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i0=Kt(JE),KE=Pe({},_c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_g}),YE=Kt(KE),qE=Pe({},Qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),XE=Kt(qE),ZE=Pe({},jd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ek=Kt(ZE),tk=[9,13,27,32],Ng=Pr&&"CompositionEvent"in window,Pl=null;Pr&&"documentMode"in document&&(Pl=document.documentMode);var nk=Pr&&"TextEvent"in window&&!Pl,Iv=Pr&&(!Ng||Pl&&8<Pl&&11>=Pl),o0=" ",a0=!1;function Rv(t,e){switch(t){case"keyup":return tk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var po=!1;function rk(t,e){switch(t){case"compositionend":return Bv(e);case"keypress":return e.which!==32?null:(a0=!0,o0);case"textInput":return t=e.data,t===o0&&a0?null:t;default:return null}}function sk(t,e){if(po)return t==="compositionend"||!Ng&&Rv(t,e)?(t=Ov(),xu=Cg=gs=null,po=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Iv&&e.locale!=="ko"?null:e.data;default:return null}}var ik={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ik[t.type]:e==="textarea"}function Lv(t,e,n,r){fv(r),e=Ku(e,"onChange"),0<e.length&&(n=new Pg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _l=null,Vl=null;function ok(t){Qv(t,0)}function zd(t){var e=yo(t);if(iv(e))return t}function ak(t,e){if(t==="change")return e}var Dv=!1;if(Pr){var Df;if(Pr){var Mf="oninput"in document;if(!Mf){var c0=document.createElement("div");c0.setAttribute("oninput","return;"),Mf=typeof c0.oninput=="function"}Df=Mf}else Df=!1;Dv=Df&&(!document.documentMode||9<document.documentMode)}function u0(){_l&&(_l.detachEvent("onpropertychange",Mv),Vl=_l=null)}function Mv(t){if(t.propertyName==="value"&&zd(Vl)){var e=[];Lv(e,Vl,t,xg(t)),mv(ok,e)}}function lk(t,e,n){t==="focusin"?(u0(),_l=e,Vl=n,_l.attachEvent("onpropertychange",Mv)):t==="focusout"&&u0()}function ck(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zd(Vl)}function uk(t,e){if(t==="click")return zd(e)}function dk(t,e){if(t==="input"||t==="change")return zd(e)}function fk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nn=typeof Object.is=="function"?Object.is:fk;function Ql(t,e){if(Nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ch.call(e,s)||!Nn(t[s],e[s]))return!1}return!0}function d0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function f0(t,e){var n=d0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=d0(n)}}function Uv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Uv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Fv(){for(var t=window,e=Hu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hu(t.document)}return e}function Tg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hk(t){var e=Fv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Uv(n.ownerDocument.documentElement,n)){if(r!==null&&Tg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=f0(n,i);var o=f0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pk=Pr&&"documentMode"in document&&11>=document.documentMode,go=null,Vh=null,Nl=null,Qh=!1;function h0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qh||go==null||go!==Hu(r)||(r=go,"selectionStart"in r&&Tg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nl&&Ql(Nl,r)||(Nl=r,r=Ku(Vh,"onSelect"),0<r.length&&(e=new Pg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=go)))}function Kc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mo={animationend:Kc("Animation","AnimationEnd"),animationiteration:Kc("Animation","AnimationIteration"),animationstart:Kc("Animation","AnimationStart"),transitionend:Kc("Transition","TransitionEnd")},Uf={},jv={};Pr&&(jv=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function Hd(t){if(Uf[t])return Uf[t];if(!mo[t])return t;var e=mo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jv)return Uf[t]=e[n];return t}var zv=Hd("animationend"),Hv=Hd("animationiteration"),$v=Hd("animationstart"),Gv=Hd("transitionend"),Vv=new Map,p0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Os(t,e){Vv.set(t,e),$i(e,[t])}for(var Ff=0;Ff<p0.length;Ff++){var jf=p0[Ff],gk=jf.toLowerCase(),mk=jf[0].toUpperCase()+jf.slice(1);Os(gk,"on"+mk)}Os(zv,"onAnimationEnd");Os(Hv,"onAnimationIteration");Os($v,"onAnimationStart");Os("dblclick","onDoubleClick");Os("focusin","onFocus");Os("focusout","onBlur");Os(Gv,"onTransitionEnd");_a("onMouseEnter",["mouseout","mouseover"]);_a("onMouseLeave",["mouseout","mouseover"]);_a("onPointerEnter",["pointerout","pointerover"]);_a("onPointerLeave",["pointerout","pointerover"]);$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$i("onBeforeInput",["compositionend","keypress","textInput","paste"]);$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yk=new Set("cancel close invalid load scroll toggle".split(" ").concat(yl));function g0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gE(r,e,void 0,t),t.currentTarget=null}function Qv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;g0(s,l,c),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;g0(s,l,c),i=a}}}if(Gu)throw t=zh,Gu=!1,zh=null,t}function ve(t,e){var n=e[qh];n===void 0&&(n=e[qh]=new Set);var r=t+"__bubble";n.has(r)||(Wv(e,t,2,!1),n.add(r))}function zf(t,e,n){var r=0;e&&(r|=4),Wv(n,t,r,e)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function Wl(t){if(!t[Yc]){t[Yc]=!0,ev.forEach(function(n){n!=="selectionchange"&&(yk.has(n)||zf(n,!1,t),zf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yc]||(e[Yc]=!0,zf("selectionchange",!1,e))}}function Wv(t,e,n,r){switch(Tv(e)){case 1:var s=OE;break;case 4:s=IE;break;default:s=Sg}n=s.bind(null,e,n,t),s=void 0,!jh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Hf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ys(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}mv(function(){var c=i,u=xg(n),d=[];e:{var f=Vv.get(t);if(f!==void 0){var p=Pg,g=t;switch(t){case"keypress":if(Au(n)===0)break e;case"keydown":case"keyup":p=WE;break;case"focusin":g="focus",p=Lf;break;case"focusout":g="blur",p=Lf;break;case"beforeblur":case"afterblur":p=Lf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=r0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=LE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=YE;break;case zv:case Hv:case $v:p=UE;break;case Gv:p=XE;break;case"scroll":p=RE;break;case"wheel":p=ek;break;case"copy":case"cut":case"paste":p=jE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=i0}var m=(e&4)!==0,A=!m&&t==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var w=c,v;w!==null;){v=w;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,y!==null&&(k=zl(w,y),k!=null&&m.push(Jl(w,k,v)))),A)break;w=w.return}0<m.length&&(f=new p(f,g,null,n,u),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Uh&&(g=n.relatedTarget||n.fromElement)&&(Ys(g)||g[_r]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?Ys(g):null,g!==null&&(A=Gi(g),g!==A||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=r0,k="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(m=i0,k="onPointerLeave",y="onPointerEnter",w="pointer"),A=p==null?f:yo(p),v=g==null?f:yo(g),f=new m(k,w+"leave",p,n,u),f.target=A,f.relatedTarget=v,k=null,Ys(u)===c&&(m=new m(y,w+"enter",g,n,u),m.target=v,m.relatedTarget=A,k=m),A=k,p&&g)t:{for(m=p,y=g,w=0,v=m;v;v=Zi(v))w++;for(v=0,k=y;k;k=Zi(k))v++;for(;0<w-v;)m=Zi(m),w--;for(;0<v-w;)y=Zi(y),v--;for(;w--;){if(m===y||y!==null&&m===y.alternate)break t;m=Zi(m),y=Zi(y)}m=null}else m=null;p!==null&&m0(d,f,p,m,!1),g!==null&&A!==null&&m0(d,A,g,m,!0)}}e:{if(f=c?yo(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=ak;else if(l0(f))if(Dv)S=dk;else{S=ck;var _=lk}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=uk);if(S&&(S=S(t,c))){Lv(d,S,n,u);break e}_&&_(t,f,c),t==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Rh(f,"number",f.value)}switch(_=c?yo(c):window,t){case"focusin":(l0(_)||_.contentEditable==="true")&&(go=_,Vh=c,Nl=null);break;case"focusout":Nl=Vh=go=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,h0(d,n,u);break;case"selectionchange":if(pk)break;case"keydown":case"keyup":h0(d,n,u)}var T;if(Ng)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else po?Rv(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Iv&&n.locale!=="ko"&&(po||N!=="onCompositionStart"?N==="onCompositionEnd"&&po&&(T=Ov()):(gs=u,Cg="value"in gs?gs.value:gs.textContent,po=!0)),_=Ku(c,N),0<_.length&&(N=new s0(N,t,null,n,u),d.push({event:N,listeners:_}),T?N.data=T:(T=Bv(n),T!==null&&(N.data=T)))),(T=nk?rk(t,n):sk(t,n))&&(c=Ku(c,"onBeforeInput"),0<c.length&&(u=new s0("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=T))}Qv(d,e)})}function Jl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ku(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zl(t,n),i!=null&&r.unshift(Jl(t,i,s)),i=zl(t,e),i!=null&&r.push(Jl(t,i,s))),t=t.return}return r}function Zi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function m0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,s?(a=zl(n,i),a!=null&&o.unshift(Jl(n,a,l))):s||(a=zl(n,i),a!=null&&o.push(Jl(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var wk=/\r\n?/g,vk=/\u0000|\uFFFD/g;function y0(t){return(typeof t=="string"?t:""+t).replace(wk,`
`).replace(vk,"")}function qc(t,e,n){if(e=y0(e),y0(t)!==e&&n)throw Error(L(425))}function Yu(){}var Wh=null,Jh=null;function Kh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yh=typeof setTimeout=="function"?setTimeout:void 0,bk=typeof clearTimeout=="function"?clearTimeout:void 0,w0=typeof Promise=="function"?Promise:void 0,xk=typeof queueMicrotask=="function"?queueMicrotask:typeof w0<"u"?function(t){return w0.resolve(null).then(t).catch(Ak)}:Yh;function Ak(t){setTimeout(function(){throw t})}function $f(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Gl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Gl(e)}function bs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function v0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wa=Math.random().toString(36).slice(2),Qn="__reactFiber$"+Wa,Kl="__reactProps$"+Wa,_r="__reactContainer$"+Wa,qh="__reactEvents$"+Wa,Ek="__reactListeners$"+Wa,kk="__reactHandles$"+Wa;function Ys(t){var e=t[Qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_r]||n[Qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=v0(t);t!==null;){if(n=t[Qn])return n;t=v0(t)}return e}t=n,n=t.parentNode}return null}function Nc(t){return t=t[Qn]||t[_r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function $d(t){return t[Kl]||null}var Xh=[],wo=-1;function Is(t){return{current:t}}function xe(t){0>wo||(t.current=Xh[wo],Xh[wo]=null,wo--)}function me(t,e){wo++,Xh[wo]=t.current,t.current=e}var Ps={},ut=Is(Ps),Ot=Is(!1),_i=Ps;function Na(t,e){var n=t.type.contextTypes;if(!n)return Ps;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function It(t){return t=t.childContextTypes,t!=null}function qu(){xe(Ot),xe(ut)}function b0(t,e,n){if(ut.current!==Ps)throw Error(L(168));me(ut,e),me(Ot,n)}function Jv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(L(108,lE(t)||"Unknown",s));return Pe({},n,r)}function Xu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ps,_i=ut.current,me(ut,t),me(Ot,Ot.current),!0}function x0(t,e,n){var r=t.stateNode;if(!r)throw Error(L(169));n?(t=Jv(t,e,_i),r.__reactInternalMemoizedMergedChildContext=t,xe(Ot),xe(ut),me(ut,t)):xe(Ot),me(Ot,n)}var or=null,Gd=!1,Gf=!1;function Kv(t){or===null?or=[t]:or.push(t)}function Sk(t){Gd=!0,Kv(t)}function Rs(){if(!Gf&&or!==null){Gf=!0;var t=0,e=fe;try{var n=or;for(fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}or=null,Gd=!1}catch(s){throw or!==null&&(or=or.slice(t+1)),bv(Ag,Rs),s}finally{fe=e,Gf=!1}}return null}var vo=[],bo=0,Zu=null,ed=0,sn=[],on=0,Ni=null,xr=1,Ar="";function Fs(t,e){vo[bo++]=ed,vo[bo++]=Zu,Zu=t,ed=e}function Yv(t,e,n){sn[on++]=xr,sn[on++]=Ar,sn[on++]=Ni,Ni=t;var r=xr;t=Ar;var s=32-Pn(r)-1;r&=~(1<<s),n+=1;var i=32-Pn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,xr=1<<32-Pn(e)+s|n<<s|r,Ar=i+t}else xr=1<<i|n<<s|r,Ar=t}function Og(t){t.return!==null&&(Fs(t,1),Yv(t,1,0))}function Ig(t){for(;t===Zu;)Zu=vo[--bo],vo[bo]=null,ed=vo[--bo],vo[bo]=null;for(;t===Ni;)Ni=sn[--on],sn[on]=null,Ar=sn[--on],sn[on]=null,xr=sn[--on],sn[on]=null}var Qt=null,Vt=null,Ee=!1,Sn=null;function qv(t,e){var n=an(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function A0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qt=t,Vt=bs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qt=t,Vt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ni!==null?{id:xr,overflow:Ar}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=an(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qt=t,Vt=null,!0):!1;default:return!1}}function Zh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ep(t){if(Ee){var e=Vt;if(e){var n=e;if(!A0(t,e)){if(Zh(t))throw Error(L(418));e=bs(n.nextSibling);var r=Qt;e&&A0(t,e)?qv(r,n):(t.flags=t.flags&-4097|2,Ee=!1,Qt=t)}}else{if(Zh(t))throw Error(L(418));t.flags=t.flags&-4097|2,Ee=!1,Qt=t}}}function E0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qt=t}function Xc(t){if(t!==Qt)return!1;if(!Ee)return E0(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kh(t.type,t.memoizedProps)),e&&(e=Vt)){if(Zh(t))throw Xv(),Error(L(418));for(;e;)qv(t,e),e=bs(e.nextSibling)}if(E0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vt=bs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vt=null}}else Vt=Qt?bs(t.stateNode.nextSibling):null;return!0}function Xv(){for(var t=Vt;t;)t=bs(t.nextSibling)}function Ta(){Vt=Qt=null,Ee=!1}function Rg(t){Sn===null?Sn=[t]:Sn.push(t)}var Ck=Rr.ReactCurrentBatchConfig;function rl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,t))}return t}function Zc(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function k0(t){var e=t._init;return e(t._payload)}function Zv(t){function e(y,w){if(t){var v=y.deletions;v===null?(y.deletions=[w],y.flags|=16):v.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function s(y,w){return y=ks(y,w),y.index=0,y.sibling=null,y}function i(y,w,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<w?(y.flags|=2,w):v):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,w,v,k){return w===null||w.tag!==6?(w=qf(v,y.mode,k),w.return=y,w):(w=s(w,v),w.return=y,w)}function a(y,w,v,k){var S=v.type;return S===ho?u(y,w,v.props.children,k,v.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Gr&&k0(S)===w.type)?(k=s(w,v.props),k.ref=rl(y,w,v),k.return=y,k):(k=Nu(v.type,v.key,v.props,null,y.mode,k),k.ref=rl(y,w,v),k.return=y,k)}function c(y,w,v,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==v.containerInfo||w.stateNode.implementation!==v.implementation?(w=Xf(v,y.mode,k),w.return=y,w):(w=s(w,v.children||[]),w.return=y,w)}function u(y,w,v,k,S){return w===null||w.tag!==7?(w=Si(v,y.mode,k,S),w.return=y,w):(w=s(w,v),w.return=y,w)}function d(y,w,v){if(typeof w=="string"&&w!==""||typeof w=="number")return w=qf(""+w,y.mode,v),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Hc:return v=Nu(w.type,w.key,w.props,null,y.mode,v),v.ref=rl(y,null,w),v.return=y,v;case fo:return w=Xf(w,y.mode,v),w.return=y,w;case Gr:var k=w._init;return d(y,k(w._payload),v)}if(gl(w)||Xa(w))return w=Si(w,y.mode,v,null),w.return=y,w;Zc(y,w)}return null}function f(y,w,v,k){var S=w!==null?w.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:l(y,w,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hc:return v.key===S?a(y,w,v,k):null;case fo:return v.key===S?c(y,w,v,k):null;case Gr:return S=v._init,f(y,w,S(v._payload),k)}if(gl(v)||Xa(v))return S!==null?null:u(y,w,v,k,null);Zc(y,v)}return null}function p(y,w,v,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(v)||null,l(w,y,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Hc:return y=y.get(k.key===null?v:k.key)||null,a(w,y,k,S);case fo:return y=y.get(k.key===null?v:k.key)||null,c(w,y,k,S);case Gr:var _=k._init;return p(y,w,v,_(k._payload),S)}if(gl(k)||Xa(k))return y=y.get(v)||null,u(w,y,k,S,null);Zc(w,k)}return null}function g(y,w,v,k){for(var S=null,_=null,T=w,N=w=0,V=null;T!==null&&N<v.length;N++){T.index>N?(V=T,T=null):V=T.sibling;var D=f(y,T,v[N],k);if(D===null){T===null&&(T=V);break}t&&T&&D.alternate===null&&e(y,T),w=i(D,w,N),_===null?S=D:_.sibling=D,_=D,T=V}if(N===v.length)return n(y,T),Ee&&Fs(y,N),S;if(T===null){for(;N<v.length;N++)T=d(y,v[N],k),T!==null&&(w=i(T,w,N),_===null?S=T:_.sibling=T,_=T);return Ee&&Fs(y,N),S}for(T=r(y,T);N<v.length;N++)V=p(T,y,N,v[N],k),V!==null&&(t&&V.alternate!==null&&T.delete(V.key===null?N:V.key),w=i(V,w,N),_===null?S=V:_.sibling=V,_=V);return t&&T.forEach(function(W){return e(y,W)}),Ee&&Fs(y,N),S}function m(y,w,v,k){var S=Xa(v);if(typeof S!="function")throw Error(L(150));if(v=S.call(v),v==null)throw Error(L(151));for(var _=S=null,T=w,N=w=0,V=null,D=v.next();T!==null&&!D.done;N++,D=v.next()){T.index>N?(V=T,T=null):V=T.sibling;var W=f(y,T,D.value,k);if(W===null){T===null&&(T=V);break}t&&T&&W.alternate===null&&e(y,T),w=i(W,w,N),_===null?S=W:_.sibling=W,_=W,T=V}if(D.done)return n(y,T),Ee&&Fs(y,N),S;if(T===null){for(;!D.done;N++,D=v.next())D=d(y,D.value,k),D!==null&&(w=i(D,w,N),_===null?S=D:_.sibling=D,_=D);return Ee&&Fs(y,N),S}for(T=r(y,T);!D.done;N++,D=v.next())D=p(T,y,N,D.value,k),D!==null&&(t&&D.alternate!==null&&T.delete(D.key===null?N:D.key),w=i(D,w,N),_===null?S=D:_.sibling=D,_=D);return t&&T.forEach(function(Y){return e(y,Y)}),Ee&&Fs(y,N),S}function A(y,w,v,k){if(typeof v=="object"&&v!==null&&v.type===ho&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Hc:e:{for(var S=v.key,_=w;_!==null;){if(_.key===S){if(S=v.type,S===ho){if(_.tag===7){n(y,_.sibling),w=s(_,v.props.children),w.return=y,y=w;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Gr&&k0(S)===_.type){n(y,_.sibling),w=s(_,v.props),w.ref=rl(y,_,v),w.return=y,y=w;break e}n(y,_);break}else e(y,_);_=_.sibling}v.type===ho?(w=Si(v.props.children,y.mode,k,v.key),w.return=y,y=w):(k=Nu(v.type,v.key,v.props,null,y.mode,k),k.ref=rl(y,w,v),k.return=y,y=k)}return o(y);case fo:e:{for(_=v.key;w!==null;){if(w.key===_)if(w.tag===4&&w.stateNode.containerInfo===v.containerInfo&&w.stateNode.implementation===v.implementation){n(y,w.sibling),w=s(w,v.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else e(y,w);w=w.sibling}w=Xf(v,y.mode,k),w.return=y,y=w}return o(y);case Gr:return _=v._init,A(y,w,_(v._payload),k)}if(gl(v))return g(y,w,v,k);if(Xa(v))return m(y,w,v,k);Zc(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,w!==null&&w.tag===6?(n(y,w.sibling),w=s(w,v),w.return=y,y=w):(n(y,w),w=qf(v,y.mode,k),w.return=y,y=w),o(y)):n(y,w)}return A}var Oa=Zv(!0),e1=Zv(!1),td=Is(null),nd=null,xo=null,Bg=null;function Lg(){Bg=xo=nd=null}function Dg(t){var e=td.current;xe(td),t._currentValue=e}function tp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Do(t,e){nd=t,Bg=xo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tt=!0),t.firstContext=null)}function un(t){var e=t._currentValue;if(Bg!==t)if(t={context:t,memoizedValue:e,next:null},xo===null){if(nd===null)throw Error(L(308));xo=t,nd.dependencies={lanes:0,firstContext:t}}else xo=xo.next=t;return e}var qs=null;function Mg(t){qs===null?qs=[t]:qs.push(t)}function t1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Mg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Nr(t,r)}function Nr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vr=!1;function Ug(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Nr(t,n)}return s=r.interleaved,s===null?(e.next=e,Mg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Nr(t,n)}function Eu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Eg(t,n)}}function S0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rd(t,e,n,r){var s=t.updateQueue;Vr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=a))}if(i!==null){var d=s.baseState;o=0,u=c=a=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,m=l;switch(f=e,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=Pe({},d,f);break e;case 2:Vr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=p,a=d):u=u.next=p,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(a=d),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Oi|=o,t.lanes=o,t.memoizedState=d}}function C0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(L(191,s));s.call(r)}}}var Tc={},qn=Is(Tc),Yl=Is(Tc),ql=Is(Tc);function Xs(t){if(t===Tc)throw Error(L(174));return t}function Fg(t,e){switch(me(ql,e),me(Yl,t),me(qn,Tc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lh(e,t)}xe(qn),me(qn,e)}function Ia(){xe(qn),xe(Yl),xe(ql)}function r1(t){Xs(ql.current);var e=Xs(qn.current),n=Lh(e,t.type);e!==n&&(me(Yl,t),me(qn,n))}function jg(t){Yl.current===t&&(xe(qn),xe(Yl))}var ke=Is(0);function sd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vf=[];function zg(){for(var t=0;t<Vf.length;t++)Vf[t]._workInProgressVersionPrimary=null;Vf.length=0}var ku=Rr.ReactCurrentDispatcher,Qf=Rr.ReactCurrentBatchConfig,Ti=0,Ce=null,Ue=null,$e=null,id=!1,Tl=!1,Xl=0,Pk=0;function rt(){throw Error(L(321))}function Hg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nn(t[n],e[n]))return!1;return!0}function $g(t,e,n,r,s,i){if(Ti=i,Ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ku.current=t===null||t.memoizedState===null?Ok:Ik,t=n(r,s),Tl){i=0;do{if(Tl=!1,Xl=0,25<=i)throw Error(L(301));i+=1,$e=Ue=null,e.updateQueue=null,ku.current=Rk,t=n(r,s)}while(Tl)}if(ku.current=od,e=Ue!==null&&Ue.next!==null,Ti=0,$e=Ue=Ce=null,id=!1,e)throw Error(L(300));return t}function Gg(){var t=Xl!==0;return Xl=0,t}function Mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?Ce.memoizedState=$e=t:$e=$e.next=t,$e}function dn(){if(Ue===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var e=$e===null?Ce.memoizedState:$e.next;if(e!==null)$e=e,Ue=t;else{if(t===null)throw Error(L(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},$e===null?Ce.memoizedState=$e=t:$e=$e.next=t}return $e}function Zl(t,e){return typeof e=="function"?e(t):e}function Wf(t){var e=dn(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=Ue,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,c=i;do{var u=c.lane;if((Ti&u)===u)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,Ce.lanes|=u,Oi|=u}c=c.next}while(c!==null&&c!==i);a===null?o=r:a.next=l,Nn(r,e.memoizedState)||(Tt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ce.lanes|=i,Oi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jf(t){var e=dn(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Nn(i,e.memoizedState)||(Tt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function s1(){}function i1(t,e){var n=Ce,r=dn(),s=e(),i=!Nn(r.memoizedState,s);if(i&&(r.memoizedState=s,Tt=!0),r=r.queue,Vg(l1.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,ec(9,a1.bind(null,n,r,s,e),void 0,null),Qe===null)throw Error(L(349));Ti&30||o1(n,e,s)}return s}function o1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function a1(t,e,n,r){e.value=n,e.getSnapshot=r,c1(e)&&u1(t)}function l1(t,e,n){return n(function(){c1(e)&&u1(t)})}function c1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nn(t,n)}catch{return!0}}function u1(t){var e=Nr(t,1);e!==null&&_n(e,t,1,-1)}function P0(t){var e=Mn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zl,lastRenderedState:t},e.queue=t,t=t.dispatch=Tk.bind(null,Ce,t),[e.memoizedState,t]}function ec(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function d1(){return dn().memoizedState}function Su(t,e,n,r){var s=Mn();Ce.flags|=t,s.memoizedState=ec(1|e,n,void 0,r===void 0?null:r)}function Vd(t,e,n,r){var s=dn();r=r===void 0?null:r;var i=void 0;if(Ue!==null){var o=Ue.memoizedState;if(i=o.destroy,r!==null&&Hg(r,o.deps)){s.memoizedState=ec(e,n,i,r);return}}Ce.flags|=t,s.memoizedState=ec(1|e,n,i,r)}function _0(t,e){return Su(8390656,8,t,e)}function Vg(t,e){return Vd(2048,8,t,e)}function f1(t,e){return Vd(4,2,t,e)}function h1(t,e){return Vd(4,4,t,e)}function p1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function g1(t,e,n){return n=n!=null?n.concat([t]):null,Vd(4,4,p1.bind(null,e,t),n)}function Qg(){}function m1(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function y1(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function w1(t,e,n){return Ti&21?(Nn(n,e)||(n=Ev(),Ce.lanes|=n,Oi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tt=!0),t.memoizedState=n)}function _k(t,e){var n=fe;fe=n!==0&&4>n?n:4,t(!0);var r=Qf.transition;Qf.transition={};try{t(!1),e()}finally{fe=n,Qf.transition=r}}function v1(){return dn().memoizedState}function Nk(t,e,n){var r=Es(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},b1(t))x1(e,n);else if(n=t1(t,e,n,r),n!==null){var s=bt();_n(n,t,r,s),A1(n,e,r)}}function Tk(t,e,n){var r=Es(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(b1(t))x1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Nn(l,o)){var a=e.interleaved;a===null?(s.next=s,Mg(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=t1(t,e,s,r),n!==null&&(s=bt(),_n(n,t,r,s),A1(n,e,r))}}function b1(t){var e=t.alternate;return t===Ce||e!==null&&e===Ce}function x1(t,e){Tl=id=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function A1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Eg(t,n)}}var od={readContext:un,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},Ok={readContext:un,useCallback:function(t,e){return Mn().memoizedState=[t,e===void 0?null:e],t},useContext:un,useEffect:_0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Su(4194308,4,p1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Su(4194308,4,t,e)},useInsertionEffect:function(t,e){return Su(4,2,t,e)},useMemo:function(t,e){var n=Mn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Nk.bind(null,Ce,t),[r.memoizedState,t]},useRef:function(t){var e=Mn();return t={current:t},e.memoizedState=t},useState:P0,useDebugValue:Qg,useDeferredValue:function(t){return Mn().memoizedState=t},useTransition:function(){var t=P0(!1),e=t[0];return t=_k.bind(null,t[1]),Mn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ce,s=Mn();if(Ee){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),Qe===null)throw Error(L(349));Ti&30||o1(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,_0(l1.bind(null,r,i,t),[t]),r.flags|=2048,ec(9,a1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Mn(),e=Qe.identifierPrefix;if(Ee){var n=Ar,r=xr;n=(r&~(1<<32-Pn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Pk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ik={readContext:un,useCallback:m1,useContext:un,useEffect:Vg,useImperativeHandle:g1,useInsertionEffect:f1,useLayoutEffect:h1,useMemo:y1,useReducer:Wf,useRef:d1,useState:function(){return Wf(Zl)},useDebugValue:Qg,useDeferredValue:function(t){var e=dn();return w1(e,Ue.memoizedState,t)},useTransition:function(){var t=Wf(Zl)[0],e=dn().memoizedState;return[t,e]},useMutableSource:s1,useSyncExternalStore:i1,useId:v1,unstable_isNewReconciler:!1},Rk={readContext:un,useCallback:m1,useContext:un,useEffect:Vg,useImperativeHandle:g1,useInsertionEffect:f1,useLayoutEffect:h1,useMemo:y1,useReducer:Jf,useRef:d1,useState:function(){return Jf(Zl)},useDebugValue:Qg,useDeferredValue:function(t){var e=dn();return Ue===null?e.memoizedState=t:w1(e,Ue.memoizedState,t)},useTransition:function(){var t=Jf(Zl)[0],e=dn().memoizedState;return[t,e]},useMutableSource:s1,useSyncExternalStore:i1,useId:v1,unstable_isNewReconciler:!1};function mn(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function np(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qd={isMounted:function(t){return(t=t._reactInternals)?Gi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bt(),s=Es(t),i=kr(r,s);i.payload=e,n!=null&&(i.callback=n),e=xs(t,i,s),e!==null&&(_n(e,t,s,r),Eu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bt(),s=Es(t),i=kr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=xs(t,i,s),e!==null&&(_n(e,t,s,r),Eu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bt(),r=Es(t),s=kr(n,r);s.tag=2,e!=null&&(s.callback=e),e=xs(t,s,r),e!==null&&(_n(e,t,r,n),Eu(e,t,r))}};function N0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ql(n,r)||!Ql(s,i):!0}function E1(t,e,n){var r=!1,s=Ps,i=e.contextType;return typeof i=="object"&&i!==null?i=un(i):(s=It(e)?_i:ut.current,r=e.contextTypes,i=(r=r!=null)?Na(t,s):Ps),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function T0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qd.enqueueReplaceState(e,e.state,null)}function rp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ug(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=un(i):(i=It(e)?_i:ut.current,s.context=Na(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(np(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Qd.enqueueReplaceState(s,s.state,null),rd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ra(t,e){try{var n="",r=e;do n+=aE(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Kf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Bk=typeof WeakMap=="function"?WeakMap:Map;function k1(t,e,n){n=kr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ld||(ld=!0,pp=r),sp(t,e)},n}function S1(t,e,n){n=kr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){sp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){sp(t,e),typeof r!="function"&&(As===null?As=new Set([this]):As.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function O0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Bk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Jk.bind(null,t,e,n),e.then(t,t))}function I0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function R0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=kr(-1,1),e.tag=2,xs(n,e,1))),n.lanes|=1),t)}var Lk=Rr.ReactCurrentOwner,Tt=!1;function ht(t,e,n,r){e.child=t===null?e1(e,null,n,r):Oa(e,t.child,n,r)}function B0(t,e,n,r,s){n=n.render;var i=e.ref;return Do(e,s),r=$g(t,e,n,r,i,s),n=Gg(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Tr(t,e,s)):(Ee&&n&&Og(e),e.flags|=1,ht(t,e,r,s),e.child)}function L0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!em(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,C1(t,e,i,r,s)):(t=Nu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ql,n(o,r)&&t.ref===e.ref)return Tr(t,e,s)}return e.flags|=1,t=ks(i,r),t.ref=e.ref,t.return=e,e.child=t}function C1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ql(i,r)&&t.ref===e.ref)if(Tt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Tt=!0);else return e.lanes=t.lanes,Tr(t,e,s)}return ip(t,e,n,r,s)}function P1(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(Eo,Gt),Gt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,me(Eo,Gt),Gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,me(Eo,Gt),Gt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,me(Eo,Gt),Gt|=r;return ht(t,e,s,n),e.child}function _1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ip(t,e,n,r,s){var i=It(n)?_i:ut.current;return i=Na(e,i),Do(e,s),n=$g(t,e,n,r,i,s),r=Gg(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Tr(t,e,s)):(Ee&&r&&Og(e),e.flags|=1,ht(t,e,n,s),e.child)}function D0(t,e,n,r,s){if(It(n)){var i=!0;Xu(e)}else i=!1;if(Do(e,s),e.stateNode===null)Cu(t,e),E1(e,n,r),rp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=un(c):(c=It(n)?_i:ut.current,c=Na(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&T0(e,o,r,c),Vr=!1;var f=e.memoizedState;o.state=f,rd(e,r,o,s),a=e.memoizedState,l!==r||f!==a||Ot.current||Vr?(typeof u=="function"&&(np(e,n,u,r),a=e.memoizedState),(l=Vr||N0(e,n,l,r,f,a,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,n1(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:mn(e.type,l),o.props=c,d=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=un(a):(a=It(n)?_i:ut.current,a=Na(e,a));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==a)&&T0(e,o,r,a),Vr=!1,f=e.memoizedState,o.state=f,rd(e,r,o,s);var g=e.memoizedState;l!==d||f!==g||Ot.current||Vr?(typeof p=="function"&&(np(e,n,p,r),g=e.memoizedState),(c=Vr||N0(e,n,c,r,f,g,a)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return op(t,e,n,r,i,s)}function op(t,e,n,r,s,i){_1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&x0(e,n,!1),Tr(t,e,i);r=e.stateNode,Lk.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Oa(e,t.child,null,i),e.child=Oa(e,null,l,i)):ht(t,e,l,i),e.memoizedState=r.state,s&&x0(e,n,!0),e.child}function N1(t){var e=t.stateNode;e.pendingContext?b0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&b0(t,e.context,!1),Fg(t,e.containerInfo)}function M0(t,e,n,r,s){return Ta(),Rg(s),e.flags|=256,ht(t,e,n,r),e.child}var ap={dehydrated:null,treeContext:null,retryLane:0};function lp(t){return{baseLanes:t,cachePool:null,transitions:null}}function T1(t,e,n){var r=e.pendingProps,s=ke.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),me(ke,s&1),t===null)return ep(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Kd(o,r,0,null),t=Si(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=lp(n),e.memoizedState=ap,t):Wg(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Dk(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=ks(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ks(l,i):(i=Si(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?lp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ap,r}return i=t.child,t=i.sibling,r=ks(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Wg(t,e){return e=Kd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function eu(t,e,n,r){return r!==null&&Rg(r),Oa(e,t.child,null,n),t=Wg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Dk(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Kf(Error(L(422))),eu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Kd({mode:"visible",children:r.children},s,0,null),i=Si(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Oa(e,t.child,null,o),e.child.memoizedState=lp(o),e.memoizedState=ap,i);if(!(e.mode&1))return eu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(L(419)),r=Kf(i,r,void 0),eu(t,e,o,r)}if(l=(o&t.childLanes)!==0,Tt||l){if(r=Qe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nr(t,s),_n(r,t,s,-1))}return Zg(),r=Kf(Error(L(421))),eu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Kk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Vt=bs(s.nextSibling),Qt=e,Ee=!0,Sn=null,t!==null&&(sn[on++]=xr,sn[on++]=Ar,sn[on++]=Ni,xr=t.id,Ar=t.overflow,Ni=e),e=Wg(e,r.children),e.flags|=4096,e)}function U0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),tp(t.return,e,n)}function Yf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function O1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ht(t,e,r.children,n),r=ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&U0(t,n,e);else if(t.tag===19)U0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(me(ke,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&sd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Yf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&sd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Yf(e,!0,n,null,i);break;case"together":Yf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Tr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Oi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=ks(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ks(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Mk(t,e,n){switch(e.tag){case 3:N1(e),Ta();break;case 5:r1(e);break;case 1:It(e.type)&&Xu(e);break;case 4:Fg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;me(td,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(me(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?T1(t,e,n):(me(ke,ke.current&1),t=Tr(t,e,n),t!==null?t.sibling:null);me(ke,ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return O1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),me(ke,ke.current),r)break;return null;case 22:case 23:return e.lanes=0,P1(t,e,n)}return Tr(t,e,n)}var I1,cp,R1,B1;I1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cp=function(){};R1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Xs(qn.current);var i=null;switch(n){case"input":s=Oh(t,s),r=Oh(t,r),i=[];break;case"select":s=Pe({},s,{value:void 0}),r=Pe({},r,{value:void 0}),i=[];break;case"textarea":s=Bh(t,s),r=Bh(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Yu)}Dh(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var a=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fl.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&ve("scroll",t),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};B1=function(t,e,n,r){n!==r&&(e.flags|=4)};function sl(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function st(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Uk(t,e,n){var r=e.pendingProps;switch(Ig(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(e),null;case 1:return It(e.type)&&qu(),st(e),null;case 3:return r=e.stateNode,Ia(),xe(Ot),xe(ut),zg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sn!==null&&(yp(Sn),Sn=null))),cp(t,e),st(e),null;case 5:jg(e);var s=Xs(ql.current);if(n=e.type,t!==null&&e.stateNode!=null)R1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(L(166));return st(e),null}if(t=Xs(qn.current),Xc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Qn]=e,r[Kl]=i,t=(e.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(s=0;s<yl.length;s++)ve(yl[s],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":Wm(r,i),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ve("invalid",r);break;case"textarea":Km(r,i),ve("invalid",r)}Dh(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&qc(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&qc(r.textContent,l,t),s=["children",""+l]):Fl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":$c(r),Jm(r,i,!0);break;case"textarea":$c(r),Ym(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Yu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Qn]=e,t[Kl]=r,I1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Mh(n,r),n){case"dialog":ve("cancel",t),ve("close",t),s=r;break;case"iframe":case"object":case"embed":ve("load",t),s=r;break;case"video":case"audio":for(s=0;s<yl.length;s++)ve(yl[s],t);s=r;break;case"source":ve("error",t),s=r;break;case"img":case"image":case"link":ve("error",t),ve("load",t),s=r;break;case"details":ve("toggle",t),s=r;break;case"input":Wm(t,r),s=Oh(t,r),ve("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Pe({},r,{value:void 0}),ve("invalid",t);break;case"textarea":Km(t,r),s=Bh(t,r),ve("invalid",t);break;default:s=r}Dh(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?dv(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&cv(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&jl(t,a):typeof a=="number"&&jl(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fl.hasOwnProperty(i)?a!=null&&i==="onScroll"&&ve("scroll",t):a!=null&&yg(t,i,a,o))}switch(n){case"input":$c(t),Jm(t,r,!1);break;case"textarea":$c(t),Ym(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Cs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Io(t,!!r.multiple,i,!1):r.defaultValue!=null&&Io(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Yu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return st(e),null;case 6:if(t&&e.stateNode!=null)B1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(L(166));if(n=Xs(ql.current),Xs(qn.current),Xc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qn]=e,(i=r.nodeValue!==n)&&(t=Qt,t!==null))switch(t.tag){case 3:qc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qn]=e,e.stateNode=r}return st(e),null;case 13:if(xe(ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&Vt!==null&&e.mode&1&&!(e.flags&128))Xv(),Ta(),e.flags|=98560,i=!1;else if(i=Xc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(L(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[Qn]=e}else Ta(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;st(e),i=!1}else Sn!==null&&(yp(Sn),Sn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?Fe===0&&(Fe=3):Zg())),e.updateQueue!==null&&(e.flags|=4),st(e),null);case 4:return Ia(),cp(t,e),t===null&&Wl(e.stateNode.containerInfo),st(e),null;case 10:return Dg(e.type._context),st(e),null;case 17:return It(e.type)&&qu(),st(e),null;case 19:if(xe(ke),i=e.memoizedState,i===null)return st(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)sl(i,!1);else{if(Fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=sd(t),o!==null){for(e.flags|=128,sl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return me(ke,ke.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ie()>Ba&&(e.flags|=128,r=!0,sl(i,!1),e.lanes=4194304)}else{if(!r)if(t=sd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),sl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ee)return st(e),null}else 2*Ie()-i.renderingStartTime>Ba&&n!==1073741824&&(e.flags|=128,r=!0,sl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ie(),e.sibling=null,n=ke.current,me(ke,r?n&1|2:n&1),e):(st(e),null);case 22:case 23:return Xg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gt&1073741824&&(st(e),e.subtreeFlags&6&&(e.flags|=8192)):st(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function Fk(t,e){switch(Ig(e),e.tag){case 1:return It(e.type)&&qu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ia(),xe(Ot),xe(ut),zg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jg(e),null;case 13:if(xe(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));Ta()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(ke),null;case 4:return Ia(),null;case 10:return Dg(e.type._context),null;case 22:case 23:return Xg(),null;case 24:return null;default:return null}}var tu=!1,lt=!1,jk=typeof WeakSet=="function"?WeakSet:Set,H=null;function Ao(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(t,e,r)}else n.current=null}function up(t,e,n){try{n()}catch(r){Te(t,e,r)}}var F0=!1;function zk(t,e){if(Wh=Wu,t=Fv(),Tg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(l=o+s),d!==i||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===s&&(l=o),f===i&&++u===r&&(a=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jh={focusedElem:t,selectionRange:n},Wu=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,A=g.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:mn(e.type,m),A);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(k){Te(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return g=F0,F0=!1,g}function Ol(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&up(e,n,i)}s=s.next}while(s!==r)}}function Wd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function dp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function L1(t){var e=t.alternate;e!==null&&(t.alternate=null,L1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qn],delete e[Kl],delete e[qh],delete e[Ek],delete e[kk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function D1(t){return t.tag===5||t.tag===3||t.tag===4}function j0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||D1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yu));else if(r!==4&&(t=t.child,t!==null))for(fp(t,e,n),t=t.sibling;t!==null;)fp(t,e,n),t=t.sibling}function hp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hp(t,e,n),t=t.sibling;t!==null;)hp(t,e,n),t=t.sibling}var Ye=null,En=!1;function Lr(t,e,n){for(n=n.child;n!==null;)M1(t,e,n),n=n.sibling}function M1(t,e,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Fd,n)}catch{}switch(n.tag){case 5:lt||Ao(n,e);case 6:var r=Ye,s=En;Ye=null,Lr(t,e,n),Ye=r,En=s,Ye!==null&&(En?(t=Ye,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(En?(t=Ye,n=n.stateNode,t.nodeType===8?$f(t.parentNode,n):t.nodeType===1&&$f(t,n),Gl(t)):$f(Ye,n.stateNode));break;case 4:r=Ye,s=En,Ye=n.stateNode.containerInfo,En=!0,Lr(t,e,n),Ye=r,En=s;break;case 0:case 11:case 14:case 15:if(!lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&up(n,e,o),s=s.next}while(s!==r)}Lr(t,e,n);break;case 1:if(!lt&&(Ao(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Te(n,e,l)}Lr(t,e,n);break;case 21:Lr(t,e,n);break;case 22:n.mode&1?(lt=(r=lt)||n.memoizedState!==null,Lr(t,e,n),lt=r):Lr(t,e,n);break;default:Lr(t,e,n)}}function z0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new jk),e.forEach(function(r){var s=Yk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function hn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ye=l.stateNode,En=!1;break e;case 3:Ye=l.stateNode.containerInfo,En=!0;break e;case 4:Ye=l.stateNode.containerInfo,En=!0;break e}l=l.return}if(Ye===null)throw Error(L(160));M1(i,o,s),Ye=null,En=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){Te(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)U1(e,t),e=e.sibling}function U1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hn(e,t),Bn(t),r&4){try{Ol(3,t,t.return),Wd(3,t)}catch(m){Te(t,t.return,m)}try{Ol(5,t,t.return)}catch(m){Te(t,t.return,m)}}break;case 1:hn(e,t),Bn(t),r&512&&n!==null&&Ao(n,n.return);break;case 5:if(hn(e,t),Bn(t),r&512&&n!==null&&Ao(n,n.return),t.flags&32){var s=t.stateNode;try{jl(s,"")}catch(m){Te(t,t.return,m)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ov(s,i),Mh(l,o);var c=Mh(l,i);for(o=0;o<a.length;o+=2){var u=a[o],d=a[o+1];u==="style"?dv(s,d):u==="dangerouslySetInnerHTML"?cv(s,d):u==="children"?jl(s,d):yg(s,u,d,c)}switch(l){case"input":Ih(s,i);break;case"textarea":av(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Io(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Io(s,!!i.multiple,i.defaultValue,!0):Io(s,!!i.multiple,i.multiple?[]:"",!1))}s[Kl]=i}catch(m){Te(t,t.return,m)}}break;case 6:if(hn(e,t),Bn(t),r&4){if(t.stateNode===null)throw Error(L(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){Te(t,t.return,m)}}break;case 3:if(hn(e,t),Bn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gl(e.containerInfo)}catch(m){Te(t,t.return,m)}break;case 4:hn(e,t),Bn(t);break;case 13:hn(e,t),Bn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Yg=Ie())),r&4&&z0(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(lt=(c=lt)||u,hn(e,t),lt=c):hn(e,t),Bn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(H=t,u=t.child;u!==null;){for(d=H=u;H!==null;){switch(f=H,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ol(4,f,f.return);break;case 1:Ao(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Te(r,n,m)}}break;case 5:Ao(f,f.return);break;case 22:if(f.memoizedState!==null){$0(d);continue}}p!==null?(p.return=f,H=p):$0(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=uv("display",o))}catch(m){Te(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Te(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:hn(e,t),Bn(t),r&4&&z0(t);break;case 21:break;default:hn(e,t),Bn(t)}}function Bn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(D1(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(jl(s,""),r.flags&=-33);var i=j0(t);hp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=j0(t);fp(t,l,o);break;default:throw Error(L(161))}}catch(a){Te(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Hk(t,e,n){H=t,F1(t)}function F1(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||tu;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||lt;l=tu;var c=lt;if(tu=o,(lt=a)&&!c)for(H=s;H!==null;)o=H,a=o.child,o.tag===22&&o.memoizedState!==null?G0(s):a!==null?(a.return=o,H=a):G0(s);for(;i!==null;)H=i,F1(i),i=i.sibling;H=s,tu=l,lt=c}H0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):H0(t)}}function H0(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:lt||Wd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!lt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:mn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&C0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}C0(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Gl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}lt||e.flags&512&&dp(e)}catch(f){Te(e,e.return,f)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function $0(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function G0(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wd(4,e)}catch(a){Te(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){Te(e,s,a)}}var i=e.return;try{dp(e)}catch(a){Te(e,i,a)}break;case 5:var o=e.return;try{dp(e)}catch(a){Te(e,o,a)}}}catch(a){Te(e,e.return,a)}if(e===t){H=null;break}var l=e.sibling;if(l!==null){l.return=e.return,H=l;break}H=e.return}}var $k=Math.ceil,ad=Rr.ReactCurrentDispatcher,Jg=Rr.ReactCurrentOwner,ln=Rr.ReactCurrentBatchConfig,le=0,Qe=null,De=null,Ze=0,Gt=0,Eo=Is(0),Fe=0,tc=null,Oi=0,Jd=0,Kg=0,Il=null,Pt=null,Yg=0,Ba=1/0,tr=null,ld=!1,pp=null,As=null,nu=!1,ms=null,cd=0,Rl=0,gp=null,Pu=-1,_u=0;function bt(){return le&6?Ie():Pu!==-1?Pu:Pu=Ie()}function Es(t){return t.mode&1?le&2&&Ze!==0?Ze&-Ze:Ck.transition!==null?(_u===0&&(_u=Ev()),_u):(t=fe,t!==0||(t=window.event,t=t===void 0?16:Tv(t.type)),t):1}function _n(t,e,n,r){if(50<Rl)throw Rl=0,gp=null,Error(L(185));Pc(t,n,r),(!(le&2)||t!==Qe)&&(t===Qe&&(!(le&2)&&(Jd|=n),Fe===4&&Kr(t,Ze)),Rt(t,r),n===1&&le===0&&!(e.mode&1)&&(Ba=Ie()+500,Gd&&Rs()))}function Rt(t,e){var n=t.callbackNode;CE(t,e);var r=Qu(t,t===Qe?Ze:0);if(r===0)n!==null&&Zm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Zm(n),e===1)t.tag===0?Sk(V0.bind(null,t)):Kv(V0.bind(null,t)),xk(function(){!(le&6)&&Rs()}),n=null;else{switch(kv(r)){case 1:n=Ag;break;case 4:n=xv;break;case 16:n=Vu;break;case 536870912:n=Av;break;default:n=Vu}n=W1(n,j1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function j1(t,e){if(Pu=-1,_u=0,le&6)throw Error(L(327));var n=t.callbackNode;if(Mo()&&t.callbackNode!==n)return null;var r=Qu(t,t===Qe?Ze:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ud(t,r);else{e=r;var s=le;le|=2;var i=H1();(Qe!==t||Ze!==e)&&(tr=null,Ba=Ie()+500,ki(t,e));do try{Qk();break}catch(l){z1(t,l)}while(!0);Lg(),ad.current=i,le=s,De!==null?e=0:(Qe=null,Ze=0,e=Fe)}if(e!==0){if(e===2&&(s=Hh(t),s!==0&&(r=s,e=mp(t,s))),e===1)throw n=tc,ki(t,0),Kr(t,r),Rt(t,Ie()),n;if(e===6)Kr(t,r);else{if(s=t.current.alternate,!(r&30)&&!Gk(s)&&(e=ud(t,r),e===2&&(i=Hh(t),i!==0&&(r=i,e=mp(t,i))),e===1))throw n=tc,ki(t,0),Kr(t,r),Rt(t,Ie()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(L(345));case 2:js(t,Pt,tr);break;case 3:if(Kr(t,r),(r&130023424)===r&&(e=Yg+500-Ie(),10<e)){if(Qu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){bt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Yh(js.bind(null,t,Pt,tr),e);break}js(t,Pt,tr);break;case 4:if(Kr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Pn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$k(r/1960))-r,10<r){t.timeoutHandle=Yh(js.bind(null,t,Pt,tr),r);break}js(t,Pt,tr);break;case 5:js(t,Pt,tr);break;default:throw Error(L(329))}}}return Rt(t,Ie()),t.callbackNode===n?j1.bind(null,t):null}function mp(t,e){var n=Il;return t.current.memoizedState.isDehydrated&&(ki(t,e).flags|=256),t=ud(t,e),t!==2&&(e=Pt,Pt=n,e!==null&&yp(e)),t}function yp(t){Pt===null?Pt=t:Pt.push.apply(Pt,t)}function Gk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Nn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Kr(t,e){for(e&=~Kg,e&=~Jd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pn(e),r=1<<n;t[n]=-1,e&=~r}}function V0(t){if(le&6)throw Error(L(327));Mo();var e=Qu(t,0);if(!(e&1))return Rt(t,Ie()),null;var n=ud(t,e);if(t.tag!==0&&n===2){var r=Hh(t);r!==0&&(e=r,n=mp(t,r))}if(n===1)throw n=tc,ki(t,0),Kr(t,e),Rt(t,Ie()),n;if(n===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,js(t,Pt,tr),Rt(t,Ie()),null}function qg(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(Ba=Ie()+500,Gd&&Rs())}}function Ii(t){ms!==null&&ms.tag===0&&!(le&6)&&Mo();var e=le;le|=1;var n=ln.transition,r=fe;try{if(ln.transition=null,fe=1,t)return t()}finally{fe=r,ln.transition=n,le=e,!(le&6)&&Rs()}}function Xg(){Gt=Eo.current,xe(Eo)}function ki(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bk(n)),De!==null)for(n=De.return;n!==null;){var r=n;switch(Ig(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qu();break;case 3:Ia(),xe(Ot),xe(ut),zg();break;case 5:jg(r);break;case 4:Ia();break;case 13:xe(ke);break;case 19:xe(ke);break;case 10:Dg(r.type._context);break;case 22:case 23:Xg()}n=n.return}if(Qe=t,De=t=ks(t.current,null),Ze=Gt=e,Fe=0,tc=null,Kg=Jd=Oi=0,Pt=Il=null,qs!==null){for(e=0;e<qs.length;e++)if(n=qs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}qs=null}return t}function z1(t,e){do{var n=De;try{if(Lg(),ku.current=od,id){for(var r=Ce.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}id=!1}if(Ti=0,$e=Ue=Ce=null,Tl=!1,Xl=0,Jg.current=null,n===null||n.return===null){Fe=1,tc=e,De=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=Ze,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,u=l,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=I0(o);if(p!==null){p.flags&=-257,R0(p,o,l,i,e),p.mode&1&&O0(i,c,e),e=p,a=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(a),e.updateQueue=m}else g.add(a);break e}else{if(!(e&1)){O0(i,c,e),Zg();break e}a=Error(L(426))}}else if(Ee&&l.mode&1){var A=I0(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),R0(A,o,l,i,e),Rg(Ra(a,l));break e}}i=a=Ra(a,l),Fe!==4&&(Fe=2),Il===null?Il=[i]:Il.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=k1(i,a,e);S0(i,y);break e;case 1:l=a;var w=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(As===null||!As.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=S1(i,l,e);S0(i,k);break e}}i=i.return}while(i!==null)}G1(n)}catch(S){e=S,De===n&&n!==null&&(De=n=n.return);continue}break}while(!0)}function H1(){var t=ad.current;return ad.current=od,t===null?od:t}function Zg(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),Qe===null||!(Oi&268435455)&&!(Jd&268435455)||Kr(Qe,Ze)}function ud(t,e){var n=le;le|=2;var r=H1();(Qe!==t||Ze!==e)&&(tr=null,ki(t,e));do try{Vk();break}catch(s){z1(t,s)}while(!0);if(Lg(),le=n,ad.current=r,De!==null)throw Error(L(261));return Qe=null,Ze=0,Fe}function Vk(){for(;De!==null;)$1(De)}function Qk(){for(;De!==null&&!yE();)$1(De)}function $1(t){var e=Q1(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,e===null?G1(t):De=e,Jg.current=null}function G1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Fk(n,e),n!==null){n.flags&=32767,De=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fe=6,De=null;return}}else if(n=Uk(n,e,Gt),n!==null){De=n;return}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);Fe===0&&(Fe=5)}function js(t,e,n){var r=fe,s=ln.transition;try{ln.transition=null,fe=1,Wk(t,e,n,r)}finally{ln.transition=s,fe=r}return null}function Wk(t,e,n,r){do Mo();while(ms!==null);if(le&6)throw Error(L(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(PE(t,i),t===Qe&&(De=Qe=null,Ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nu||(nu=!0,W1(Vu,function(){return Mo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ln.transition,ln.transition=null;var o=fe;fe=1;var l=le;le|=4,Jg.current=null,zk(t,n),U1(n,t),hk(Jh),Wu=!!Wh,Jh=Wh=null,t.current=n,Hk(n),wE(),le=l,fe=o,ln.transition=i}else t.current=n;if(nu&&(nu=!1,ms=t,cd=s),i=t.pendingLanes,i===0&&(As=null),xE(n.stateNode),Rt(t,Ie()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ld)throw ld=!1,t=pp,pp=null,t;return cd&1&&t.tag!==0&&Mo(),i=t.pendingLanes,i&1?t===gp?Rl++:(Rl=0,gp=t):Rl=0,Rs(),null}function Mo(){if(ms!==null){var t=kv(cd),e=ln.transition,n=fe;try{if(ln.transition=null,fe=16>t?16:t,ms===null)var r=!1;else{if(t=ms,ms=null,cd=0,le&6)throw Error(L(331));var s=le;for(le|=4,H=t.current;H!==null;){var i=H,o=i.child;if(H.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(H=c;H!==null;){var u=H;switch(u.tag){case 0:case 11:case 15:Ol(8,u,i)}var d=u.child;if(d!==null)d.return=u,H=d;else for(;H!==null;){u=H;var f=u.sibling,p=u.return;if(L1(u),u===c){H=null;break}if(f!==null){f.return=p,H=f;break}H=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var A=m.sibling;m.sibling=null,m=A}while(m!==null)}}H=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,H=o;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ol(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,H=y;break e}H=i.return}}var w=t.current;for(H=w;H!==null;){o=H;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,H=v;else e:for(o=w;H!==null;){if(l=H,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Wd(9,l)}}catch(S){Te(l,l.return,S)}if(l===o){H=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,H=k;break e}H=l.return}}if(le=s,Rs(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Fd,t)}catch{}r=!0}return r}finally{fe=n,ln.transition=e}}return!1}function Q0(t,e,n){e=Ra(n,e),e=k1(t,e,1),t=xs(t,e,1),e=bt(),t!==null&&(Pc(t,1,e),Rt(t,e))}function Te(t,e,n){if(t.tag===3)Q0(t,t,n);else for(;e!==null;){if(e.tag===3){Q0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(As===null||!As.has(r))){t=Ra(n,t),t=S1(e,t,1),e=xs(e,t,1),t=bt(),e!==null&&(Pc(e,1,t),Rt(e,t));break}}e=e.return}}function Jk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bt(),t.pingedLanes|=t.suspendedLanes&n,Qe===t&&(Ze&n)===n&&(Fe===4||Fe===3&&(Ze&130023424)===Ze&&500>Ie()-Yg?ki(t,0):Kg|=n),Rt(t,e)}function V1(t,e){e===0&&(t.mode&1?(e=Qc,Qc<<=1,!(Qc&130023424)&&(Qc=4194304)):e=1);var n=bt();t=Nr(t,e),t!==null&&(Pc(t,e,n),Rt(t,n))}function Kk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),V1(t,n)}function Yk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(e),V1(t,n)}var Q1;Q1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ot.current)Tt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tt=!1,Mk(t,e,n);Tt=!!(t.flags&131072)}else Tt=!1,Ee&&e.flags&1048576&&Yv(e,ed,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cu(t,e),t=e.pendingProps;var s=Na(e,ut.current);Do(e,n),s=$g(null,e,r,t,s,n);var i=Gg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,It(r)?(i=!0,Xu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ug(e),s.updater=Qd,e.stateNode=s,s._reactInternals=e,rp(e,r,t,n),e=op(null,e,r,!0,i,n)):(e.tag=0,Ee&&i&&Og(e),ht(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Cu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Xk(r),t=mn(r,t),s){case 0:e=ip(null,e,r,t,n);break e;case 1:e=D0(null,e,r,t,n);break e;case 11:e=B0(null,e,r,t,n);break e;case 14:e=L0(null,e,r,mn(r.type,t),n);break e}throw Error(L(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mn(r,s),ip(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mn(r,s),D0(t,e,r,s,n);case 3:e:{if(N1(e),t===null)throw Error(L(387));r=e.pendingProps,i=e.memoizedState,s=i.element,n1(t,e),rd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ra(Error(L(423)),e),e=M0(t,e,r,n,s);break e}else if(r!==s){s=Ra(Error(L(424)),e),e=M0(t,e,r,n,s);break e}else for(Vt=bs(e.stateNode.containerInfo.firstChild),Qt=e,Ee=!0,Sn=null,n=e1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ta(),r===s){e=Tr(t,e,n);break e}ht(t,e,r,n)}e=e.child}return e;case 5:return r1(e),t===null&&ep(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Kh(r,s)?o=null:i!==null&&Kh(r,i)&&(e.flags|=32),_1(t,e),ht(t,e,o,n),e.child;case 6:return t===null&&ep(e),null;case 13:return T1(t,e,n);case 4:return Fg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Oa(e,null,r,n):ht(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mn(r,s),B0(t,e,r,s,n);case 7:return ht(t,e,e.pendingProps,n),e.child;case 8:return ht(t,e,e.pendingProps.children,n),e.child;case 12:return ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,me(td,r._currentValue),r._currentValue=o,i!==null)if(Nn(i.value,o)){if(i.children===s.children&&!Ot.current){e=Tr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=kr(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?a.next=a:(a.next=u.next,u.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),tp(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(L(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),tp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ht(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Do(e,n),s=un(s),r=r(s),e.flags|=1,ht(t,e,r,n),e.child;case 14:return r=e.type,s=mn(r,e.pendingProps),s=mn(r.type,s),L0(t,e,r,s,n);case 15:return C1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mn(r,s),Cu(t,e),e.tag=1,It(r)?(t=!0,Xu(e)):t=!1,Do(e,n),E1(e,r,s),rp(e,r,s,n),op(null,e,r,!0,t,n);case 19:return O1(t,e,n);case 22:return P1(t,e,n)}throw Error(L(156,e.tag))};function W1(t,e){return bv(t,e)}function qk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,e,n,r){return new qk(t,e,n,r)}function em(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xk(t){if(typeof t=="function")return em(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vg)return 11;if(t===bg)return 14}return 2}function ks(t,e){var n=t.alternate;return n===null?(n=an(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")em(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ho:return Si(n.children,s,i,e);case wg:o=8,s|=8;break;case Ph:return t=an(12,n,e,s|2),t.elementType=Ph,t.lanes=i,t;case _h:return t=an(13,n,e,s),t.elementType=_h,t.lanes=i,t;case Nh:return t=an(19,n,e,s),t.elementType=Nh,t.lanes=i,t;case rv:return Kd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tv:o=10;break e;case nv:o=9;break e;case vg:o=11;break e;case bg:o=14;break e;case Gr:o=16,r=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=an(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Si(t,e,n,r){return t=an(7,t,r,e),t.lanes=n,t}function Kd(t,e,n,r){return t=an(22,t,r,e),t.elementType=rv,t.lanes=n,t.stateNode={isHidden:!1},t}function qf(t,e,n){return t=an(6,t,null,e),t.lanes=n,t}function Xf(t,e,n){return e=an(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Zk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=If(0),this.expirationTimes=If(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=If(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function tm(t,e,n,r,s,i,o,l,a){return t=new Zk(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=an(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ug(i),t}function e2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function J1(t){if(!t)return Ps;t=t._reactInternals;e:{if(Gi(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(It(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var n=t.type;if(It(n))return Jv(t,n,e)}return e}function K1(t,e,n,r,s,i,o,l,a){return t=tm(n,r,!0,t,s,i,o,l,a),t.context=J1(null),n=t.current,r=bt(),s=Es(n),i=kr(r,s),i.callback=e??null,xs(n,i,s),t.current.lanes=s,Pc(t,s,r),Rt(t,r),t}function Yd(t,e,n,r){var s=e.current,i=bt(),o=Es(s);return n=J1(n),e.context===null?e.context=n:e.pendingContext=n,e=kr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xs(s,e,o),t!==null&&(_n(t,s,o,i),Eu(t,s,o)),o}function dd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function W0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function nm(t,e){W0(t,e),(t=t.alternate)&&W0(t,e)}function t2(){return null}var Y1=typeof reportError=="function"?reportError:function(t){console.error(t)};function rm(t){this._internalRoot=t}qd.prototype.render=rm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));Yd(t,e,null,null)};qd.prototype.unmount=rm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ii(function(){Yd(null,t,null,null)}),e[_r]=null}};function qd(t){this._internalRoot=t}qd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Pv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jr.length&&e!==0&&e<Jr[n].priority;n++);Jr.splice(n,0,t),n===0&&Nv(t)}};function sm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function J0(){}function n2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=dd(o);i.call(c)}}var o=K1(e,r,t,0,null,!1,!1,"",J0);return t._reactRootContainer=o,t[_r]=o.current,Wl(t.nodeType===8?t.parentNode:t),Ii(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=dd(a);l.call(c)}}var a=tm(t,0,!1,null,null,!1,!1,"",J0);return t._reactRootContainer=a,t[_r]=a.current,Wl(t.nodeType===8?t.parentNode:t),Ii(function(){Yd(e,a,n,r)}),a}function Zd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=dd(o);l.call(a)}}Yd(e,o,t,s)}else o=n2(n,e,t,s,r);return dd(o)}Sv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ml(e.pendingLanes);n!==0&&(Eg(e,n|1),Rt(e,Ie()),!(le&6)&&(Ba=Ie()+500,Rs()))}break;case 13:Ii(function(){var r=Nr(t,1);if(r!==null){var s=bt();_n(r,t,1,s)}}),nm(t,1)}};kg=function(t){if(t.tag===13){var e=Nr(t,134217728);if(e!==null){var n=bt();_n(e,t,134217728,n)}nm(t,134217728)}};Cv=function(t){if(t.tag===13){var e=Es(t),n=Nr(t,e);if(n!==null){var r=bt();_n(n,t,e,r)}nm(t,e)}};Pv=function(){return fe};_v=function(t,e){var n=fe;try{return fe=t,e()}finally{fe=n}};Fh=function(t,e,n){switch(e){case"input":if(Ih(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=$d(r);if(!s)throw Error(L(90));iv(r),Ih(r,s)}}}break;case"textarea":av(t,n);break;case"select":e=n.value,e!=null&&Io(t,!!n.multiple,e,!1)}};pv=qg;gv=Ii;var r2={usingClientEntryPoint:!1,Events:[Nc,yo,$d,fv,hv,qg]},il={findFiberByHostInstance:Ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},s2={bundleType:il.bundleType,version:il.version,rendererPackageName:il.rendererPackageName,rendererConfig:il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wv(t),t===null?null:t.stateNode},findFiberByHostInstance:il.findFiberByHostInstance||t2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{Fd=ru.inject(s2),Yn=ru}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r2;Jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sm(e))throw Error(L(200));return e2(t,e,null,n)};Jt.createRoot=function(t,e){if(!sm(t))throw Error(L(299));var n=!1,r="",s=Y1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=tm(t,1,!1,null,null,n,!1,r,s),t[_r]=e.current,Wl(t.nodeType===8?t.parentNode:t),new rm(e)};Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=wv(e),t=t===null?null:t.stateNode,t};Jt.flushSync=function(t){return Ii(t)};Jt.hydrate=function(t,e,n){if(!Xd(e))throw Error(L(200));return Zd(null,t,e,!0,n)};Jt.hydrateRoot=function(t,e,n){if(!sm(t))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Y1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=K1(e,null,t,1,n??null,s,!1,i,o),t[_r]=e.current,Wl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new qd(e)};Jt.render=function(t,e,n){if(!Xd(e))throw Error(L(200));return Zd(null,t,e,!1,n)};Jt.unmountComponentAtNode=function(t){if(!Xd(t))throw Error(L(40));return t._reactRootContainer?(Ii(function(){Zd(null,null,t,!1,function(){t._reactRootContainer=null,t[_r]=null})}),!0):!1};Jt.unstable_batchedUpdates=qg;Jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xd(n))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return Zd(t,e,n,!1,r)};Jt.version="18.3.1-next-f1338f8080-20240426";function q1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(q1)}catch(t){console.error(t)}}q1(),qw.exports=Jt;var i2=qw.exports,X1,K0=i2;X1=K0.createRoot,K0.hydrateRoot;let o2={data:""},a2=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||o2,l2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,c2=/\/\*[^]*?\*\/|  +/g,Y0=/\n+/g,Yr=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?Yr(o,i):i+"{"+Yr(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=Yr(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,a=>/&/.test(a)?a.replace(/&/g,l):l?l+" "+a:a)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Yr.p?Yr.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},Zn={},Z1=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Z1(t[n]);return e}return t},u2=(t,e,n,r,s)=>{let i=Z1(t),o=Zn[i]||(Zn[i]=(a=>{let c=0,u=11;for(;c<a.length;)u=101*u+a.charCodeAt(c++)>>>0;return"go"+u})(i));if(!Zn[o]){let a=i!==t?t:(c=>{let u,d,f=[{}];for(;u=l2.exec(c.replace(c2,""));)u[4]?f.shift():u[3]?(d=u[3].replace(Y0," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][u[1]]=u[2].replace(Y0," ").trim();return f[0]})(t);Zn[o]=Yr(s?{["@keyframes "+o]:a}:a,n?"":"."+o)}let l=n&&Zn.g?Zn.g:null;return n&&(Zn.g=Zn[o]),((a,c,u,d)=>{d?c.data=c.data.replace(d,a):c.data.indexOf(a)===-1&&(c.data=u?a+c.data:c.data+a)})(Zn[o],e,r,l),o},d2=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let l=o(n),a=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=a?"."+a:l&&typeof l=="object"?l.props?"":Yr(l,""):l===!1?"":l}return r+s+(o??"")},"");function ef(t){let e=this||{},n=t.call?t(e.p):t;return u2(n.unshift?n.raw?d2(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,a2(e.target),e.g,e.o,e.k)}let eb,wp,vp;ef.bind({g:1});let Or=ef.bind({k:1});function f2(t,e,n,r){Yr.p=e,eb=t,wp=n,vp=r}function Bs(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let l=Object.assign({},i),a=l.className||s.className;n.p=Object.assign({theme:wp&&wp()},l),n.o=/ *go\d+/.test(a),l.className=ef.apply(n,r)+(a?" "+a:"");let c=t;return t[0]&&(c=l.as||t,delete l.as),vp&&c[0]&&vp(l),eb(c,l)}return s}}var h2=t=>typeof t=="function",fd=(t,e)=>h2(t)?t(e):t,p2=(()=>{let t=0;return()=>(++t).toString()})(),tb=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),g2=20,nb=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,g2)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return nb(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Tu=[],Ou={toasts:[],pausedAt:void 0},Vi=t=>{Ou=nb(Ou,t),Tu.forEach(e=>{e(Ou)})},m2={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},y2=(t={})=>{let[e,n]=M.useState(Ou);M.useEffect(()=>(Tu.push(n),()=>{let s=Tu.indexOf(n);s>-1&&Tu.splice(s,1)}),[e]);let r=e.toasts.map(s=>{var i,o,l;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((i=t[s.type])==null?void 0:i.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((o=t[s.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||m2[s.type],style:{...t.style,...(l=t[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:r}},w2=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||p2()}),Oc=t=>(e,n)=>{let r=w2(e,t,n);return Vi({type:2,toast:r}),r.id},F=(t,e)=>Oc("blank")(t,e);F.error=Oc("error");F.success=Oc("success");F.loading=Oc("loading");F.custom=Oc("custom");F.dismiss=t=>{Vi({type:3,toastId:t})};F.remove=t=>Vi({type:4,toastId:t});F.promise=(t,e,n)=>{let r=F.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?fd(e.success,s):void 0;return i?F.success(i,{id:r,...n,...n==null?void 0:n.success}):F.dismiss(r),s}).catch(s=>{let i=e.error?fd(e.error,s):void 0;i?F.error(i,{id:r,...n,...n==null?void 0:n.error}):F.dismiss(r)}),t};var v2=(t,e)=>{Vi({type:1,toast:{id:t,height:e}})},b2=()=>{Vi({type:5,time:Date.now()})},Bl=new Map,x2=1e3,A2=(t,e=x2)=>{if(Bl.has(t))return;let n=setTimeout(()=>{Bl.delete(t),Vi({type:4,toastId:t})},e);Bl.set(t,n)},E2=t=>{let{toasts:e,pausedAt:n}=y2(t);M.useEffect(()=>{if(n)return;let i=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let a=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(a<0){l.visible&&F.dismiss(l.id);return}return setTimeout(()=>F.dismiss(l.id),a)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,n]);let r=M.useCallback(()=>{n&&Vi({type:6,time:Date.now()})},[n]),s=M.useCallback((i,o)=>{let{reverseOrder:l=!1,gutter:a=8,defaultPosition:c}=o||{},u=e.filter(p=>(p.position||c)===(i.position||c)&&p.height),d=u.findIndex(p=>p.id===i.id),f=u.filter((p,g)=>g<d&&p.visible).length;return u.filter(p=>p.visible).slice(...l?[f+1]:[0,f]).reduce((p,g)=>p+(g.height||0)+a,0)},[e]);return M.useEffect(()=>{e.forEach(i=>{if(i.dismissed)A2(i.id,i.removeDelay);else{let o=Bl.get(i.id);o&&(clearTimeout(o),Bl.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:v2,startPause:b2,endPause:r,calculateOffset:s}}},k2=Or`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,S2=Or`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,C2=Or`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,P2=Bs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${k2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${S2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${C2} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_2=Or`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,N2=Bs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${_2} 1s linear infinite;
`,T2=Or`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,O2=Or`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,I2=Bs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${T2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${O2} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,R2=Bs("div")`
  position: absolute;
`,B2=Bs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,L2=Or`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,D2=Bs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${L2} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,M2=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?M.createElement(D2,null,e):e:n==="blank"?null:M.createElement(B2,null,M.createElement(N2,{...r}),n!=="loading"&&M.createElement(R2,null,n==="error"?M.createElement(P2,{...r}):M.createElement(I2,{...r})))},U2=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,F2=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,j2="0%{opacity:0;} 100%{opacity:1;}",z2="0%{opacity:1;} 100%{opacity:0;}",H2=Bs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,$2=Bs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,G2=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=tb()?[j2,z2]:[U2(n),F2(n)];return{animation:e?`${Or(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Or(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},V2=M.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?G2(t.position||e||"top-center",t.visible):{opacity:0},i=M.createElement(M2,{toast:t}),o=M.createElement($2,{...t.ariaProps},fd(t.message,t));return M.createElement(H2,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):M.createElement(M.Fragment,null,i,o))});f2(M.createElement);var Q2=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=M.useCallback(o=>{if(o){let l=()=>{let a=o.getBoundingClientRect().height;r(t,a)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return M.createElement("div",{ref:i,className:e,style:n},s)},W2=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:tb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},J2=ef`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,su=16,K2=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:a}=E2(n);return M.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:su,left:su,right:su,bottom:su,pointerEvents:"none",...i},className:o,onMouseEnter:a.startPause,onMouseLeave:a.endPause},l.map(c=>{let u=c.position||e,d=a.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),f=W2(u,d);return M.createElement(Q2,{id:c.id,key:c.id,onHeightUpdate:a.updateHeight,className:c.visible?J2:"",style:f},c.type==="custom"?fd(c.message,c):s?s(c):M.createElement(V2,{toast:c,position:u}))}))};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),we=(t,e)=>{const n=M.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...c},u)=>M.createElement("svg",{ref:u,...Y2,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${q2(t)}`,l].join(" "),...c},[...e.map(([d,f])=>M.createElement(d,f)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=we("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=we("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=we("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=we("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=we("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=we("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=we("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=we("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=we("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=we("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=we("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=we("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=we("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=we("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=we("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=we("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=we("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=we("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gS="6.13.4";function mS(t,e,n){const r=e.split("|").map(i=>i.trim());for(let i=0;i<r.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${n}`,s.value=t,s}async function pt(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,s,i)=>(r[e[i]]=s,r),{})}function J(t,e,n){for(let r in e){let s=e[r];const i=n?n[r]:null;i&&mS(s,i,r),Object.defineProperty(t,r,{enumerable:!0,value:s,writable:!1})}}function ko(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(ko).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let n="0x";for(let r=0;r<t.length;r++)n+=e[t[r]>>4],n+=e[t[r]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return ko(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map(n=>`${ko(n)}: ${ko(t[n])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Xe(t,e){return t&&t.code===e}function am(t){return Xe(t,"CALL_EXCEPTION")}function _e(t,e,n){let r=t;{const i=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${ko(n)}`);for(const o in n){if(o==="shortMessage")continue;const l=n[o];i.push(o+"="+ko(l))}}i.push(`code=${e}`),i.push(`version=${gS}`),i.length&&(t+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(t);break;default:s=new Error(t)}return J(s,{code:e}),n&&Object.assign(s,n),s.shortMessage==null&&J(s,{shortMessage:r}),s}function O(t,e,n,r){if(!t)throw _e(e,n,r)}function E(t,e,n,r){O(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function ob(t,e,n){n==null&&(n=""),n&&(n=": "+n),O(t>=e,"missing arguemnt"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),O(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");t.push(e)}catch{}return t},[]);function Ic(t,e,n){if(n==null&&(n=""),t!==e){let r=n,s="new";n&&(r+=".",s+=" "+n),O(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function ab(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let s=2;for(let i=0;i<r.length;i++)r[i]=parseInt(t.substring(s,s+2),16),s+=2;return r}E(!1,"invalid BytesLike value",e||"value",t)}function ae(t,e){return ab(t,e,!1)}function gt(t,e){return ab(t,e,!0)}function ye(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function lm(t){return ye(t,!0)||t instanceof Uint8Array}const ey="0123456789abcdef";function $(t){const e=ae(t);let n="0x";for(let r=0;r<e.length;r++){const s=e[r];n+=ey[(s&240)>>4]+ey[s&15]}return n}function Le(t){return"0x"+t.map(e=>$(e).substring(2)).join("")}function Uo(t){return ye(t,!0)?(t.length-2)/2:ae(t).length}function Ne(t,e,n){const r=ae(t);return n!=null&&n>r.length&&O(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),$(r.slice(e??0,n??r.length))}function lb(t,e,n){const r=ae(t);O(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),n?s.set(r,e-r.length):s.set(r,0),$(s)}function Ri(t,e){return lb(t,e,!0)}function yS(t,e){return lb(t,e,!1)}const tf=BigInt(0),Cn=BigInt(1),So=9007199254740991;function hd(t,e){const n=nf(t,"value"),r=BigInt(X(e,"width"));if(O(n>>r===tf,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-Cn){const s=(Cn<<r)-Cn;return-((~n&s)+Cn)}return n}function cb(t,e){let n=G(t,"value");const r=BigInt(X(e,"width")),s=Cn<<r-Cn;if(n<tf){n=-n,O(n<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const i=(Cn<<r)-Cn;return(~n&i)+Cn}else O(n<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function Zs(t,e){const n=nf(t,"value"),r=BigInt(X(e,"bits"));return n&(Cn<<r)-Cn}function G(t,e){switch(typeof t){case"bigint":return t;case"number":return E(Number.isInteger(t),"underflow",e||"value",t),E(t>=-So&&t<=So,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){E(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}E(!1,"invalid BigNumberish value",e||"value",t)}function nf(t,e){const n=G(t,e);return O(n>=tf,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const ty="0123456789abcdef";function rf(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=ty[n>>4],e+=ty[n&15];return BigInt(e)}return G(t)}function X(t,e){switch(typeof t){case"bigint":return E(t>=-So&&t<=So,"overflow",e||"value",t),Number(t);case"number":return E(Number.isInteger(t),"underflow",e||"value",t),E(t>=-So&&t<=So,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return X(BigInt(t),e)}catch(n){E(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}E(!1,"invalid numeric value",e||"value",t)}function wS(t){return X(rf(t))}function _s(t,e){let r=nf(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const s=X(e,"width");for(O(s*2>=r.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<s*2;)r="0"+r}return"0x"+r}function mt(t){const e=nf(t,"value");if(e===tf)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let s=0;s<r.length;s++){const i=s*2;r[s]=parseInt(n.substring(i,i+2),16)}return r}function Co(t){let e=$(lm(t)?t:mt(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const ny="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const ry=BigInt(58);function vS(t){const e=ae(t);let n=rf(e),r="";for(;n;)r=ny[Number(n%ry)]+r,n/=ry;for(let s=0;s<e.length&&!e[s];s++)r=ny[0]+r;return r}function bS(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return ae(e)}function xS(t){const e=ae(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}var $o;class ub{constructor(e,n,r){C(this,"filter");C(this,"emitter");P(this,$o);x(this,$o,n),J(this,{emitter:e,filter:r})}async removeListener(){h(this,$o)!=null&&await this.emitter.off(this.filter,h(this,$o))}}$o=new WeakMap;function AS(t,e,n,r,s){E(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function db(t,e,n,r,s){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let i=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)i++;return i}return t==="OVERRUN"?n.length-e-1:0}function ES(t,e,n,r,s){return t==="OVERLONG"?(E(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),db(t,e,n))}const kS=Object.freeze({error:AS,ignore:db,replace:ES});function SS(t,e){e==null&&(e=kS.error);const n=ae(t,"bytes"),r=[];let s=0;for(;s<n.length;){const i=n[s++];if(!(i>>7)){r.push(i);continue}let o=null,l=null;if((i&224)===192)o=1,l=127;else if((i&240)===224)o=2,l=2047;else if((i&248)===240)o=3,l=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,n,r):s+=e("BAD_PREFIX",s-1,n,r);continue}if(s-1+o>=n.length){s+=e("OVERRUN",s-1,n,r);continue}let a=i&(1<<8-o-1)-1;for(let c=0;c<o;c++){let u=n[s];if((u&192)!=128){s+=e("MISSING_CONTINUE",s,n,r),a=null;break}a=a<<6|u&63,s++}if(a!==null){if(a>1114111){s+=e("OUT_OF_RANGE",s-1-o,n,r,a);continue}if(a>=55296&&a<=57343){s+=e("UTF16_SURROGATE",s-1-o,n,r,a);continue}if(a<=l){s+=e("OVERLONG",s-1-o,n,r,a);continue}r.push(a)}}return r}function Sr(t,e){E(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const s=t.charCodeAt(r);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192),n.push(s&63|128);else if((s&64512)==55296){r++;const i=t.charCodeAt(r);E(r<t.length&&(i&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((s&1023)<<10)+(i&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128)}return new Uint8Array(n)}function CS(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function pd(t,e){return CS(SS(t,e))}function fb(t){async function e(n,r){O(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const s=n.url.split(":")[0].toLowerCase();O(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),O(s==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const o=new AbortController,l=setTimeout(()=>{i=_e("request timeout","TIMEOUT"),o.abort()},n.timeout);r&&r.addListener(()=>{i=_e("request cancelled","CANCELLED"),o.abort()});const a={method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:o.signal};let c;try{c=await fetch(n.url,a)}catch(p){throw clearTimeout(l),i||p}clearTimeout(l);const u={};c.headers.forEach((p,g)=>{u[g.toLowerCase()]=p});const d=await c.arrayBuffer(),f=d==null?null:new Uint8Array(d);return{statusCode:c.status,statusMessage:c.statusText,headers:u,body:f}}return e}const PS=12,_S=250;let sy=fb();const NS=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),TS=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Zf=!1;async function hb(t,e){try{const n=t.match(NS);if(!n)throw new Error("invalid data");return new Ss(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?bS(n[3]):IS(n[3]))}catch{return new Ss(599,"BAD REQUEST (invalid data: URI)",{},null,new Ns(t))}}function pb(t){async function e(n,r){try{const s=n.match(TS);if(!s)throw new Error("invalid link");return new Ns(`${t}${s[2]}`)}catch{return new Ss(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Ns(n))}}return e}const iu={data:hb,ipfs:pb("https://gateway.ipfs.io/ipfs/")},gb=new WeakMap;var si,Xr;class OS{constructor(e){P(this,si);P(this,Xr);x(this,si,[]),x(this,Xr,!1),gb.set(e,()=>{if(!h(this,Xr)){x(this,Xr,!0);for(const n of h(this,si))setTimeout(()=>{n()},0);x(this,si,[])}})}addListener(e){O(!h(this,Xr),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),h(this,si).push(e)}get cancelled(){return h(this,Xr)}checkSignal(){O(!this.cancelled,"cancelled","CANCELLED",{})}}si=new WeakMap,Xr=new WeakMap;function ou(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var Go,Vo,wn,lr,Qo,Wo,ze,jt,cr,ii,oi,ai,Un,vn,Zr,li,wl;const Od=class Od{constructor(e){P(this,li);P(this,Go);P(this,Vo);P(this,wn);P(this,lr);P(this,Qo);P(this,Wo);P(this,ze);P(this,jt);P(this,cr);P(this,ii);P(this,oi);P(this,ai);P(this,Un);P(this,vn);P(this,Zr);x(this,Wo,String(e)),x(this,Go,!1),x(this,Vo,!0),x(this,wn,{}),x(this,lr,""),x(this,Qo,3e5),x(this,vn,{slotInterval:_S,maxAttempts:PS}),x(this,Zr,null)}get url(){return h(this,Wo)}set url(e){x(this,Wo,String(e))}get body(){return h(this,ze)==null?null:new Uint8Array(h(this,ze))}set body(e){if(e==null)x(this,ze,void 0),x(this,jt,void 0);else if(typeof e=="string")x(this,ze,Sr(e)),x(this,jt,"text/plain");else if(e instanceof Uint8Array)x(this,ze,e),x(this,jt,"application/octet-stream");else if(typeof e=="object")x(this,ze,Sr(JSON.stringify(e))),x(this,jt,"application/json");else throw new Error("invalid body")}hasBody(){return h(this,ze)!=null}get method(){return h(this,lr)?h(this,lr):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),x(this,lr,String(e).toUpperCase())}get headers(){const e=Object.assign({},h(this,wn));return h(this,cr)&&(e.authorization=`Basic ${xS(Sr(h(this,cr)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&h(this,jt)&&(e["content-type"]=h(this,jt)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){h(this,wn)[String(e).toLowerCase()]=String(n)}clearHeaders(){x(this,wn,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const s=n[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return h(this,cr)||null}setCredentials(e,n){E(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),x(this,cr,`${e}:${n}`)}get allowGzip(){return h(this,Vo)}set allowGzip(e){x(this,Vo,!!e)}get allowInsecureAuthentication(){return!!h(this,Go)}set allowInsecureAuthentication(e){x(this,Go,!!e)}get timeout(){return h(this,Qo)}set timeout(e){E(e>=0,"timeout must be non-zero","timeout",e),x(this,Qo,e)}get preflightFunc(){return h(this,ii)||null}set preflightFunc(e){x(this,ii,e)}get processFunc(){return h(this,oi)||null}set processFunc(e){x(this,oi,e)}get retryFunc(){return h(this,ai)||null}set retryFunc(e){x(this,ai,e)}get getUrlFunc(){return h(this,Zr)||sy}set getUrlFunc(e){x(this,Zr,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${h(this,ze)?$(h(this,ze)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(h(this,vn).slotInterval=e.slotInterval),e.maxAttempts!=null&&(h(this,vn).maxAttempts=e.maxAttempts)}send(){return O(h(this,Un)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),x(this,Un,new OS(this)),I(this,li,wl).call(this,0,iy()+this.timeout,0,this,new Ss(0,"",{},null,this))}cancel(){O(h(this,Un)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=gb.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();O(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new Od(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,x(s,wn,Object.assign({},h(this,wn))),h(this,ze)&&x(s,ze,new Uint8Array(h(this,ze))),x(s,jt,h(this,jt)),s}clone(){const e=new Od(this.url);return x(e,lr,h(this,lr)),h(this,ze)&&x(e,ze,h(this,ze)),x(e,jt,h(this,jt)),x(e,wn,Object.assign({},h(this,wn))),x(e,cr,h(this,cr)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),x(e,ii,h(this,ii)),x(e,oi,h(this,oi)),x(e,ai,h(this,ai)),x(e,vn,Object.assign({},h(this,vn))),x(e,Zr,h(this,Zr)),e}static lockConfig(){Zf=!0}static getGateway(e){return iu[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Zf)throw new Error("gateways locked");iu[e]=n}static registerGetUrl(e){if(Zf)throw new Error("gateways locked");sy=e}static createGetUrlFunc(e){return fb()}static createDataGateway(){return hb}static createIpfsGatewayFunc(e){return pb(e)}};Go=new WeakMap,Vo=new WeakMap,wn=new WeakMap,lr=new WeakMap,Qo=new WeakMap,Wo=new WeakMap,ze=new WeakMap,jt=new WeakMap,cr=new WeakMap,ii=new WeakMap,oi=new WeakMap,ai=new WeakMap,Un=new WeakMap,vn=new WeakMap,Zr=new WeakMap,li=new WeakSet,wl=async function(e,n,r,s,i){var u,d,f;if(e>=h(this,vn).maxAttempts)return i.makeServerError("exceeded maximum retry limit");O(iy()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),r>0&&await RS(r);let o=this.clone();const l=(o.url.split(":")[0]||"").toLowerCase();if(l in iu){const p=await iu[l](o.url,ou(h(s,Un)));if(p instanceof Ss){let g=p;if(this.processFunc){ou(h(s,Un));try{g=await this.processFunc(o,g)}catch(m){(m.throttle==null||typeof m.stall!="number")&&g.makeServerError("error in post-processing function",m).assertOk()}}return g}o=p}this.preflightFunc&&(o=await this.preflightFunc(o));const a=await this.getUrlFunc(o,ou(h(s,Un)));let c=new Ss(a.statusCode,a.statusMessage,a.headers,a.body,s);if(c.statusCode===301||c.statusCode===302){try{const p=c.headers.location||"";return I(u=o.redirect(p),li,wl).call(u,e+1,n,0,s,c)}catch{}return c}else if(c.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,c,e))){const p=c.headers["retry-after"];let g=h(this,vn).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof p=="string"&&p.match(/^[1-9][0-9]*$/)&&(g=parseInt(p)),I(d=o.clone(),li,wl).call(d,e+1,n,g,s,c)}if(this.processFunc){ou(h(s,Un));try{c=await this.processFunc(o,c)}catch(p){(p.throttle==null||typeof p.stall!="number")&&c.makeServerError("error in post-processing function",p).assertOk();let g=h(this,vn).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return p.stall>=0&&(g=p.stall),I(f=o.clone(),li,wl).call(f,e+1,n,g,s,c)}}return c};let Ns=Od;var pc,gc,mc,zt,Jo,ci;const Bm=class Bm{constructor(e,n,r,s,i){P(this,pc);P(this,gc);P(this,mc);P(this,zt);P(this,Jo);P(this,ci);x(this,pc,e),x(this,gc,n),x(this,mc,Object.keys(r).reduce((o,l)=>(o[l.toLowerCase()]=String(r[l]),o),{})),x(this,zt,s==null?null:new Uint8Array(s)),x(this,Jo,i||null),x(this,ci,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${h(this,zt)?$(h(this,zt)):"null"}>`}get statusCode(){return h(this,pc)}get statusMessage(){return h(this,gc)}get headers(){return Object.assign({},h(this,mc))}get body(){return h(this,zt)==null?null:new Uint8Array(h(this,zt))}get bodyText(){try{return h(this,zt)==null?"":pd(h(this,zt))}catch{O(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{O(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const s=n[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new Bm(599,r,this.headers,this.body,h(this,Jo)||void 0);return x(s,ci,{message:e,error:n}),s}throwThrottleError(e,n){n==null?n=-1:E(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw J(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return h(this,zt)!=null}get request(){return h(this,Jo)}ok(){return h(this,ci).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=h(this,ci);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let s=null;try{h(this,zt)&&(s=pd(h(this,zt)))}catch{}O(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};pc=new WeakMap,gc=new WeakMap,mc=new WeakMap,zt=new WeakMap,Jo=new WeakMap,ci=new WeakMap;let Ss=Bm;function iy(){return new Date().getTime()}function IS(t){return Sr(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function RS(t){return new Promise(e=>setTimeout(e,t))}const BS=BigInt(-1),pn=BigInt(0),Po=BigInt(1),LS=BigInt(5),eo={};let Fo="0000";for(;Fo.length<80;)Fo+=Fo;function Ms(t){let e=Fo;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function ol(t,e,n){const r=BigInt(e.width);if(e.signed){const s=Po<<r-Po;O(n==null||t>=-s&&t<s,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>pn?t=hd(Zs(t,r),r):t=-hd(Zs(-t,r),r)}else{const s=Po<<r;O(n==null||t>=0&&t<s,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%s+s)%s&s-Po}return t}function eh(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);E(i,"invalid fixed format","format",t),e=i[1]!=="u",n=parseInt(i[2]),r=parseInt(i[3])}}else if(t){const i=t,o=(l,a,c)=>i[l]==null?c:(E(typeof i[l]===a,"invalid fixed format ("+l+" not "+a+")","format."+l,i[l]),i[l]);e=o("signed","boolean",e),n=o("width","number",n),r=o("decimals","number",r)}E(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),E(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const s=(e?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:e,width:n,decimals:r,name:s}}function DS(t,e){let n="";t<pn&&(n="-",t*=BS);let r=t.toString();if(e===0)return n+r;for(;r.length<=e;)r=Fo+r;const s=r.length-e;for(r=r.substring(0,s)+"."+r.substring(s);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}var bn,he,dt,ue,zs,er,xp,Ap,Ep,kp;const Wr=class Wr{constructor(e,n,r){P(this,ue);C(this,"format");P(this,bn);P(this,he);P(this,dt);C(this,"_value");Ic(e,eo,"FixedNumber"),x(this,he,n),x(this,bn,r);const s=DS(n,r.decimals);J(this,{format:r.name,_value:s}),x(this,dt,Ms(r.decimals))}get signed(){return h(this,bn).signed}get width(){return h(this,bn).width}get decimals(){return h(this,bn).decimals}get value(){return h(this,he)}addUnsafe(e){return I(this,ue,xp).call(this,e)}add(e){return I(this,ue,xp).call(this,e,"add")}subUnsafe(e){return I(this,ue,Ap).call(this,e)}sub(e){return I(this,ue,Ap).call(this,e,"sub")}mulUnsafe(e){return I(this,ue,Ep).call(this,e)}mul(e){return I(this,ue,Ep).call(this,e,"mul")}mulSignal(e){I(this,ue,zs).call(this,e);const n=h(this,he)*h(e,he);return O(n%h(this,dt)===pn,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),I(this,ue,er).call(this,n/h(this,dt),"mulSignal")}divUnsafe(e){return I(this,ue,kp).call(this,e)}div(e){return I(this,ue,kp).call(this,e,"div")}divSignal(e){O(h(e,he)!==pn,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),I(this,ue,zs).call(this,e);const n=h(this,he)*h(this,dt);return O(n%h(e,he)===pn,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),I(this,ue,er).call(this,n/h(e,he),"divSignal")}cmp(e){let n=this.value,r=e.value;const s=this.decimals-e.decimals;return s>0?r*=Ms(s):s<0&&(n*=Ms(-s)),n<r?-1:n>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=h(this,he);return h(this,he)<pn&&(e-=h(this,dt)-Po),e=h(this,he)/h(this,dt)*h(this,dt),I(this,ue,er).call(this,e,"floor")}ceiling(){let e=h(this,he);return h(this,he)>pn&&(e+=h(this,dt)-Po),e=h(this,he)/h(this,dt)*h(this,dt),I(this,ue,er).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,r=LS*Ms(n-1);let s=this.value+r;const i=Ms(n);return s=s/i*i,ol(s,h(this,bn),"round"),new Wr(eo,s,h(this,bn))}isZero(){return h(this,he)===pn}isNegative(){return h(this,he)<pn}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Wr.fromString(this.toString(),e)}static fromValue(e,n,r){const s=n==null?0:X(n),i=eh(r);let o=G(e,"value");const l=s-i.decimals;if(l>0){const a=Ms(l);O(o%a===pn,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=a}else l<0&&(o*=Ms(-l));return ol(o,i,"fromValue"),new Wr(eo,o,i)}static fromString(e,n){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);E(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const s=eh(n);let i=r[2]||"0",o=r[3]||"";for(;o.length<s.decimals;)o+=Fo;O(o.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,s.decimals);const l=BigInt(r[1]+i+o);return ol(l,s,"fromString"),new Wr(eo,l,s)}static fromBytes(e,n){let r=rf(ae(e,"value"));const s=eh(n);return s.signed&&(r=hd(r,s.width)),ol(r,s,"fromBytes"),new Wr(eo,r,s)}};bn=new WeakMap,he=new WeakMap,dt=new WeakMap,ue=new WeakSet,zs=function(e){E(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},er=function(e,n){return e=ol(e,h(this,bn),n),new Wr(eo,e,h(this,bn))},xp=function(e,n){return I(this,ue,zs).call(this,e),I(this,ue,er).call(this,h(this,he)+h(e,he),n)},Ap=function(e,n){return I(this,ue,zs).call(this,e),I(this,ue,er).call(this,h(this,he)-h(e,he),n)},Ep=function(e,n){return I(this,ue,zs).call(this,e),I(this,ue,er).call(this,h(this,he)*h(e,he)/h(this,dt),n)},kp=function(e,n){return O(h(e,he)!==pn,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),I(this,ue,zs).call(this,e),I(this,ue,er).call(this,h(this,he)*h(this,dt)/h(e,he),n)};let gd=Wr;function MS(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function oy(t,e,n){let r=0;for(let s=0;s<n;s++)r=r*256+t[e+s];return r}function ay(t,e,n,r){const s=[];for(;n<e+1+r;){const i=mb(t,n);s.push(i.result),n+=i.consumed,O(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:s}}function mb(t,e){O(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{O(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const s=oy(t,e+1,r);return n(e+1+r+s),ay(t,e,e+1+r,r+s)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),ay(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const s=oy(t,e+1,r);n(e+1+r+s);const i=$(t.slice(e+1+r,e+1+r+s));return{consumed:1+r+s,result:i}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const s=$(t.slice(e+1,e+1+r));return{consumed:1+r,result:s}}return{consumed:1,result:MS(t[e])}}function sf(t){const e=ae(t,"data"),n=mb(e,0);return E(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function ly(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function yb(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(i){r=r.concat(yb(i))}),r.length<=55)return r.unshift(192+r.length),r;const s=ly(r.length);return s.unshift(247+s.length),s.concat(r)}const e=Array.prototype.slice.call(ae(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=ly(e.length);return n.unshift(183+n.length),n.concat(e)}const cy="0123456789abcdef";function Bi(t){let e="0x";for(const n of yb(t))e+=cy[n>>4],e+=cy[n&15];return e}function US(t,e){let n=18;return n=X(e,"unit"),gd.fromValue(t,n,{decimals:n,width:512}).toString()}function FS(t,e){E(typeof t=="string","value must be a string","value",t);let n=18;return n=X(e,"unit"),gd.fromString(t,{decimals:n,width:512}).value}function Li(t){return US(t,18)}function jS(t){return FS(t,18)}const yt=32,Sp=new Uint8Array(yt),zS=["then"],au={},wb=new WeakMap;function Vs(t){return wb.get(t)}function uy(t,e){wb.set(t,e)}function al(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function Cp(t,e,n){return t.indexOf(null)>=0?e.map((r,s)=>r instanceof La?Cp(Vs(r),r,n):r):t.reduce((r,s,i)=>{let o=e.getValue(s);return s in r||(n&&o instanceof La&&(o=Cp(Vs(o),o,n)),r[s]=o),r},{})}var Ko;const No=class No extends Array{constructor(...n){const r=n[0];let s=n[1],i=(n[2]||[]).slice(),o=!0;r!==au&&(s=n,i=[],o=!1);super(s.length);P(this,Ko);s.forEach((c,u)=>{this[u]=c});const l=i.reduce((c,u)=>(typeof u=="string"&&c.set(u,(c.get(u)||0)+1),c),new Map);if(uy(this,Object.freeze(s.map((c,u)=>{const d=i[u];return d!=null&&l.get(d)===1?d:null}))),x(this,Ko,[]),h(this,Ko)==null&&h(this,Ko),!o)return;Object.freeze(this);const a=new Proxy(this,{get:(c,u,d)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const p=X(u,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");const g=c[p];return g instanceof Error&&al(`index ${p}`,g),g}if(zS.indexOf(u)>=0)return Reflect.get(c,u,d);const f=c[u];if(f instanceof Function)return function(...p){return f.apply(this===d?c:this,p)};if(!(u in c))return c.getValue.apply(this===d?c:this,[u])}return Reflect.get(c,u,d)}});return uy(a,Vs(this)),a}toArray(n){const r=[];return this.forEach((s,i)=>{s instanceof Error&&al(`index ${i}`,s),n&&s instanceof No&&(s=s.toArray(n)),r.push(s)}),r}toObject(n){const r=Vs(this);return r.reduce((s,i,o)=>(O(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Cp(r,this,n)),{})}slice(n,r){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const s=Vs(this),i=[],o=[];for(let l=n;l<r;l++)i.push(this[l]),o.push(s[l]);return new No(au,i,o)}filter(n,r){const s=Vs(this),i=[],o=[];for(let l=0;l<this.length;l++){const a=this[l];a instanceof Error&&al(`index ${l}`,a),n.call(r,a,l,this)&&(i.push(a),o.push(s[l]))}return new No(au,i,o)}map(n,r){const s=[];for(let i=0;i<this.length;i++){const o=this[i];o instanceof Error&&al(`index ${i}`,o),s.push(n.call(r,o,i,this))}return s}getValue(n){const r=Vs(this).indexOf(n);if(r===-1)return;const s=this[r];return s instanceof Error&&al(`property ${JSON.stringify(n)}`,s.error),s}static fromItems(n,r){return new No(au,n,r)}};Ko=new WeakMap;let La=No;function dy(t){let e=mt(t);return O(e.length<=yt,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:yt,offset:e.length}),e.length!==yt&&(e=gt(Le([Sp.slice(e.length%yt),e]))),e}class Br{constructor(e,n,r,s){C(this,"name");C(this,"type");C(this,"localName");C(this,"dynamic");J(this,{name:e,type:n,localName:r,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){E(!1,e,this.localName,n)}}var ur,ui,Yo,Iu;class Pp{constructor(){P(this,Yo);P(this,ur);P(this,ui);x(this,ur,[]),x(this,ui,0)}get data(){return Le(h(this,ur))}get length(){return h(this,ui)}appendWriter(e){return I(this,Yo,Iu).call(this,gt(e.data))}writeBytes(e){let n=gt(e);const r=n.length%yt;return r&&(n=gt(Le([n,Sp.slice(r)]))),I(this,Yo,Iu).call(this,n)}writeValue(e){return I(this,Yo,Iu).call(this,dy(e))}writeUpdatableValue(){const e=h(this,ur).length;return h(this,ur).push(Sp),x(this,ui,h(this,ui)+yt),n=>{h(this,ur)[e]=dy(n)}}}ur=new WeakMap,ui=new WeakMap,Yo=new WeakSet,Iu=function(e){return h(this,ur).push(e),x(this,ui,h(this,ui)+e.length),e.length};var kt,Ht,di,fi,es,Hi,Np,vb;const Lm=class Lm{constructor(e,n,r){P(this,Hi);C(this,"allowLoose");P(this,kt);P(this,Ht);P(this,di);P(this,fi);P(this,es);J(this,{allowLoose:!!n}),x(this,kt,gt(e)),x(this,di,0),x(this,fi,null),x(this,es,r??1024),x(this,Ht,0)}get data(){return $(h(this,kt))}get dataLength(){return h(this,kt).length}get consumed(){return h(this,Ht)}get bytes(){return new Uint8Array(h(this,kt))}subReader(e){const n=new Lm(h(this,kt).slice(h(this,Ht)+e),this.allowLoose,h(this,es));return x(n,fi,this),n}readBytes(e,n){let r=I(this,Hi,vb).call(this,0,e,!!n);return I(this,Hi,Np).call(this,e),x(this,Ht,h(this,Ht)+r.length),r.slice(0,e)}readValue(){return rf(this.readBytes(yt))}readIndex(){return wS(this.readBytes(yt))}};kt=new WeakMap,Ht=new WeakMap,di=new WeakMap,fi=new WeakMap,es=new WeakMap,Hi=new WeakSet,Np=function(e){var n;if(h(this,fi))return I(n=h(this,fi),Hi,Np).call(n,e);x(this,di,h(this,di)+e),O(h(this,es)<1||h(this,di)<=h(this,es)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${h(this,es)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:gt(h(this,kt)),offset:h(this,Ht),length:e,info:{bytesRead:h(this,di),dataLength:this.dataLength}})},vb=function(e,n,r){let s=Math.ceil(n/yt)*yt;return h(this,Ht)+s>h(this,kt).length&&(this.allowLoose&&r&&h(this,Ht)+n<=h(this,kt).length?s=n:O(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:gt(h(this,kt)),length:h(this,kt).length,offset:h(this,Ht)+s})),h(this,kt).slice(h(this,Ht),h(this,Ht)+s)};let _p=Lm;function md(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function cm(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function HS(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");md(t.outputLen),md(t.blockLen)}function Da(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function bb(t,e){cm(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const th=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xb=t=>t instanceof Uint8Array,$S=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),nh=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Ln=(t,e)=>t<<32-e|t>>>e,GS=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!GS)throw new Error("Non little-endian hardware is not supported");function VS(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function of(t){if(typeof t=="string"&&(t=VS(t)),!xb(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function QS(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!xb(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class um{clone(){return this._cloneInto()}}function dm(t){const e=r=>t().update(of(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function WS(t=32){if(th&&typeof th.getRandomValues=="function")return th.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class Ab extends um{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,HS(e);const r=of(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Da(this),this.iHash.update(e),this}digestInto(e){Da(this),cm(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:l}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=l,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Eb=(t,e,n)=>new Ab(t,e).update(n).digest();Eb.create=(t,e)=>new Ab(t,e);function JS(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),l=Number(n&i),a=r?4:0,c=r?0:4;t.setUint32(e+a,o,r),t.setUint32(e+c,l,r)}class kb extends um{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=nh(this.buffer)}update(e){Da(this);const{view:n,buffer:r,blockLen:s}=this;e=of(e);const i=e.length;for(let o=0;o<i;){const l=Math.min(s-this.pos,i-o);if(l===s){const a=nh(e);for(;s<=i-o;o+=s)this.process(a,o);continue}r.set(e.subarray(o,o+l),this.pos),this.pos+=l,o+=l,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Da(this),bb(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;JS(r,s-8,BigInt(this.length*8),i),this.process(r,0);const l=nh(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)l.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:l}=this;return e.length=s,e.pos=l,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}}const KS=(t,e,n)=>t&e^~t&n,YS=(t,e,n)=>t&e^t&n^e&n,qS=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Dr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Mr=new Uint32Array(64);class XS extends kb{constructor(){super(64,32,8,!1),this.A=Dr[0]|0,this.B=Dr[1]|0,this.C=Dr[2]|0,this.D=Dr[3]|0,this.E=Dr[4]|0,this.F=Dr[5]|0,this.G=Dr[6]|0,this.H=Dr[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:l,H:a}=this;return[e,n,r,s,i,o,l,a]}set(e,n,r,s,i,o,l,a){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=l|0,this.H=a|0}process(e,n){for(let d=0;d<16;d++,n+=4)Mr[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=Mr[d-15],p=Mr[d-2],g=Ln(f,7)^Ln(f,18)^f>>>3,m=Ln(p,17)^Ln(p,19)^p>>>10;Mr[d]=m+Mr[d-7]+g+Mr[d-16]|0}let{A:r,B:s,C:i,D:o,E:l,F:a,G:c,H:u}=this;for(let d=0;d<64;d++){const f=Ln(l,6)^Ln(l,11)^Ln(l,25),p=u+f+KS(l,a,c)+qS[d]+Mr[d]|0,m=(Ln(r,2)^Ln(r,13)^Ln(r,22))+YS(r,s,i)|0;u=c,c=a,a=l,l=o+p|0,o=i,i=s,s=r,r=p+m|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,l=l+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,s,i,o,l,a,c,u)}roundClean(){Mr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Sb=dm(()=>new XS),lu=BigInt(2**32-1),Tp=BigInt(32);function Cb(t,e=!1){return e?{h:Number(t&lu),l:Number(t>>Tp&lu)}:{h:Number(t>>Tp&lu)|0,l:Number(t&lu)|0}}function Pb(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=Cb(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const ZS=(t,e)=>BigInt(t>>>0)<<Tp|BigInt(e>>>0),eC=(t,e,n)=>t>>>n,tC=(t,e,n)=>t<<32-n|e>>>n,nC=(t,e,n)=>t>>>n|e<<32-n,rC=(t,e,n)=>t<<32-n|e>>>n,sC=(t,e,n)=>t<<64-n|e>>>n-32,iC=(t,e,n)=>t>>>n-32|e<<64-n,oC=(t,e)=>e,aC=(t,e)=>t,_b=(t,e,n)=>t<<n|e>>>32-n,Nb=(t,e,n)=>e<<n|t>>>32-n,Tb=(t,e,n)=>e<<n-32|t>>>64-n,Ob=(t,e,n)=>t<<n-32|e>>>64-n;function lC(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const cC=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),uC=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,dC=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),fC=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,hC=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),pC=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,Z={fromBig:Cb,split:Pb,toBig:ZS,shrSH:eC,shrSL:tC,rotrSH:nC,rotrSL:rC,rotrBH:sC,rotrBL:iC,rotr32H:oC,rotr32L:aC,rotlSH:_b,rotlSL:Nb,rotlBH:Tb,rotlBL:Ob,add:lC,add3L:cC,add3H:uC,add4L:dC,add4H:fC,add5H:pC,add5L:hC},[gC,mC]=Z.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ur=new Uint32Array(80),Fr=new Uint32Array(80);class yC extends kb{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:l,Dl:a,Eh:c,El:u,Fh:d,Fl:f,Gh:p,Gl:g,Hh:m,Hl:A}=this;return[e,n,r,s,i,o,l,a,c,u,d,f,p,g,m,A]}set(e,n,r,s,i,o,l,a,c,u,d,f,p,g,m,A){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=l|0,this.Dl=a|0,this.Eh=c|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=p|0,this.Gl=g|0,this.Hh=m|0,this.Hl=A|0}process(e,n){for(let v=0;v<16;v++,n+=4)Ur[v]=e.getUint32(n),Fr[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const k=Ur[v-15]|0,S=Fr[v-15]|0,_=Z.rotrSH(k,S,1)^Z.rotrSH(k,S,8)^Z.shrSH(k,S,7),T=Z.rotrSL(k,S,1)^Z.rotrSL(k,S,8)^Z.shrSL(k,S,7),N=Ur[v-2]|0,V=Fr[v-2]|0,D=Z.rotrSH(N,V,19)^Z.rotrBH(N,V,61)^Z.shrSH(N,V,6),W=Z.rotrSL(N,V,19)^Z.rotrBL(N,V,61)^Z.shrSL(N,V,6),Y=Z.add4L(T,W,Fr[v-7],Fr[v-16]),q=Z.add4H(Y,_,D,Ur[v-7],Ur[v-16]);Ur[v]=q|0,Fr[v]=Y|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:l,Cl:a,Dh:c,Dl:u,Eh:d,El:f,Fh:p,Fl:g,Gh:m,Gl:A,Hh:y,Hl:w}=this;for(let v=0;v<80;v++){const k=Z.rotrSH(d,f,14)^Z.rotrSH(d,f,18)^Z.rotrBH(d,f,41),S=Z.rotrSL(d,f,14)^Z.rotrSL(d,f,18)^Z.rotrBL(d,f,41),_=d&p^~d&m,T=f&g^~f&A,N=Z.add5L(w,S,T,mC[v],Fr[v]),V=Z.add5H(N,y,k,_,gC[v],Ur[v]),D=N|0,W=Z.rotrSH(r,s,28)^Z.rotrBH(r,s,34)^Z.rotrBH(r,s,39),Y=Z.rotrSL(r,s,28)^Z.rotrBL(r,s,34)^Z.rotrBL(r,s,39),q=r&i^r&l^i&l,Ae=s&o^s&a^o&a;y=m|0,w=A|0,m=p|0,A=g|0,p=d|0,g=f|0,{h:d,l:f}=Z.add(c|0,u|0,V|0,D|0),c=l|0,u=a|0,l=i|0,a=o|0,i=r|0,o=s|0;const R=Z.add3L(D,Y,Ae);r=Z.add3H(R,V,W,q),s=R|0}({h:r,l:s}=Z.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Z.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:l,l:a}=Z.add(this.Ch|0,this.Cl|0,l|0,a|0),{h:c,l:u}=Z.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:d,l:f}=Z.add(this.Eh|0,this.El|0,d|0,f|0),{h:p,l:g}=Z.add(this.Fh|0,this.Fl|0,p|0,g|0),{h:m,l:A}=Z.add(this.Gh|0,this.Gl|0,m|0,A|0),{h:y,l:w}=Z.add(this.Hh|0,this.Hl|0,y|0,w|0),this.set(r,s,i,o,l,a,c,u,d,f,p,g,m,A,y,w)}roundClean(){Ur.fill(0),Fr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const wC=dm(()=>new yC);function vC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const fy=vC();fy.crypto||fy.msCrypto;function bC(t){switch(t){case"sha256":return Sb.create();case"sha512":return wC.create()}E(!1,"invalid hashing algorithm name","algorithm",t)}const[Ib,Rb,Bb]=[[],[],[]],xC=BigInt(0),ll=BigInt(1),AC=BigInt(2),EC=BigInt(7),kC=BigInt(256),SC=BigInt(113);for(let t=0,e=ll,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Ib.push(2*(5*r+n)),Rb.push((t+1)*(t+2)/2%64);let s=xC;for(let i=0;i<7;i++)e=(e<<ll^(e>>EC)*SC)%kC,e&AC&&(s^=ll<<(ll<<BigInt(i))-ll);Bb.push(s)}const[CC,PC]=Pb(Bb,!0),hy=(t,e,n)=>n>32?Tb(t,e,n):_b(t,e,n),py=(t,e,n)=>n>32?Ob(t,e,n):Nb(t,e,n);function _C(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const l=(o+8)%10,a=(o+2)%10,c=n[a],u=n[a+1],d=hy(c,u,1)^n[l],f=py(c,u,1)^n[l+1];for(let p=0;p<50;p+=10)t[o+p]^=d,t[o+p+1]^=f}let s=t[2],i=t[3];for(let o=0;o<24;o++){const l=Rb[o],a=hy(s,i,l),c=py(s,i,l),u=Ib[o];s=t[u],i=t[u+1],t[u]=a,t[u+1]=c}for(let o=0;o<50;o+=10){for(let l=0;l<10;l++)n[l]=t[o+l];for(let l=0;l<10;l++)t[o+l]^=~n[(l+2)%10]&n[(l+4)%10]}t[0]^=CC[r],t[1]^=PC[r]}n.fill(0)}class fm extends um{constructor(e,n,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,md(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=$S(this.state)}keccak(){_C(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Da(this);const{blockLen:n,state:r}=this;e=of(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let l=0;l<o;l++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Da(this,!1),cm(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return md(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(bb(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new fm(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const NC=(t,e,n)=>dm(()=>new fm(e,t,n)),TC=NC(1,136,256/8);let Lb=!1;const Db=function(t){return TC(t)};let Mb=Db;function Me(t){const e=ae(t,"data");return $(Mb(e))}Me._=Db;Me.lock=function(){Lb=!0};Me.register=function(t){if(Lb)throw new TypeError("keccak256 is locked");Mb=t};Object.freeze(Me);const Ub=function(t){return bC("sha256").update(t).digest()};let Fb=Ub,jb=!1;function Ja(t){const e=ae(t,"data");return $(Fb(e))}Ja._=Ub;Ja.lock=function(){jb=!0};Ja.register=function(t){if(jb)throw new Error("sha256 is locked");Fb=t};Object.freeze(Ja);Object.freeze(Ja);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zb=BigInt(0),af=BigInt(1),OC=BigInt(2),lf=t=>t instanceof Uint8Array,IC=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ma(t){if(!lf(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=IC[t[n]];return e}function Hb(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function hm(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Ua(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const s=r*2,i=t.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function Ci(t){return hm(Ma(t))}function pm(t){if(!lf(t))throw new Error("Uint8Array expected");return hm(Ma(Uint8Array.from(t).reverse()))}function Fa(t,e){return Ua(t.toString(16).padStart(e*2,"0"))}function gm(t,e){return Fa(t,e).reverse()}function RC(t){return Ua(Hb(t))}function yn(t,e,n){let r;if(typeof e=="string")try{r=Ua(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(lf(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${t} expected ${n} bytes, got ${s}`);return r}function nc(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!lf(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function BC(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function LC(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function DC(t){let e;for(e=0;t>zb;t>>=af,e+=1);return e}function MC(t,e){return t>>BigInt(e)&af}const UC=(t,e,n)=>t|(n?af:zb)<<BigInt(e),mm=t=>(OC<<BigInt(t-1))-af,rh=t=>new Uint8Array(t),gy=t=>Uint8Array.from(t);function $b(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=rh(t),s=rh(t),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},l=(...d)=>n(s,r,...d),a=(d=rh())=>{s=l(gy([0]),d),r=l(),d.length!==0&&(s=l(gy([1]),d),r=l())},c=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<e;){r=l();const p=r.slice();f.push(p),d+=r.length}return nc(...f)};return(d,f)=>{o(),a(d);let p;for(;!(p=f(c()));)a();return o(),p}}const FC={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Rc(t,e,n={}){const r=(s,i,o)=>{const l=FC[i];if(typeof l!="function")throw new Error(`Invalid validator "${i}", expected function`);const a=t[s];if(!(o&&a===void 0)&&!l(a,t))throw new Error(`Invalid param ${String(s)}=${a} (${typeof a}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}const jC=Object.freeze(Object.defineProperty({__proto__:null,bitGet:MC,bitLen:DC,bitMask:mm,bitSet:UC,bytesToHex:Ma,bytesToNumberBE:Ci,bytesToNumberLE:pm,concatBytes:nc,createHmacDrbg:$b,ensureBytes:yn,equalBytes:BC,hexToBytes:Ua,hexToNumber:hm,numberToBytesBE:Fa,numberToBytesLE:gm,numberToHexUnpadded:Hb,numberToVarBytesBE:RC,utf8ToBytes:LC,validateObject:Rc},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ve=BigInt(0),Re=BigInt(1),Qs=BigInt(2),zC=BigInt(3),Op=BigInt(4),my=BigInt(5),yy=BigInt(8);BigInt(9);BigInt(16);function Ct(t,e){const n=t%e;return n>=Ve?n:e+n}function HC(t,e,n){if(n<=Ve||e<Ve)throw new Error("Expected power/modulo > 0");if(n===Re)return Ve;let r=Re;for(;e>Ve;)e&Re&&(r=r*t%n),t=t*t%n,e>>=Re;return r}function Yt(t,e,n){let r=t;for(;e-- >Ve;)r*=r,r%=n;return r}function Ip(t,e){if(t===Ve||e<=Ve)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Ct(t,e),r=e,s=Ve,i=Re;for(;n!==Ve;){const l=r/n,a=r%n,c=s-i*l;r=n,n=a,s=i,i=c}if(r!==Re)throw new Error("invert: does not exist");return Ct(s,e)}function $C(t){const e=(t-Re)/Qs;let n,r,s;for(n=t-Re,r=0;n%Qs===Ve;n/=Qs,r++);for(s=Qs;s<t&&HC(s,e,t)!==t-Re;s++);if(r===1){const o=(t+Re)/Op;return function(a,c){const u=a.pow(c,o);if(!a.eql(a.sqr(u),c))throw new Error("Cannot find square root");return u}}const i=(n+Re)/Qs;return function(l,a){if(l.pow(a,e)===l.neg(l.ONE))throw new Error("Cannot find square root");let c=r,u=l.pow(l.mul(l.ONE,s),n),d=l.pow(a,i),f=l.pow(a,n);for(;!l.eql(f,l.ONE);){if(l.eql(f,l.ZERO))return l.ZERO;let p=1;for(let m=l.sqr(f);p<c&&!l.eql(m,l.ONE);p++)m=l.sqr(m);const g=l.pow(u,Re<<BigInt(c-p-1));u=l.sqr(g),d=l.mul(d,g),f=l.mul(f,u),c=p}return d}}function GC(t){if(t%Op===zC){const e=(t+Re)/Op;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%yy===my){const e=(t-my)/yy;return function(r,s){const i=r.mul(s,Qs),o=r.pow(i,e),l=r.mul(s,o),a=r.mul(r.mul(l,Qs),o),c=r.mul(l,r.sub(a,r.ONE));if(!r.eql(r.sqr(c),s))throw new Error("Cannot find square root");return c}}return $C(t)}const VC=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function QC(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=VC.reduce((r,s)=>(r[s]="function",r),e);return Rc(t,n)}function WC(t,e,n){if(n<Ve)throw new Error("Expected power > 0");if(n===Ve)return t.ONE;if(n===Re)return e;let r=t.ONE,s=e;for(;n>Ve;)n&Re&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Re;return r}function JC(t,e){const n=new Array(e.length),r=e.reduce((i,o,l)=>t.is0(o)?i:(n[l]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,l)=>t.is0(o)?i:(n[l]=t.mul(i,n[l]),t.mul(i,o)),s),n}function Gb(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function KC(t,e,n=!1,r={}){if(t<=Ve)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=Gb(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=GC(t),l=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:mm(s),ZERO:Ve,ONE:Re,create:a=>Ct(a,t),isValid:a=>{if(typeof a!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof a}`);return Ve<=a&&a<t},is0:a=>a===Ve,isOdd:a=>(a&Re)===Re,neg:a=>Ct(-a,t),eql:(a,c)=>a===c,sqr:a=>Ct(a*a,t),add:(a,c)=>Ct(a+c,t),sub:(a,c)=>Ct(a-c,t),mul:(a,c)=>Ct(a*c,t),pow:(a,c)=>WC(l,a,c),div:(a,c)=>Ct(a*Ip(c,t),t),sqrN:a=>a*a,addN:(a,c)=>a+c,subN:(a,c)=>a-c,mulN:(a,c)=>a*c,inv:a=>Ip(a,t),sqrt:r.sqrt||(a=>o(l,a)),invertBatch:a=>JC(l,a),cmov:(a,c,u)=>u?c:a,toBytes:a=>n?gm(a,i):Fa(a,i),fromBytes:a=>{if(a.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${a.length}`);return n?pm(a):Ci(a)}});return Object.freeze(l)}function Vb(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Qb(t){const e=Vb(t);return e+Math.ceil(e/2)}function YC(t,e,n=!1){const r=t.length,s=Vb(e),i=Qb(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=n?Ci(t):pm(t),l=Ct(o,e-Re)+Re;return n?gm(l,s):Fa(l,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qC=BigInt(0),sh=BigInt(1);function XC(t,e){const n=(s,i)=>{const o=i.negate();return s?o:i},r=s=>{const i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:n,unsafeLadder(s,i){let o=t.ZERO,l=s;for(;i>qC;)i&sh&&(o=o.add(l)),l=l.double(),i>>=sh;return o},precomputeWindow(s,i){const{windows:o,windowSize:l}=r(i),a=[];let c=s,u=c;for(let d=0;d<o;d++){u=c,a.push(u);for(let f=1;f<l;f++)u=u.add(c),a.push(u);c=u.double()}return a},wNAF(s,i,o){const{windows:l,windowSize:a}=r(s);let c=t.ZERO,u=t.BASE;const d=BigInt(2**s-1),f=2**s,p=BigInt(s);for(let g=0;g<l;g++){const m=g*a;let A=Number(o&d);o>>=p,A>a&&(A-=f,o+=sh);const y=m,w=m+Math.abs(A)-1,v=g%2!==0,k=A<0;A===0?u=u.add(n(v,i[y])):c=c.add(n(k,i[w]))}return{p:c,f:u}},wNAFCached(s,i,o,l){const a=s._WINDOW_SIZE||1;let c=i.get(s);return c||(c=this.precomputeWindow(s,a),a!==1&&i.set(s,l(c))),this.wNAF(a,c,o)}}}function Wb(t){return QC(t.Fp),Rc(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Gb(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ZC(t){const e=Wb(t);Rc(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:eP,hexToBytes:tP}=jC,ei={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=ei;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:eP(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=ei,n=typeof t=="string"?tP(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=ei._parseInt(n.subarray(2)),{d:o,l}=ei._parseInt(i);if(l.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(t){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},r=e(n(t.s)),s=e(n(t.r)),i=r.length/2,o=s.length/2,l=n(i),a=n(o);return`30${n(o+i+4)}02${a}${s}02${l}${r}`}},br=BigInt(0),rn=BigInt(1);BigInt(2);const wy=BigInt(3);BigInt(4);function nP(t){const e=ZC(t),{Fp:n}=e,r=e.toBytes||((g,m,A)=>{const y=m.toAffine();return nc(Uint8Array.from([4]),n.toBytes(y.x),n.toBytes(y.y))}),s=e.fromBytes||(g=>{const m=g.subarray(1),A=n.fromBytes(m.subarray(0,n.BYTES)),y=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:A,y}});function i(g){const{a:m,b:A}=e,y=n.sqr(g),w=n.mul(y,g);return n.add(n.add(w,n.mul(g,m)),A)}if(!n.eql(n.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(g){return typeof g=="bigint"&&br<g&&g<e.n}function l(g){if(!o(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function a(g){const{allowedPrivateKeyLengths:m,nByteLength:A,wrapPrivateKey:y,n:w}=e;if(m&&typeof g!="bigint"){if(g instanceof Uint8Array&&(g=Ma(g)),typeof g!="string"||!m.includes(g.length))throw new Error("Invalid key");g=g.padStart(A*2,"0")}let v;try{v=typeof g=="bigint"?g:Ci(yn("private key",g,A))}catch{throw new Error(`private key must be ${A} bytes, hex or bigint, not ${typeof g}`)}return y&&(v=Ct(v,w)),l(v),v}const c=new Map;function u(g){if(!(g instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(m,A,y){if(this.px=m,this.py=A,this.pz=y,m==null||!n.isValid(m))throw new Error("x required");if(A==null||!n.isValid(A))throw new Error("y required");if(y==null||!n.isValid(y))throw new Error("z required")}static fromAffine(m){const{x:A,y}=m||{};if(!m||!n.isValid(A)||!n.isValid(y))throw new Error("invalid affine point");if(m instanceof d)throw new Error("projective point not allowed");const w=v=>n.eql(v,n.ZERO);return w(A)&&w(y)?d.ZERO:new d(A,y,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const A=n.invertBatch(m.map(y=>y.pz));return m.map((y,w)=>y.toAffine(A[w])).map(d.fromAffine)}static fromHex(m){const A=d.fromAffine(s(yn("pointHex",m)));return A.assertValidity(),A}static fromPrivateKey(m){return d.BASE.multiply(a(m))}_setWindowSize(m){this._WINDOW_SIZE=m,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:m,y:A}=this.toAffine();if(!n.isValid(m)||!n.isValid(A))throw new Error("bad point: x or y not FE");const y=n.sqr(A),w=i(m);if(!n.eql(y,w))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){u(m);const{px:A,py:y,pz:w}=this,{px:v,py:k,pz:S}=m,_=n.eql(n.mul(A,S),n.mul(v,w)),T=n.eql(n.mul(y,S),n.mul(k,w));return _&&T}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:A}=e,y=n.mul(A,wy),{px:w,py:v,pz:k}=this;let S=n.ZERO,_=n.ZERO,T=n.ZERO,N=n.mul(w,w),V=n.mul(v,v),D=n.mul(k,k),W=n.mul(w,v);return W=n.add(W,W),T=n.mul(w,k),T=n.add(T,T),S=n.mul(m,T),_=n.mul(y,D),_=n.add(S,_),S=n.sub(V,_),_=n.add(V,_),_=n.mul(S,_),S=n.mul(W,S),T=n.mul(y,T),D=n.mul(m,D),W=n.sub(N,D),W=n.mul(m,W),W=n.add(W,T),T=n.add(N,N),N=n.add(T,N),N=n.add(N,D),N=n.mul(N,W),_=n.add(_,N),D=n.mul(v,k),D=n.add(D,D),N=n.mul(D,W),S=n.sub(S,N),T=n.mul(D,V),T=n.add(T,T),T=n.add(T,T),new d(S,_,T)}add(m){u(m);const{px:A,py:y,pz:w}=this,{px:v,py:k,pz:S}=m;let _=n.ZERO,T=n.ZERO,N=n.ZERO;const V=e.a,D=n.mul(e.b,wy);let W=n.mul(A,v),Y=n.mul(y,k),q=n.mul(w,S),Ae=n.add(A,y),R=n.add(v,k);Ae=n.mul(Ae,R),R=n.add(W,Y),Ae=n.sub(Ae,R),R=n.add(A,w);let U=n.add(v,S);return R=n.mul(R,U),U=n.add(W,q),R=n.sub(R,U),U=n.add(y,w),_=n.add(k,S),U=n.mul(U,_),_=n.add(Y,q),U=n.sub(U,_),N=n.mul(V,R),_=n.mul(D,q),N=n.add(_,N),_=n.sub(Y,N),N=n.add(Y,N),T=n.mul(_,N),Y=n.add(W,W),Y=n.add(Y,W),q=n.mul(V,q),R=n.mul(D,R),Y=n.add(Y,q),q=n.sub(W,q),q=n.mul(V,q),R=n.add(R,q),W=n.mul(Y,R),T=n.add(T,W),W=n.mul(U,R),_=n.mul(Ae,_),_=n.sub(_,W),W=n.mul(Ae,Y),N=n.mul(U,N),N=n.add(N,W),new d(_,T,N)}subtract(m){return this.add(m.negate())}is0(){return this.equals(d.ZERO)}wNAF(m){return p.wNAFCached(this,c,m,A=>{const y=n.invertBatch(A.map(w=>w.pz));return A.map((w,v)=>w.toAffine(y[v])).map(d.fromAffine)})}multiplyUnsafe(m){const A=d.ZERO;if(m===br)return A;if(l(m),m===rn)return this;const{endo:y}=e;if(!y)return p.unsafeLadder(this,m);let{k1neg:w,k1:v,k2neg:k,k2:S}=y.splitScalar(m),_=A,T=A,N=this;for(;v>br||S>br;)v&rn&&(_=_.add(N)),S&rn&&(T=T.add(N)),N=N.double(),v>>=rn,S>>=rn;return w&&(_=_.negate()),k&&(T=T.negate()),T=new d(n.mul(T.px,y.beta),T.py,T.pz),_.add(T)}multiply(m){l(m);let A=m,y,w;const{endo:v}=e;if(v){const{k1neg:k,k1:S,k2neg:_,k2:T}=v.splitScalar(A);let{p:N,f:V}=this.wNAF(S),{p:D,f:W}=this.wNAF(T);N=p.constTimeNegate(k,N),D=p.constTimeNegate(_,D),D=new d(n.mul(D.px,v.beta),D.py,D.pz),y=N.add(D),w=V.add(W)}else{const{p:k,f:S}=this.wNAF(A);y=k,w=S}return d.normalizeZ([y,w])[0]}multiplyAndAddUnsafe(m,A,y){const w=d.BASE,v=(S,_)=>_===br||_===rn||!S.equals(w)?S.multiplyUnsafe(_):S.multiply(_),k=v(this,A).add(v(m,y));return k.is0()?void 0:k}toAffine(m){const{px:A,py:y,pz:w}=this,v=this.is0();m==null&&(m=v?n.ONE:n.inv(w));const k=n.mul(A,m),S=n.mul(y,m),_=n.mul(w,m);if(v)return{x:n.ZERO,y:n.ZERO};if(!n.eql(_,n.ONE))throw new Error("invZ was invalid");return{x:k,y:S}}isTorsionFree(){const{h:m,isTorsionFree:A}=e;if(m===rn)return!0;if(A)return A(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:A}=e;return m===rn?this:A?A(d,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),r(d,this,m)}toHex(m=!0){return Ma(this.toRawBytes(m))}}d.BASE=new d(e.Gx,e.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const f=e.nBitLength,p=XC(d,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function rP(t){const e=Wb(t);return Rc(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function sP(t){const e=rP(t),{Fp:n,n:r}=e,s=n.BYTES+1,i=2*n.BYTES+1;function o(R){return br<R&&R<n.ORDER}function l(R){return Ct(R,r)}function a(R){return Ip(R,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:f}=nP({...e,toBytes(R,U,K){const B=U.toAffine(),j=n.toBytes(B.x),Q=nc;return K?Q(Uint8Array.from([U.hasEvenY()?2:3]),j):Q(Uint8Array.from([4]),j,n.toBytes(B.y))},fromBytes(R){const U=R.length,K=R[0],B=R.subarray(1);if(U===s&&(K===2||K===3)){const j=Ci(B);if(!o(j))throw new Error("Point is not on curve");const Q=d(j);let ne=n.sqrt(Q);const se=(ne&rn)===rn;return(K&1)===1!==se&&(ne=n.neg(ne)),{x:j,y:ne}}else if(U===i&&K===4){const j=n.fromBytes(B.subarray(0,n.BYTES)),Q=n.fromBytes(B.subarray(n.BYTES,2*n.BYTES));return{x:j,y:Q}}else throw new Error(`Point of length ${U} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),p=R=>Ma(Fa(R,e.nByteLength));function g(R){const U=r>>rn;return R>U}function m(R){return g(R)?l(-R):R}const A=(R,U,K)=>Ci(R.slice(U,K));class y{constructor(U,K,B){this.r=U,this.s=K,this.recovery=B,this.assertValidity()}static fromCompact(U){const K=e.nByteLength;return U=yn("compactSignature",U,K*2),new y(A(U,0,K),A(U,K,2*K))}static fromDER(U){const{r:K,s:B}=ei.toSig(yn("DER",U));return new y(K,B)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(U){return new y(this.r,this.s,U)}recoverPublicKey(U){const{r:K,s:B,recovery:j}=this,Q=T(yn("msgHash",U));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const ne=j===2||j===3?K+e.n:K;if(ne>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const se=j&1?"03":"02",je=c.fromHex(se+p(ne)),We=a(ne),Je=l(-Q*We),Lt=l(B*We),Dt=c.BASE.multiplyAndAddUnsafe(je,Je,Lt);if(!Dt)throw new Error("point at infinify");return Dt.assertValidity(),Dt}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return Ua(this.toDERHex())}toDERHex(){return ei.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ua(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const w={isValidPrivateKey(R){try{return u(R),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const R=Qb(e.n);return YC(e.randomBytes(R),e.n)},precompute(R=8,U=c.BASE){return U._setWindowSize(R),U.multiply(BigInt(3)),U}};function v(R,U=!0){return c.fromPrivateKey(R).toRawBytes(U)}function k(R){const U=R instanceof Uint8Array,K=typeof R=="string",B=(U||K)&&R.length;return U?B===s||B===i:K?B===2*s||B===2*i:R instanceof c}function S(R,U,K=!0){if(k(R))throw new Error("first arg must be private key");if(!k(U))throw new Error("second arg must be public key");return c.fromHex(U).multiply(u(R)).toRawBytes(K)}const _=e.bits2int||function(R){const U=Ci(R),K=R.length*8-e.nBitLength;return K>0?U>>BigInt(K):U},T=e.bits2int_modN||function(R){return l(_(R))},N=mm(e.nBitLength);function V(R){if(typeof R!="bigint")throw new Error("bigint expected");if(!(br<=R&&R<N))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Fa(R,e.nByteLength)}function D(R,U,K=W){if(["recovered","canonical"].some(Ds=>Ds in K))throw new Error("sign() legacy options not supported");const{hash:B,randomBytes:j}=e;let{lowS:Q,prehash:ne,extraEntropy:se}=K;Q==null&&(Q=!0),R=yn("msgHash",R),ne&&(R=yn("prehashed msgHash",B(R)));const je=T(R),We=u(U),Je=[V(We),V(je)];if(se!=null){const Ds=se===!0?j(n.BYTES):se;Je.push(yn("extraEntropy",Ds))}const Lt=nc(...Je),Dt=je;function Sf(Ds){const Yi=_(Ds);if(!f(Yi))return;const Mm=a(Yi),qi=c.BASE.multiply(Yi).toAffine(),fn=l(qi.x);if(fn===br)return;const Xi=l(Mm*l(Dt+fn*We));if(Xi===br)return;let Um=(qi.x===fn?0:2)|Number(qi.y&rn),Fm=Xi;return Q&&g(Xi)&&(Fm=m(Xi),Um^=1),new y(fn,Fm,Um)}return{seed:Lt,k2sig:Sf}}const W={lowS:e.lowS,prehash:!1},Y={lowS:e.lowS,prehash:!1};function q(R,U,K=W){const{seed:B,k2sig:j}=D(R,U,K),Q=e;return $b(Q.hash.outputLen,Q.nByteLength,Q.hmac)(B,j)}c.BASE._setWindowSize(8);function Ae(R,U,K,B=Y){var qi;const j=R;if(U=yn("msgHash",U),K=yn("publicKey",K),"strict"in B)throw new Error("options.strict was renamed to lowS");const{lowS:Q,prehash:ne}=B;let se,je;try{if(typeof j=="string"||j instanceof Uint8Array)try{se=y.fromDER(j)}catch(fn){if(!(fn instanceof ei.Err))throw fn;se=y.fromCompact(j)}else if(typeof j=="object"&&typeof j.r=="bigint"&&typeof j.s=="bigint"){const{r:fn,s:Xi}=j;se=new y(fn,Xi)}else throw new Error("PARSE");je=c.fromHex(K)}catch(fn){if(fn.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Q&&se.hasHighS())return!1;ne&&(U=e.hash(U));const{r:We,s:Je}=se,Lt=T(U),Dt=a(Je),Sf=l(Lt*Dt),Ds=l(We*Dt),Yi=(qi=c.BASE.multiplyAndAddUnsafe(je,Sf,Ds))==null?void 0:qi.toAffine();return Yi?l(Yi.x)===We:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:S,sign:q,verify:Ae,ProjectivePoint:c,Signature:y,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function iP(t){return{hash:t,hmac:(e,...n)=>Eb(t,e,QS(...n)),randomBytes:WS}}function oP(t,e){const n=r=>sP({...t,...iP(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Jb=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),vy=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),aP=BigInt(1),Rp=BigInt(2),by=(t,e)=>(t+e/Rp)/e;function lP(t){const e=Jb,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),l=BigInt(44),a=BigInt(88),c=t*t*t%e,u=c*c*t%e,d=Yt(u,n,e)*u%e,f=Yt(d,n,e)*u%e,p=Yt(f,Rp,e)*c%e,g=Yt(p,s,e)*p%e,m=Yt(g,i,e)*g%e,A=Yt(m,l,e)*m%e,y=Yt(A,a,e)*A%e,w=Yt(y,l,e)*m%e,v=Yt(w,n,e)*u%e,k=Yt(v,o,e)*g%e,S=Yt(k,r,e)*c%e,_=Yt(S,Rp,e);if(!Bp.eql(Bp.sqr(_),t))throw new Error("Cannot find square root");return _}const Bp=KC(Jb,void 0,void 0,{sqrt:lP}),zr=oP({a:BigInt(0),b:BigInt(7),Fp:Bp,n:vy,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=vy,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-aP*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),l=by(i*t,e),a=by(-r*t,e);let c=Ct(t-l*n-a*s,e),u=Ct(-l*r-a*i,e);const d=c>o,f=u>o;if(d&&(c=e-c),f&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:c,k2neg:f,k2:u}}}},Sb);BigInt(0);zr.ProjectivePoint;const rc="0x0000000000000000000000000000000000000000",xy="0x0000000000000000000000000000000000000000000000000000000000000000",Ay=BigInt(0),Ey=BigInt(1),ky=BigInt(2),Sy=BigInt(27),Cy=BigInt(28),cu=BigInt(35),to={};function Py(t){return Ri(mt(t),32)}var qo,Xo,Zo,hi;const gn=class gn{constructor(e,n,r,s){P(this,qo);P(this,Xo);P(this,Zo);P(this,hi);Ic(e,to,"Signature"),x(this,qo,n),x(this,Xo,r),x(this,Zo,s),x(this,hi,null)}get r(){return h(this,qo)}set r(e){E(Uo(e)===32,"invalid r","value",e),x(this,qo,$(e))}get s(){return h(this,Xo)}set s(e){E(Uo(e)===32,"invalid s","value",e);const n=$(e);E(parseInt(n.substring(0,3))<8,"non-canonical s","value",n),x(this,Xo,n)}get v(){return h(this,Zo)}set v(e){const n=X(e,"value");E(n===27||n===28,"invalid v","v",e),x(this,Zo,n)}get networkV(){return h(this,hi)}get legacyChainId(){const e=this.networkV;return e==null?null:gn.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=ae(this.s);return this.yParity&&(e[0]|=128),$(e)}get compactSerialized(){return Le([this.r,this.yParityAndS])}get serialized(){return Le([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new gn(to,this.r,this.s,this.v);return this.networkV&&x(e,hi,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const n=G(e,"v");return n==Sy||n==Cy?Ay:(E(n>=cu,"invalid EIP-155 v","v",e),(n-cu)/ky)}static getChainIdV(e,n){return G(e)*ky+BigInt(35+n-27)}static getNormalizedV(e){const n=G(e);return n===Ay||n===Sy?27:n===Ey||n===Cy?28:(E(n>=cu,"invalid v","v",e),n&Ey?27:28)}static from(e){function n(c,u){E(c,u,"signature",e)}if(e==null)return new gn(to,xy,xy,27);if(typeof e=="string"){const c=ae(e,"signature");if(c.length===64){const u=$(c.slice(0,32)),d=c.slice(32,64),f=d[0]&128?28:27;return d[0]&=127,new gn(to,u,$(d),f)}if(c.length===65){const u=$(c.slice(0,32)),d=c.slice(32,64);n((d[0]&128)===0,"non-canonical s");const f=gn.getNormalizedV(c[64]);return new gn(to,u,$(d),f)}n(!1,"invalid raw signature length")}if(e instanceof gn)return e.clone();const r=e.r;n(r!=null,"missing r");const s=Py(r),i=function(c,u){if(c!=null)return Py(c);if(u!=null){n(ye(u,32),"invalid yParityAndS");const d=ae(u);return d[0]&=127,$(d)}n(!1,"missing s")}(e.s,e.yParityAndS);n((ae(i)[0]&128)==0,"non-canonical s");const{networkV:o,v:l}=function(c,u,d){if(c!=null){const f=G(c);return{networkV:f>=cu?f:void 0,v:gn.getNormalizedV(f)}}if(u!=null)return n(ye(u,32),"invalid yParityAndS"),{v:ae(u)[0]&128?28:27};if(d!=null){switch(X(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),a=new gn(to,s,i,l);return o&&x(a,hi,o),n(e.yParity==null||X(e.yParity,"sig.yParity")===a.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===a.yParityAndS,"yParityAndS mismatch"),a}};qo=new WeakMap,Xo=new WeakMap,Zo=new WeakMap,hi=new WeakMap;let Tn=gn;var dr;const Js=class Js{constructor(e){P(this,dr);E(Uo(e)===32,"invalid private key","privateKey","[REDACTED]"),x(this,dr,$(e))}get privateKey(){return h(this,dr)}get publicKey(){return Js.computePublicKey(h(this,dr))}get compressedPublicKey(){return Js.computePublicKey(h(this,dr),!0)}sign(e){E(Uo(e)===32,"invalid digest length","digest",e);const n=zr.sign(gt(e),gt(h(this,dr)),{lowS:!0});return Tn.from({r:_s(n.r,32),s:_s(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=Js.computePublicKey(e);return $(zr.getSharedSecret(gt(h(this,dr)),ae(n),!1))}static computePublicKey(e,n){let r=ae(e,"key");if(r.length===32){const i=zr.getPublicKey(r,!!n);return $(i)}if(r.length===64){const i=new Uint8Array(65);i[0]=4,i.set(r,1),r=i}const s=zr.ProjectivePoint.fromHex(r);return $(s.toRawBytes(n))}static recoverPublicKey(e,n){E(Uo(e)===32,"invalid digest length","digest",e);const r=Tn.from(n);let s=zr.Signature.fromCompact(gt(Le([r.r,r.s])));s=s.addRecoveryBit(r.yParity);const i=s.recoverPublicKey(gt(e));return E(i!=null,"invalid signautre for digest","signature",n),"0x"+i.toHex(!1)}static addPoints(e,n,r){const s=zr.ProjectivePoint.fromHex(Js.computePublicKey(e).substring(2)),i=zr.ProjectivePoint.fromHex(Js.computePublicKey(n).substring(2));return"0x"+s.add(i).toHex(!!r)}};dr=new WeakMap;let sc=Js;const cP=BigInt(0),uP=BigInt(36);function _y(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let s=0;s<40;s++)n[s]=e[s].charCodeAt(0);const r=ae(Me(n));for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(r[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const ym={};for(let t=0;t<10;t++)ym[String(t)]=String(t);for(let t=0;t<26;t++)ym[String.fromCharCode(65+t)]=String(10+t);const Ny=15;function dP(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>ym[r]).join("");for(;e.length>=Ny;){let r=e.substring(0,Ny);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const fP=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function hP(t){t=t.toLowerCase();let e=cP;for(let n=0;n<t.length;n++)e=e*uP+fP[t[n]];return e}function pe(t){if(E(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=_y(t);return E(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){E(t.substring(2,4)===dP(t),"bad icap checksum","address",t);let e=hP(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return _y("0x"+e)}E(!1,"invalid address","address",t)}function pP(t){const e=pe(t.from);let r=G(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,pe(Ne(Me(Bi([e,r])),12))}function Kb(t){return t&&typeof t.getAddress=="function"}async function ih(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(O(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),E(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),pe(n)}function wt(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?pe(t):(O(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),ih(t,e.resolveName(t)));if(Kb(t))return ih(t,t.getAddress());if(t&&typeof t.then=="function")return ih(t,t);E(!1,"unsupported addressable value","target",t)}const nr={};function z(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new ct(nr,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function ce(t,e){return new ct(nr,`bytes${e||""}`,t,{size:e})}const Ty=Symbol.for("_ethers_typed");var pi;const sr=class sr{constructor(e,n,r,s){C(this,"type");C(this,"value");P(this,pi);C(this,"_typedSymbol");s==null&&(s=null),Ic(nr,e,"Typed"),J(this,{_typedSymbol:Ty,type:n,value:r}),x(this,pi,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return h(this,pi)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return h(this,pi)===!0?-1:h(this,pi)===!1?this.value.length:null}static from(e,n){return new sr(nr,e,n)}static uint8(e){return z(e,8)}static uint16(e){return z(e,16)}static uint24(e){return z(e,24)}static uint32(e){return z(e,32)}static uint40(e){return z(e,40)}static uint48(e){return z(e,48)}static uint56(e){return z(e,56)}static uint64(e){return z(e,64)}static uint72(e){return z(e,72)}static uint80(e){return z(e,80)}static uint88(e){return z(e,88)}static uint96(e){return z(e,96)}static uint104(e){return z(e,104)}static uint112(e){return z(e,112)}static uint120(e){return z(e,120)}static uint128(e){return z(e,128)}static uint136(e){return z(e,136)}static uint144(e){return z(e,144)}static uint152(e){return z(e,152)}static uint160(e){return z(e,160)}static uint168(e){return z(e,168)}static uint176(e){return z(e,176)}static uint184(e){return z(e,184)}static uint192(e){return z(e,192)}static uint200(e){return z(e,200)}static uint208(e){return z(e,208)}static uint216(e){return z(e,216)}static uint224(e){return z(e,224)}static uint232(e){return z(e,232)}static uint240(e){return z(e,240)}static uint248(e){return z(e,248)}static uint256(e){return z(e,256)}static uint(e){return z(e,256)}static int8(e){return z(e,-8)}static int16(e){return z(e,-16)}static int24(e){return z(e,-24)}static int32(e){return z(e,-32)}static int40(e){return z(e,-40)}static int48(e){return z(e,-48)}static int56(e){return z(e,-56)}static int64(e){return z(e,-64)}static int72(e){return z(e,-72)}static int80(e){return z(e,-80)}static int88(e){return z(e,-88)}static int96(e){return z(e,-96)}static int104(e){return z(e,-104)}static int112(e){return z(e,-112)}static int120(e){return z(e,-120)}static int128(e){return z(e,-128)}static int136(e){return z(e,-136)}static int144(e){return z(e,-144)}static int152(e){return z(e,-152)}static int160(e){return z(e,-160)}static int168(e){return z(e,-168)}static int176(e){return z(e,-176)}static int184(e){return z(e,-184)}static int192(e){return z(e,-192)}static int200(e){return z(e,-200)}static int208(e){return z(e,-208)}static int216(e){return z(e,-216)}static int224(e){return z(e,-224)}static int232(e){return z(e,-232)}static int240(e){return z(e,-240)}static int248(e){return z(e,-248)}static int256(e){return z(e,-256)}static int(e){return z(e,-256)}static bytes1(e){return ce(e,1)}static bytes2(e){return ce(e,2)}static bytes3(e){return ce(e,3)}static bytes4(e){return ce(e,4)}static bytes5(e){return ce(e,5)}static bytes6(e){return ce(e,6)}static bytes7(e){return ce(e,7)}static bytes8(e){return ce(e,8)}static bytes9(e){return ce(e,9)}static bytes10(e){return ce(e,10)}static bytes11(e){return ce(e,11)}static bytes12(e){return ce(e,12)}static bytes13(e){return ce(e,13)}static bytes14(e){return ce(e,14)}static bytes15(e){return ce(e,15)}static bytes16(e){return ce(e,16)}static bytes17(e){return ce(e,17)}static bytes18(e){return ce(e,18)}static bytes19(e){return ce(e,19)}static bytes20(e){return ce(e,20)}static bytes21(e){return ce(e,21)}static bytes22(e){return ce(e,22)}static bytes23(e){return ce(e,23)}static bytes24(e){return ce(e,24)}static bytes25(e){return ce(e,25)}static bytes26(e){return ce(e,26)}static bytes27(e){return ce(e,27)}static bytes28(e){return ce(e,28)}static bytes29(e){return ce(e,29)}static bytes30(e){return ce(e,30)}static bytes31(e){return ce(e,31)}static bytes32(e){return ce(e,32)}static address(e){return new sr(nr,"address",e)}static bool(e){return new sr(nr,"bool",!!e)}static bytes(e){return new sr(nr,"bytes",e)}static string(e){return new sr(nr,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new sr(nr,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===Ty}static dereference(e,n){if(sr.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};pi=new WeakMap;let ct=sr;class gP extends Br{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=ct.dereference(n,"string");try{r=pe(r)}catch(s){return this._throwError(s.message,n)}return e.writeValue(r)}decode(e){return pe(_s(e.readValue(),20))}}class mP extends Br{constructor(n){super(n.name,n.type,"_",n.dynamic);C(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,r){return this.coder.encode(n,r)}decode(n){return this.coder.decode(n)}}function Yb(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let a={};r=e.map(c=>{const u=c.localName;return O(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),O(!a[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),a[u]=!0,n[u]})}else E(!1,"invalid tuple value","tuple",n);E(e.length===r.length,"types/value length mismatch","tuple",n);let s=new Pp,i=new Pp,o=[];e.forEach((a,c)=>{let u=r[c];if(a.dynamic){let d=i.length;a.encode(i,u);let f=s.writeUpdatableValue();o.push(p=>{f(p+d)})}else a.encode(s,u)}),o.forEach(a=>{a(s.length)});let l=t.appendWriter(s);return l+=t.appendWriter(i),l}function qb(t,e){let n=[],r=[],s=t.subReader(0);return e.forEach(i=>{let o=null;if(i.dynamic){let l=t.readIndex(),a=s.subReader(l);try{o=i.decode(a)}catch(c){if(Xe(c,"BUFFER_OVERRUN"))throw c;o=c,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(t)}catch(l){if(Xe(l,"BUFFER_OVERRUN"))throw l;o=l,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");n.push(o),r.push(i.localName||null)}),La.fromItems(n,r)}class yP extends Br{constructor(n,r,s){const i=n.type+"["+(r>=0?r:"")+"]",o=r===-1||n.dynamic;super("array",i,s,o);C(this,"coder");C(this,"length");J(this,{coder:n,length:r})}defaultValue(){const n=this.coder.defaultValue(),r=[];for(let s=0;s<this.length;s++)r.push(n);return r}encode(n,r){const s=ct.dereference(r,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,n.writeValue(s.length)),ob(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let l=0;l<s.length;l++)o.push(this.coder);return Yb(n,o,s)}decode(n){let r=this.length;r===-1&&(r=n.readIndex(),O(r*yt<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:r*yt,length:n.dataLength}));let s=[];for(let i=0;i<r;i++)s.push(new mP(this.coder));return qb(n,s)}}class wP extends Br{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=ct.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class Xb extends Br{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=gt(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class vP extends Xb{constructor(e){super("bytes",e)}decode(e){return $(super.decode(e))}}class bP extends Br{constructor(n,r){let s="bytes"+String(n);super(s,s,r,!1);C(this,"size");J(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,r){let s=gt(ct.dereference(r,this.type));return s.length!==this.size&&this._throwError("incorrect data length",r),n.writeBytes(s)}decode(n){return $(n.readBytes(this.size))}}const xP=new Uint8Array([]);class AP extends Br{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(xP)}decode(e){return e.readBytes(0),null}}const EP=BigInt(0),kP=BigInt(1),SP=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class CP extends Br{constructor(n,r,s){const i=(r?"int":"uint")+n*8;super(i,i,s,!1);C(this,"size");C(this,"signed");J(this,{size:n,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,r){let s=G(ct.dereference(r,this.type)),i=Zs(SP,yt*8);if(this.signed){let o=Zs(i,this.size*8-1);(s>o||s<-(o+kP))&&this._throwError("value out-of-bounds",r),s=cb(s,8*yt)}else(s<EP||s>Zs(i,this.size*8))&&this._throwError("value out-of-bounds",r);return n.writeValue(s)}decode(n){let r=Zs(n.readValue(),this.size*8);return this.signed&&(r=hd(r,this.size*8)),r}}class PP extends Xb{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Sr(ct.dereference(n,"string")))}decode(e){return pd(super.decode(e))}}class uu extends Br{constructor(n,r){let s=!1;const i=[];n.forEach(l=>{l.dynamic&&(s=!0),i.push(l.type)});const o="tuple("+i.join(",")+")";super("tuple",o,r,s);C(this,"coders");J(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(s=>{n.push(s.defaultValue())});const r=this.coders.reduce((s,i)=>{const o=i.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});return this.coders.forEach((s,i)=>{let o=s.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),n[o]==null&&(n[o]=n[i]))}),Object.freeze(n)}encode(n,r){const s=ct.dereference(r,"tuple");return Yb(n,this.coders,s)}decode(n){return qb(n,this.coders)}}function Di(t){return Me(Sr(t))}var _P="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const Oy=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Iy=4;function NP(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),s=1,i=[0,1];for(let S=1;S<r;S++)i.push(s+=n());let o=n(),l=e;e+=o;let a=0,c=0;function u(){return a==0&&(c=c<<8|t[e++],a=8),c>>--a&1}const d=31,f=2**d,p=f>>>1,g=p>>1,m=f-1;let A=0;for(let S=0;S<d;S++)A=A<<1|u();let y=[],w=0,v=f;for(;;){let S=Math.floor(((A-w+1)*s-1)/v),_=0,T=r;for(;T-_>1;){let D=_+T>>>1;S<i[D]?T=D:_=D}if(_==0)break;y.push(_);let N=w+Math.floor(v*i[_]/s),V=w+Math.floor(v*i[_+1]/s)-1;for(;!((N^V)&p);)A=A<<1&m|u(),N=N<<1&m,V=V<<1&m|1;for(;N&~V&g;)A=A&p|A<<1&m>>>1|u(),N=N<<1^p,V=(V^p)<<1|p|1;w=N,v=1+V-N}let k=r-4;return y.map(S=>{switch(S-k){case 3:return k+65792+(t[l++]<<16|t[l++]<<8|t[l++]);case 2:return k+256+(t[l++]<<8|t[l++]);case 1:return k+t[l++];default:return S-1}})}function TP(t){let e=0;return()=>t[e++]}function Zb(t){return TP(NP(OP(t)))}function OP(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let n=t.length,r=new Uint8Array(6*n>>3);for(let s=0,i=0,o=0,l=0;s<n;s++)l=l<<6|e[t.charCodeAt(s)],o+=6,o>=8&&(r[i++]=l>>(o-=8));return r}function IP(t){return t&1?~t>>1:t>>1}function RP(t,e){let n=Array(t);for(let r=0,s=0;r<t;r++)n[r]=s+=IP(e());return n}function ic(t,e=0){let n=[];for(;;){let r=t(),s=t();if(!s)break;e+=r;for(let i=0;i<s;i++)n.push(e+i);e+=s+1}return n}function ex(t){return oc(()=>{let e=ic(t);if(e.length)return e})}function tx(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(BP(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(LP(n,t))}return e.flat()}function oc(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function nx(t,e,n){let r=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)RP(t,n).forEach((i,o)=>r[o].push(i));return r}function BP(t,e){let n=1+e(),r=e(),s=oc(e);return nx(s.length,1+t,e).flatMap((o,l)=>{let[a,...c]=o;return Array(s[l]).fill().map((u,d)=>{let f=d*r;return[a+d*n,c.map(p=>p+f)]})})}function LP(t,e){let n=1+e();return nx(n,1+t,e).map(s=>[s[0],s.slice(1)])}function DP(t){let e=[],n=ic(t);return s(r([]),[]),e;function r(i){let o=t(),l=oc(()=>{let a=ic(t).map(c=>n[c]);if(a.length)return r(a)});return{S:o,B:l,Q:i}}function s({S:i,B:o},l,a){if(!(i&4&&a===l[l.length-1])){i&2&&(a=l[l.length-1]),i&1&&e.push(l);for(let c of o)for(let u of c.Q)s(c,[...l,u],a)}}}function MP(t){return t.toString(16).toUpperCase().padStart(2,"0")}function rx(t){return`{${MP(t)}}`}function UP(t){let e=[];for(let n=0,r=t.length;n<r;){let s=t.codePointAt(n);n+=s<65536?1:2,e.push(s)}return e}function ja(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let s=0;s<n;)r.push(String.fromCodePoint(...t.slice(s,s+=4096)));return r.join("")}function FP(t,e){let n=t.length,r=n-e.length;for(let s=0;r==0&&s<n;s++)r=t[s]-e[s];return r}var jP="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";const ac=44032,yd=4352,wd=4449,vd=4519,sx=19,ix=21,za=28,bd=ix*za,zP=sx*bd,HP=ac+zP,$P=yd+sx,GP=wd+ix,VP=vd+za;function vl(t){return t>>24&255}function ox(t){return t&16777215}let Lp,Ry,Dp,Ru;function QP(){let t=Zb(jP);Lp=new Map(ex(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),Ry=new Set(ic(t)),Dp=new Map,Ru=new Map;for(let[e,n]of tx(t)){if(!Ry.has(e)&&n.length==2){let[r,s]=n,i=Ru.get(r);i||(i=new Map,Ru.set(r,i)),i.set(s,e)}Dp.set(e,n.reverse())}}function ax(t){return t>=ac&&t<HP}function WP(t,e){if(t>=yd&&t<$P&&e>=wd&&e<GP)return ac+(t-yd)*bd+(e-wd)*za;if(ax(t)&&e>vd&&e<VP&&(t-ac)%za==0)return t+(e-vd);{let n=Ru.get(t);return n&&(n=n.get(e),n)?n:-1}}function lx(t){Lp||QP();let e=[],n=[],r=!1;function s(i){let o=Lp.get(i);o&&(r=!0,i|=o),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(ax(i)){let o=i-ac,l=o/bd|0,a=o%bd/za|0,c=o%za;s(yd+l),s(wd+a),c>0&&s(vd+c)}else{let o=Dp.get(i);o?n.push(...o):s(i)}if(!n.length)break;i=n.pop()}if(r&&e.length>1){let i=vl(e[0]);for(let o=1;o<e.length;o++){let l=vl(e[o]);if(l==0||i<=l){i=l;continue}let a=o-1;for(;;){let c=e[a+1];if(e[a+1]=e[a],e[a]=c,!a||(i=vl(e[--a]),i<=l))break}i=vl(e[o])}}return e}function JP(t){let e=[],n=[],r=-1,s=0;for(let i of t){let o=vl(i),l=ox(i);if(r==-1)o==0?r=l:e.push(l);else if(s>0&&s>=o)o==0?(e.push(r,...n),n.length=0,r=l):n.push(l),s=o;else{let a=WP(r,l);a>=0?r=a:s==0&&o==0?(e.push(r),r=l):(n.push(l),s=o)}}return r>=0&&e.push(r,...n),e}function cx(t){return lx(t).map(ox)}function KP(t){return JP(lx(t))}const By=45,ux=".",dx=65039,fx=1,xd=t=>Array.from(t);function lc(t,e){return t.P.has(e)||t.Q.has(e)}class YP extends Array{get is_emoji(){return!0}}let Mp,hx,ti,Up,px,jo,oh,lo,Hs,Ly,Fp;function wm(){if(Mp)return;let t=Zb(_P);const e=()=>ic(t),n=()=>new Set(e()),r=(u,d)=>d.forEach(f=>u.add(f));Mp=new Map(tx(t)),hx=n(),ti=e(),Up=new Set(e().map(u=>ti[u])),ti=new Set(ti),px=n(),n();let s=ex(t),i=t();const o=()=>{let u=new Set;return e().forEach(d=>r(u,s[d])),r(u,e()),u};jo=oc(u=>{let d=oc(t).map(f=>f+96);if(d.length){let f=u>=i;d[0]-=32,d=ja(d),f&&(d=`Restricted[${d}]`);let p=o(),g=o(),m=!t();return{N:d,P:p,Q:g,M:m,R:f}}}),oh=n(),lo=new Map;let l=e().concat(xd(oh)).sort((u,d)=>u-d);l.forEach((u,d)=>{let f=t(),p=l[d]=f?l[d-f]:{V:[],M:new Map};p.V.push(u),oh.has(u)||lo.set(u,p)});for(let{V:u,M:d}of new Set(lo.values())){let f=[];for(let g of u){let m=jo.filter(y=>lc(y,g)),A=f.find(({G:y})=>m.some(w=>y.has(w)));A||(A={G:new Set,V:[]},f.push(A)),A.V.push(g),r(A.G,m)}let p=f.flatMap(g=>xd(g.G));for(let{G:g,V:m}of f){let A=new Set(p.filter(y=>!g.has(y)));for(let y of m)d.set(y,A)}}Hs=new Set;let a=new Set;const c=u=>Hs.has(u)?a.add(u):Hs.add(u);for(let u of jo){for(let d of u.P)c(d);for(let d of u.Q)c(d)}for(let u of Hs)!lo.has(u)&&!a.has(u)&&lo.set(u,fx);r(Hs,cx(Hs)),Ly=DP(t).map(u=>YP.from(u)).sort(FP),Fp=new Map;for(let u of Ly){let d=[Fp];for(let f of u){let p=d.map(g=>{let m=g.get(f);return m||(m=new Map,g.set(f,m)),m});f===dx?d.push(...p):d=p}for(let f of d)f.V=u}}function vm(t){return(gx(t)?"":`${bm(cf([t]))} `)+rx(t)}function bm(t){return`"${t}"‎`}function qP(t){if(t.length>=4&&t[2]==By&&t[3]==By)throw new Error(`invalid label extension: "${ja(t.slice(0,4))}"`)}function XP(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function ZP(t){let e=t[0],n=Oy.get(e);if(n)throw Ll(`leading ${n}`);let r=t.length,s=-1;for(let i=1;i<r;i++){e=t[i];let o=Oy.get(e);if(o){if(s==i)throw Ll(`${n} + ${o}`);s=i+1,n=o}}if(s==r)throw Ll(`trailing ${n}`)}function cf(t,e=1/0,n=rx){let r=[];e_(t[0])&&r.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,i=t.length;for(let o=0;o<i;o++){let l=t[o];gx(l)&&(r.push(ja(t.slice(s,o))),r.push(n(l)),s=o+1)}return r.push(ja(t.slice(s,i))),r.join("")}function e_(t){return wm(),ti.has(t)}function gx(t){return wm(),px.has(t)}function t_(t){return i_(n_(t,KP,l_))}function n_(t,e,n){if(!t)return[];wm();let r=0;return t.split(ux).map(s=>{let i=UP(s),o={input:i,offset:r};r+=i.length+1;try{let l=o.tokens=a_(i,e,n),a=l.length,c;if(!a)throw new Error("empty label");let u=o.output=l.flat();if(XP(u),!(o.emoji=a>1||l[0].is_emoji)&&u.every(f=>f<128))qP(u),c="ASCII";else{let f=l.flatMap(p=>p.is_emoji?[]:p);if(!f.length)c="Emoji";else{if(ti.has(u[0]))throw Ll("leading combining mark");for(let m=1;m<a;m++){let A=l[m];if(!A.is_emoji&&ti.has(A[0]))throw Ll(`emoji + combining mark: "${ja(l[m-1])} + ${cf([A[0]])}"`)}ZP(u);let p=xd(new Set(f)),[g]=s_(p);o_(g,f),r_(g,p),c=g.N}}o.type=c}catch(l){o.error=l}return o})}function r_(t,e){let n,r=[];for(let s of e){let i=lo.get(s);if(i===fx)return;if(i){let o=i.M.get(s);if(n=n?n.filter(l=>o.has(l)):xd(o),!n.length)return}else r.push(s)}if(n){for(let s of n)if(r.every(i=>lc(s,i)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function s_(t){let e=jo;for(let n of t){let r=e.filter(s=>lc(s,n));if(!r.length)throw jo.some(s=>lc(s,n))?yx(e[0],n):mx(n);if(e=r,r.length==1)break}return e}function i_(t){return t.map(({input:e,error:n,output:r})=>{if(n){let s=n.message;throw new Error(t.length==1?s:`Invalid label ${bm(cf(e,63))}: ${s}`)}return ja(r)}).join(ux)}function mx(t){return new Error(`disallowed character: ${vm(t)}`)}function yx(t,e){let n=vm(e),r=jo.find(s=>s.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Ll(t){return new Error(`illegal placement: ${t}`)}function o_(t,e){for(let n of e)if(!lc(t,n))throw yx(t,n);if(t.M){let n=cx(e);for(let r=1,s=n.length;r<s;r++)if(Up.has(n[r])){let i=r+1;for(let o;i<s&&Up.has(o=n[i]);i++)for(let l=r;l<i;l++)if(n[l]==o)throw new Error(`duplicate non-spacing marks: ${vm(o)}`);if(i-r>Iy)throw new Error(`excessive non-spacing marks: ${bm(cf(n.slice(r-1,i)))} (${i-r}/${Iy})`);r=i}}}function a_(t,e,n){let r=[],s=[];for(t=t.slice().reverse();t.length;){let i=c_(t);if(i)s.length&&(r.push(e(s)),s=[]),r.push(n(i));else{let o=t.pop();if(Hs.has(o))s.push(o);else{let l=Mp.get(o);if(l)s.push(...l);else if(!hx.has(o))throw mx(o)}}}return s.length&&r.push(e(s)),r}function l_(t){return t.filter(e=>e!=dx)}function c_(t,e){let n=Fp,r,s=t.length;for(;s&&(n=n.get(t[--s]),!!n);){let{V:i}=n;i&&(r=i,t.length=s)}return r}const wx=new Uint8Array(32);wx.fill(0);function Dy(t){return E(t.length!==0,"invalid ENS name; empty component","comp",t),t}function vx(t){const e=Sr(u_(t)),n=[];if(t.length===0)return n;let r=0;for(let s=0;s<e.length;s++)e[s]===46&&(n.push(Dy(e.slice(r,s))),r=s+1);return E(r<e.length,"invalid ENS name; empty component","name",t),n.push(Dy(e.slice(r))),n}function u_(t){try{if(t.length===0)throw new Error("empty label");return t_(t)}catch(e){E(!1,`invalid ENS name (${e.message})`,"name",t)}}function jp(t){E(typeof t=="string","invalid ENS name; not a string","name",t),E(t.length,"invalid ENS name (empty label)","name",t);let e=wx;const n=vx(t);for(;n.length;)e=Me(Le([e,Me(n.pop())]));return $(e)}function d_(t,e){const n=e;return E(n<=255,"DNS encoded label cannot exceed 255","length",n),$(Le(vx(t).map(r=>{E(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const s=new Uint8Array(r.length+1);return s.set(r,1),s[0]=s.length-1,s})))+"00"}function ah(t,e){return{address:pe(t),storageKeys:e.map((n,r)=>(E(ye(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function Qi(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(E(n.length===2,"invalid slot set",`value[${r}]`,n),ah(n[0],n[1])):(E(n!=null&&typeof n=="object","invalid address-slot set","value",t),ah(n.address,n.storageKeys)));E(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((s,i)=>(s[i]=!0,s),{});return ah(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function f_(t){let e;return typeof t=="string"?e=sc.computePublicKey(t,!1):e=t.publicKey,pe(Me("0x"+e.substring(4)).substring(26))}function h_(t,e){return f_(sc.recoverPublicKey(t,e))}const Ge=BigInt(0),p_=BigInt(2),g_=BigInt(27),m_=BigInt(28),y_=BigInt(35),w_=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),lh=4096*32;function My(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=Ja(e).substring(4),"0x"+n}function uf(t){return t==="0x"?null:pe(t)}function xm(t,e){try{return Qi(t)}catch(n){E(!1,n.message,e,t)}}function Bc(t,e){return t==="0x"?0:X(t,e)}function Be(t,e){if(t==="0x")return Ge;const n=G(t,e);return E(n<=w_,"value exceeds uint size",e,n),n}function be(t,e){const n=G(t,"value"),r=mt(n);return E(r.length<=32,"value too large",`tx.${e}`,n),r}function Am(t){return Qi(t).map(e=>[e.address,e.storageKeys])}function v_(t,e){E(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)E(ye(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function b_(t){const e=sf(t);E(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:Bc(e[0],"nonce"),gasPrice:Be(e[1],"gasPrice"),gasLimit:Be(e[2],"gasLimit"),to:uf(e[3]),value:Be(e[4],"value"),data:$(e[5]),chainId:Ge};if(e.length===6)return n;const r=Be(e[6],"v"),s=Be(e[7],"r"),i=Be(e[8],"s");if(s===Ge&&i===Ge)n.chainId=r;else{let o=(r-y_)/p_;o<Ge&&(o=Ge),n.chainId=o,E(o!==Ge||r===g_||r===m_,"non-canonical legacy v","v",e[6]),n.signature=Tn.from({r:Ri(e[7],32),s:Ri(e[8],32),v:r})}return n}function x_(t,e){const n=[be(t.nonce,"nonce"),be(t.gasPrice||0,"gasPrice"),be(t.gasLimit,"gasLimit"),t.to||"0x",be(t.value,"value"),t.data];let r=Ge;if(t.chainId!=Ge)r=G(t.chainId,"tx.chainId"),E(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const i=t.signature.legacyChainId;i!=null&&(r=i)}if(!e)return r!==Ge&&(n.push(mt(r)),n.push("0x"),n.push("0x")),Bi(n);let s=BigInt(27+e.yParity);return r!==Ge?s=Tn.getChainIdV(r,e.v):BigInt(e.v)!==s&&E(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(mt(s)),n.push(mt(e.r)),n.push(mt(e.s)),Bi(n)}function Em(t,e){let n;try{if(n=Bc(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{E(!1,"invalid yParity","yParity",e[0])}const r=Ri(e[1],32),s=Ri(e[2],32),i=Tn.from({r,s,yParity:n});t.signature=i}function A_(t){const e=sf(ae(t).slice(1));E(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",$(t));const n={type:2,chainId:Be(e[0],"chainId"),nonce:Bc(e[1],"nonce"),maxPriorityFeePerGas:Be(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Be(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Be(e[4],"gasLimit"),to:uf(e[5]),value:Be(e[6],"value"),data:$(e[7]),accessList:xm(e[8],"accessList")};return e.length===9||Em(n,e.slice(9)),n}function E_(t,e){const n=[be(t.chainId,"chainId"),be(t.nonce,"nonce"),be(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),be(t.maxFeePerGas||0,"maxFeePerGas"),be(t.gasLimit,"gasLimit"),t.to||"0x",be(t.value,"value"),t.data,Am(t.accessList||[])];return e&&(n.push(be(e.yParity,"yParity")),n.push(mt(e.r)),n.push(mt(e.s))),Le(["0x02",Bi(n)])}function k_(t){const e=sf(ae(t).slice(1));E(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",$(t));const n={type:1,chainId:Be(e[0],"chainId"),nonce:Bc(e[1],"nonce"),gasPrice:Be(e[2],"gasPrice"),gasLimit:Be(e[3],"gasLimit"),to:uf(e[4]),value:Be(e[5],"value"),data:$(e[6]),accessList:xm(e[7],"accessList")};return e.length===8||Em(n,e.slice(8)),n}function S_(t,e){const n=[be(t.chainId,"chainId"),be(t.nonce,"nonce"),be(t.gasPrice||0,"gasPrice"),be(t.gasLimit,"gasLimit"),t.to||"0x",be(t.value,"value"),t.data,Am(t.accessList||[])];return e&&(n.push(be(e.yParity,"recoveryParam")),n.push(mt(e.r)),n.push(mt(e.s))),Le(["0x01",Bi(n)])}function C_(t){let e=sf(ae(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const i=e[1],o=e[2],l=e[3];E(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),E(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),E(Array.isArray(l),"invalid network format: proofs not an array","fields[3]",l),E(i.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),E(i.length===l.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let a=0;a<e[1].length;a++)r.push({data:i[a],commitment:o[a],proof:l[a]});e=e[0]}E(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",$(t));const s={type:3,chainId:Be(e[0],"chainId"),nonce:Bc(e[1],"nonce"),maxPriorityFeePerGas:Be(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Be(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Be(e[4],"gasLimit"),to:uf(e[5]),value:Be(e[6],"value"),data:$(e[7]),accessList:xm(e[8],"accessList"),maxFeePerBlobGas:Be(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(s.blobs=r),E(s.to!=null,`invalid address for transaction type: ${n}`,"data",t),E(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let i=0;i<s.blobVersionedHashes.length;i++)E(ye(s.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",t);return e.length===11||Em(s,e.slice(11)),s}function P_(t,e,n){const r=[be(t.chainId,"chainId"),be(t.nonce,"nonce"),be(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),be(t.maxFeePerGas||0,"maxFeePerGas"),be(t.gasLimit,"gasLimit"),t.to||rc,be(t.value,"value"),t.data,Am(t.accessList||[]),be(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),v_(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(be(e.yParity,"yParity")),r.push(mt(e.r)),r.push(mt(e.s)),n)?Le(["0x03",Bi([r,n.map(s=>s.data),n.map(s=>s.commitment),n.map(s=>s.proof)])]):Le(["0x03",Bi(r)])}var Fn,ea,ta,na,ra,sa,ia,oa,aa,la,ca,ua,gi,ts,fr,ns,da,Bu;const ir=class ir{constructor(){P(this,da);P(this,Fn);P(this,ea);P(this,ta);P(this,na);P(this,ra);P(this,sa);P(this,ia);P(this,oa);P(this,aa);P(this,la);P(this,ca);P(this,ua);P(this,gi);P(this,ts);P(this,fr);P(this,ns);x(this,Fn,null),x(this,ea,null),x(this,na,0),x(this,ra,Ge),x(this,sa,null),x(this,ia,null),x(this,oa,null),x(this,ta,"0x"),x(this,aa,Ge),x(this,la,Ge),x(this,ca,null),x(this,ua,null),x(this,gi,null),x(this,ts,null),x(this,ns,null),x(this,fr,null)}get type(){return h(this,Fn)}set type(e){switch(e){case null:x(this,Fn,null);break;case 0:case"legacy":x(this,Fn,0);break;case 1:case"berlin":case"eip-2930":x(this,Fn,1);break;case 2:case"london":case"eip-1559":x(this,Fn,2);break;case 3:case"cancun":case"eip-4844":x(this,Fn,3);break;default:E(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=h(this,ea);return e==null&&this.type===3?rc:e}set to(e){x(this,ea,e==null?null:pe(e))}get nonce(){return h(this,na)}set nonce(e){x(this,na,X(e,"value"))}get gasLimit(){return h(this,ra)}set gasLimit(e){x(this,ra,G(e))}get gasPrice(){const e=h(this,sa);return e==null&&(this.type===0||this.type===1)?Ge:e}set gasPrice(e){x(this,sa,e==null?null:G(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=h(this,ia);return e??(this.type===2||this.type===3?Ge:null)}set maxPriorityFeePerGas(e){x(this,ia,e==null?null:G(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=h(this,oa);return e??(this.type===2||this.type===3?Ge:null)}set maxFeePerGas(e){x(this,oa,e==null?null:G(e,"maxFeePerGas"))}get data(){return h(this,ta)}set data(e){x(this,ta,$(e))}get value(){return h(this,aa)}set value(e){x(this,aa,G(e,"value"))}get chainId(){return h(this,la)}set chainId(e){x(this,la,G(e))}get signature(){return h(this,ca)||null}set signature(e){x(this,ca,e==null?null:Tn.from(e))}get accessList(){const e=h(this,ua)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){x(this,ua,e==null?null:Qi(e))}get maxFeePerBlobGas(){const e=h(this,gi);return e==null&&this.type===3?Ge:e}set maxFeePerBlobGas(e){x(this,gi,e==null?null:G(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=h(this,ts);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){E(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)E(ye(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}x(this,ts,e)}get blobs(){return h(this,ns)==null?null:h(this,ns).map(e=>Object.assign({},e))}set blobs(e){if(e==null){x(this,ns,null);return}const n=[],r=[];for(let s=0;s<e.length;s++){const i=e[s];if(lm(i)){O(h(this,fr),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=ae(i);if(E(o.length<=lh,"blob is too large",`blobs[${s}]`,i),o.length!==lh){const c=new Uint8Array(lh);c.set(o),o=c}const l=h(this,fr).blobToKzgCommitment(o),a=$(h(this,fr).computeBlobKzgProof(o,l));n.push({data:$(o),commitment:$(l),proof:a}),r.push(My(1,l))}else{const o=$(i.commitment);n.push({data:$(i.data),commitment:o,proof:$(i.proof)}),r.push(My(1,o))}}x(this,ns,n),x(this,ts,r)}get kzg(){return h(this,fr)}set kzg(e){x(this,fr,e)}get hash(){return this.signature==null?null:Me(I(this,da,Bu).call(this,!0,!1))}get unsignedHash(){return Me(this.unsignedSerialized)}get from(){return this.signature==null?null:h_(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:sc.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return I(this,da,Bu).call(this,!0,!0)}get unsignedSerialized(){return I(this,da,Bu).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,s=h(this,gi)!=null||h(this,ts);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&O(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),O(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),O(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):n?i.push(2):e?(i.push(1),r||i.push(0)):r?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return ir.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new ir;if(typeof e=="string"){const r=ae(e);if(r[0]>=127)return ir.from(b_(r));switch(r[0]){case 1:return ir.from(k_(r));case 2:return ir.from(A_(r));case 3:return ir.from(C_(r))}O(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new ir;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=Tn.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(E(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),E(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(E(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),E(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}};Fn=new WeakMap,ea=new WeakMap,ta=new WeakMap,na=new WeakMap,ra=new WeakMap,sa=new WeakMap,ia=new WeakMap,oa=new WeakMap,aa=new WeakMap,la=new WeakMap,ca=new WeakMap,ua=new WeakMap,gi=new WeakMap,ts=new WeakMap,fr=new WeakMap,ns=new WeakMap,da=new WeakSet,Bu=function(e,n){O(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return x_(this,r);case 1:return S_(this,r);case 2:return E_(this,r);case 3:return P_(this,r,n?this.blobs:null)}O(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let Ad=ir;const bx=new Uint8Array(32);bx.fill(0);const __=BigInt(-1),xx=BigInt(0),Ax=BigInt(1),N_=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function T_(t){const e=ae(t),n=e.length%32;return n?Le([e,bx.slice(n)]):$(e)}const O_=_s(Ax,32),I_=_s(xx,32),Uy={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},ch=["name","version","chainId","verifyingContract","salt"];function Fy(t){return function(e){return E(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const R_={name:Fy("name"),version:Fy("version"),chainId:function(t){const e=G(t,"domain.chainId");return E(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Co(e)},verifyingContract:function(t){try{return pe(t).toLowerCase()}catch{}E(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=ae(t,"domain.salt");return E(e.length===32,'invalid domain value "salt"',"domain.salt",t),$(e)}};function uh(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);E(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const s=Zs(N_,n?r-1:r),i=n?(s+Ax)*__:xx;return function(o){const l=G(o,"value");return E(l>=i&&l<=s,`value out-of-bounds for ${t}`,"value",l),_s(n?cb(l,256):l,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return E(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const s=ae(r);return E(s.length===n,`invalid length for ${t}`,"value",r),T_(r)}}}switch(t){case"address":return function(e){return Ri(pe(e),32)};case"bool":return function(e){return e?O_:I_};case"bytes":return function(e){return Me(e)};case"string":return function(e){return Di(e)}}return null}function jy(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function du(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var yc,hr,fa,Id,Ex;const qt=class qt{constructor(e){P(this,Id);C(this,"primaryType");P(this,yc);P(this,hr);P(this,fa);x(this,hr,new Map),x(this,fa,new Map);const n=new Map,r=new Map,s=new Map,i={};Object.keys(e).forEach(a=>{i[a]=e[a].map(({name:c,type:u})=>{let{base:d,index:f}=du(u);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:c,type:d+(f||"")}}),n.set(a,new Set),r.set(a,[]),s.set(a,new Set)}),x(this,yc,JSON.stringify(i));for(const a in i){const c=new Set;for(const u of i[a]){E(!c.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(a)}`,"types",e),c.add(u.name);const d=du(u.type).base;E(d!==a,`circular type reference to ${JSON.stringify(d)}`,"types",e),!uh(d)&&(E(r.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),r.get(d).push(a),n.get(a).add(d))}}const o=Array.from(r.keys()).filter(a=>r.get(a).length===0);E(o.length!==0,"missing primary type","types",e),E(o.length===1,`ambiguous primary types or unused types: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),J(this,{primaryType:o[0]});function l(a,c){E(!c.has(a),`circular type reference to ${JSON.stringify(a)}`,"types",e),c.add(a);for(const u of n.get(a))if(r.has(u)){l(u,c);for(const d of c)s.get(d).add(u)}c.delete(a)}l(this.primaryType,new Set);for(const[a,c]of s){const u=Array.from(c);u.sort(),h(this,hr).set(a,jy(a,i[a])+u.map(d=>jy(d,i[d])).join(""))}}get types(){return JSON.parse(h(this,yc))}getEncoder(e){let n=h(this,fa).get(e);return n||(n=I(this,Id,Ex).call(this,e),h(this,fa).set(e,n)),n}encodeType(e){const n=h(this,hr).get(e);return E(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Me(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(uh(e))return r(e,n);const s=du(e).array;if(s)return E(s.count===-1||s.count===n.length,`array length mismatch; expected length ${s.count}`,"value",n),n.map(o=>this._visit(s.prefix,o,r));const i=this.types[e];if(i)return i.reduce((o,{name:l,type:a})=>(o[l]=this._visit(a,n[l],r),o),{});E(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new qt(e)}static getPrimaryType(e){return qt.from(e).primaryType}static hashStruct(e,n,r){return qt.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const s=Uy[r];E(s,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:s})}return n.sort((r,s)=>ch.indexOf(r.name)-ch.indexOf(s.name)),qt.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return Le(["0x1901",qt.hashDomain(e),qt.from(n).hash(r)])}static hash(e,n,r){return Me(qt.encode(e,n,r))}static async resolveNames(e,n,r,s){e=Object.assign({},e);for(const l in e)e[l]==null&&delete e[l];const i={};e.verifyingContract&&!ye(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=qt.from(n);o.visit(r,(l,a)=>(l==="address"&&!ye(a,20)&&(i[a]="0x"),a));for(const l in i)i[l]=await s(l);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=o.visit(r,(l,a)=>l==="address"&&i[a]?i[a]:a),{domain:e,value:r}}static getPayload(e,n,r){qt.hashDomain(e);const s={},i=[];ch.forEach(a=>{const c=e[a];c!=null&&(s[a]=R_[a](c),i.push({name:a,type:Uy[a]}))});const o=qt.from(n);n=o.types;const l=Object.assign({},n);return E(l.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),l.EIP712Domain=i,o.encode(r),{types:l,domain:s,primaryType:o.primaryType,message:o.visit(r,(a,c)=>{if(a.match(/^bytes(\d*)/))return $(ae(c));if(a.match(/^u?int/))return G(c).toString();switch(a){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return E(typeof c=="string","invalid string","value",c),c}E(!1,"unsupported type","type",a)})}}};yc=new WeakMap,hr=new WeakMap,fa=new WeakMap,Id=new WeakSet,Ex=function(e){{const s=uh(e);if(s)return s}const n=du(e).array;if(n){const s=n.prefix,i=this.getEncoder(s);return o=>{E(n.count===-1||n.count===o.length,`array length mismatch; expected length ${n.count}`,"value",o);let l=o.map(i);return h(this,hr).has(s)&&(l=l.map(Me)),Me(Le(l))}}const r=this.types[e];if(r){const s=Di(h(this,hr).get(e));return i=>{const o=r.map(({name:l,type:a})=>{const c=this.getEncoder(a)(i[l]);return h(this,hr).has(a)?Me(c):c});return o.unshift(s),Le(o)}}E(!1,`unknown type: ${e}`,"type",e)};let Ed=qt;function vt(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const B_="external public payable override",L_=vt(B_.split(" ")),kx="constant external internal payable private public pure view override",D_=vt(kx.split(" ")),Sx="constructor error event fallback function receive struct",Cx=vt(Sx.split(" ")),Px="calldata memory storage payable indexed",M_=vt(Px.split(" ")),U_="tuple returns",F_=[Sx,Px,U_,kx].join(" "),j_=vt(F_.split(" ")),z_={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},H_=new RegExp("^(\\s*)"),$_=new RegExp("^([0-9]+)"),G_=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),_x=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Nx=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Ke,xn,wc,zp;const Rd=class Rd{constructor(e){P(this,wc);P(this,Ke);P(this,xn);x(this,Ke,0),x(this,xn,e.slice())}get offset(){return h(this,Ke)}get length(){return h(this,xn).length-h(this,Ke)}clone(){return new Rd(h(this,xn))}reset(){x(this,Ke,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=I(this,wc,zp).call(this,h(this,Ke)+1,e.match+1);return x(this,Ke,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;h(this,Ke)<e.match-1;){const r=this.peek().linkNext;n.push(I(this,wc,zp).call(this,h(this,Ke)+1,r)),x(this,Ke,r)}return x(this,Ke,e.match+1),n}peek(){if(h(this,Ke)>=h(this,xn).length)throw new Error("out-of-bounds");return h(this,xn)[h(this,Ke)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return qa(this,Ke)._++,e}toString(){const e=[];for(let n=h(this,Ke);n<h(this,xn).length;n++){const r=h(this,xn)[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};Ke=new WeakMap,xn=new WeakMap,wc=new WeakSet,zp=function(e=0,n=0){return new Rd(h(this,xn).slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let On=Rd;function Ls(t){const e=[],n=o=>{const l=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${l} at ${i}: ${o}`)};let r=[],s=[],i=0;for(;i<t.length;){let o=t.substring(i),l=o.match(H_);l&&(i+=l[1].length,o=t.substring(i));const a={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(a);let c=z_[o[0]]||"";if(c){if(a.type=c,a.text=o[0],i++,c==="OPEN_PAREN")r.push(e.length-1),s.push(e.length-1);else if(c=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),a.match=r.pop(),e[a.match].match=e.length-1,a.depth--,a.linkBack=s.pop(),e[a.linkBack].linkNext=e.length-1;else if(c==="COMMA")a.linkBack=s.pop(),e[a.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(c==="OPEN_BRACKET")a.type="BRACKET";else if(c==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const d=e.pop().text;u=d+u,e[e.length-1].value=X(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(l=o.match(G_),l){if(a.text=l[1],i+=a.text.length,j_.has(a.text)){a.type="KEYWORD";continue}if(a.text.match(Nx)){a.type="TYPE";continue}a.type="ID";continue}if(l=o.match($_),l){a.text=l[1],a.type="NUMBER",i+=a.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new On(e.map(o=>Object.freeze(o)))}function zy(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function df(t,e){if(e.peekKeyword(Cx)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Ir(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function Tx(t){let e=Ir(t,D_);return zy(e,vt("constant payable nonpayable".split(" "))),zy(e,vt("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Cr(t,e){return t.popParams().map(n=>et.from(n,e))}function Ox(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return G(t.pop().text);throw new Error("invalid gas")}return null}function Mi(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const V_=new RegExp(/^(.*)\[([0-9]*)\]$/);function Hy(t){const e=t.match(Nx);if(E(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);E(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);E(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const Se={},Bt=Symbol.for("_ethers_internal"),$y="_ParamTypeInternal",Gy="_ErrorInternal",Vy="_EventInternal",Qy="_ConstructorInternal",Wy="_FallbackInternal",Jy="_FunctionInternal",Ky="_StructInternal";var ha,Lu;const Xt=class Xt{constructor(e,n,r,s,i,o,l,a){P(this,ha);C(this,"name");C(this,"type");C(this,"baseType");C(this,"indexed");C(this,"components");C(this,"arrayLength");C(this,"arrayChildren");if(Ic(e,Se,"ParamType"),Object.defineProperty(this,Bt,{value:$y}),o&&(o=Object.freeze(o.slice())),s==="array"){if(l==null||a==null)throw new Error("")}else if(l!=null||a!=null)throw new Error("");if(s==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");J(this,{name:n,type:r,baseType:s,indexed:i,components:o,arrayLength:l,arrayChildren:a})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=r,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(s=>r.arrayChildren.walk(s,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((s,i)=>r.components[i].walk(s,n))}return n(this.type,e)}async walkAsync(e,n){const r=[],s=[e];return I(this,ha,Lu).call(this,r,e,n,i=>{s[0]=i}),r.length&&await Promise.all(r),s[0]}static from(e,n){if(Xt.isParamType(e))return e;if(typeof e=="string")try{return Xt.from(Ls(e),n)}catch{E(!1,"invalid param type","obj",e)}else if(e instanceof On){let l="",a="",c=null;Ir(e,vt(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(a="tuple",c=e.popParams().map(m=>Xt.from(m)),l=`tuple(${c.map(m=>m.format()).join(",")})`):(l=Hy(e.popType("TYPE")),a=l);let u=null,d=null;for(;e.length&&e.peekType("BRACKET");){const m=e.pop();u=new Xt(Se,"",l,a,null,c,d,u),d=m.value,l+=m.text,a="array",c=null}let f=null;if(Ir(e,M_).has("indexed")){if(!n)throw new Error("");f=!0}const g=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Xt(Se,g,l,a,f,c,d,u)}const r=e.name;E(!r||typeof r=="string"&&r.match(_x),"invalid name","obj.name",r);let s=e.indexed;s!=null&&(E(n,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,o=i.match(V_);if(o){const l=parseInt(o[2]||"-1"),a=Xt.from({type:o[1],components:e.components});return new Xt(Se,r||"",i,"array",s,null,l,a)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const l=e.components!=null?e.components.map(c=>Xt.from(c)):null;return new Xt(Se,r||"",i,"tuple",s,l,null,null)}return i=Hy(e.type),new Xt(Se,r||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[Bt]===$y}};ha=new WeakSet,Lu=function(e,n,r,s){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,l=n.slice();l.forEach((a,c)=>{var u;I(u=o,ha,Lu).call(u,e,a,r,d=>{l[c]=d})}),s(l);return}if(this.isTuple()){const o=this.components;let l;if(Array.isArray(n))l=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");l=o.map(a=>{if(!a.name)throw new Error("cannot use object value with unnamed components");if(!(a.name in n))throw new Error(`missing value for component ${a.name}`);return n[a.name]})}if(l.length!==this.components.length)throw new Error("array is wrong length");l.forEach((a,c)=>{var u;I(u=o[c],ha,Lu).call(u,e,a,r,d=>{l[c]=d})}),s(l);return}const i=r(this.type,n);i.then?e.push(async function(){s(await i)}()):s(i)};let et=Xt;class Ui{constructor(e,n,r){C(this,"type");C(this,"inputs");Ic(e,Se,"Fragment"),r=Object.freeze(r.slice()),J(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{Ui.from(JSON.parse(e))}catch{}return Ui.from(Ls(e))}if(e instanceof On)switch(e.peekKeyword(Cx)){case"constructor":return Er.from(e);case"error":return _t.from(e);case"event":return Wn.from(e);case"fallback":case"receive":return ar.from(e);case"function":return Jn.from(e);case"struct":return Pi.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Er.from(e);case"error":return _t.from(e);case"event":return Wn.from(e);case"fallback":case"receive":return ar.from(e);case"function":return Jn.from(e);case"struct":return Pi.from(e)}O(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}E(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Er.isFragment(e)}static isError(e){return _t.isFragment(e)}static isEvent(e){return Wn.isFragment(e)}static isFunction(e){return Jn.isFragment(e)}static isStruct(e){return Pi.isFragment(e)}}class ff extends Ui{constructor(n,r,s,i){super(n,r,i);C(this,"name");E(typeof s=="string"&&s.match(_x),"invalid identifier","name",s),i=Object.freeze(i.slice()),J(this,{name:s})}}function cc(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class _t extends ff{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,Bt,{value:Gy})}get selector(){return Di(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+cc(e,this.inputs)),n.join(" ")}static from(e){if(_t.isFragment(e))return e;if(typeof e=="string")return _t.from(Ls(e));if(e instanceof On){const n=df("error",e),r=Cr(e);return Mi(e),new _t(Se,n,r)}return new _t(Se,e.name,e.inputs?e.inputs.map(et.from):[])}static isFragment(e){return e&&e[Bt]===Gy}}class Wn extends ff{constructor(n,r,s,i){super(n,"event",r,s);C(this,"anonymous");Object.defineProperty(this,Bt,{value:Vy}),J(this,{anonymous:i})}get topicHash(){return Di(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(n)))});const r=[];return n!=="sighash"&&r.push("event"),r.push(this.name+cc(n,this.inputs)),n!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(n,r){return r=(r||[]).map(i=>et.from(i)),new Wn(Se,n,r,!1).topicHash}static from(n){if(Wn.isFragment(n))return n;if(typeof n=="string")try{return Wn.from(Ls(n))}catch{E(!1,"invalid event fragment","obj",n)}else if(n instanceof On){const r=df("event",n),s=Cr(n,!0),i=!!Ir(n,vt(["anonymous"])).has("anonymous");return Mi(n),new Wn(Se,r,s,i)}return new Wn(Se,n.name,n.inputs?n.inputs.map(r=>et.from(r,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[Bt]===Vy}}class Er extends Ui{constructor(n,r,s,i,o){super(n,r,s);C(this,"payable");C(this,"gas");Object.defineProperty(this,Bt,{value:Qy}),J(this,{payable:i,gas:o})}format(n){if(O(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(n)))});const r=[`constructor${cc(n,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(n){if(Er.isFragment(n))return n;if(typeof n=="string")try{return Er.from(Ls(n))}catch{E(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof On){Ir(n,vt(["constructor"]));const r=Cr(n),s=!!Ir(n,L_).has("payable"),i=Ox(n);return Mi(n),new Er(Se,"constructor",r,s,i)}return new Er(Se,"constructor",n.inputs?n.inputs.map(et.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Bt]===Qy}}class ar extends Ui{constructor(n,r,s){super(n,"fallback",r);C(this,"payable");Object.defineProperty(this,Bt,{value:Wy}),J(this,{payable:s})}format(n){const r=this.inputs.length===0?"receive":"fallback";if(n==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:s})}return`${r}()${this.payable?" payable":""}`}static from(n){if(ar.isFragment(n))return n;if(typeof n=="string")try{return ar.from(Ls(n))}catch{E(!1,"invalid fallback fragment","obj",n)}else if(n instanceof On){const r=n.toString(),s=n.peekKeyword(vt(["fallback","receive"]));if(E(s,"type must be fallback or receive","obj",r),n.popKeyword(vt(["fallback","receive"]))==="receive"){const a=Cr(n);return E(a.length===0,"receive cannot have arguments","obj.inputs",a),Ir(n,vt(["payable"])),Mi(n),new ar(Se,[],!0)}let o=Cr(n);o.length?E(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(a=>a.format("minimal")).join(", ")):o=[et.from("bytes")];const l=Tx(n);if(E(l==="nonpayable"||l==="payable","fallback cannot be constants","obj.stateMutability",l),Ir(n,vt(["returns"])).has("returns")){const a=Cr(n);E(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(c=>c.format("minimal")).join(", "))}return Mi(n),new ar(Se,o,l==="payable")}if(n.type==="receive")return new ar(Se,[],!0);if(n.type==="fallback"){const r=[et.from("bytes")],s=n.stateMutability==="payable";return new ar(Se,r,s)}E(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[Bt]===Wy}}class Jn extends ff{constructor(n,r,s,i,o,l){super(n,"function",r,i);C(this,"constant");C(this,"outputs");C(this,"stateMutability");C(this,"payable");C(this,"gas");Object.defineProperty(this,Bt,{value:Jy}),o=Object.freeze(o.slice()),J(this,{constant:s==="view"||s==="pure",gas:l,outputs:o,payable:s==="payable",stateMutability:s})}get selector(){return Di(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(n))),outputs:this.outputs.map(s=>JSON.parse(s.format(n)))});const r=[];return n!=="sighash"&&r.push("function"),r.push(this.name+cc(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(cc(n,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(n,r){return r=(r||[]).map(i=>et.from(i)),new Jn(Se,n,"view",r,[],null).selector}static from(n){if(Jn.isFragment(n))return n;if(typeof n=="string")try{return Jn.from(Ls(n))}catch{E(!1,"invalid function fragment","obj",n)}else if(n instanceof On){const s=df("function",n),i=Cr(n),o=Tx(n);let l=[];Ir(n,vt(["returns"])).has("returns")&&(l=Cr(n));const a=Ox(n);return Mi(n),new Jn(Se,s,o,i,l,a)}let r=n.stateMutability;return r==null&&(r="payable",typeof n.constant=="boolean"?(r="view",n.constant||(r="payable",typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable")),new Jn(Se,n.name,r,n.inputs?n.inputs.map(et.from):[],n.outputs?n.outputs.map(et.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Bt]===Jy}}class Pi extends ff{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,Bt,{value:Ky})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Pi.from(Ls(e))}catch{E(!1,"invalid struct fragment","obj",e)}else if(e instanceof On){const n=df("struct",e),r=Cr(e);return Mi(e),new Pi(Se,n,r)}return new Pi(Se,e.name,e.inputs?e.inputs.map(et.from):[])}static isFragment(e){return e&&e[Bt]===Ky}}const In=new Map;In.set(0,"GENERIC_PANIC");In.set(1,"ASSERT_FALSE");In.set(17,"OVERFLOW");In.set(18,"DIVIDE_BY_ZERO");In.set(33,"ENUM_RANGE_ERROR");In.set(34,"BAD_STORAGE_DATA");In.set(49,"STACK_UNDERFLOW");In.set(50,"ARRAY_RANGE_ERROR");In.set(65,"OUT_OF_MEMORY");In.set(81,"UNINITIALIZED_FUNCTION_CALL");const Q_=new RegExp(/^bytes([0-9]*)$/),W_=new RegExp(/^(u?int)([0-9]*)$/);let dh=null,Yy=1024;function J_(t,e,n,r){let s="missing revert data",i=null;const o=null;let l=null;if(n){s="execution reverted";const c=ae(n);if(n=$(n),c.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(c.length%32!==4)s+=" (could not decode reason; invalid data length)";else if($(c.slice(0,4))==="0x08c379a0")try{i=r.decode(["string"],c.slice(4))[0],l={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if($(c.slice(0,4))==="0x4e487b71")try{const u=Number(r.decode(["uint256"],c.slice(4))[0]);l={signature:"Panic(uint256)",name:"Panic",args:[u]},i=`Panic due to ${In.get(u)||"UNKNOWN"}(${u})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const a={to:e.to?pe(e.to):null,data:e.data||"0x"};return e.from&&(a.from=pe(e.from)),_e(s,"CALL_EXCEPTION",{action:t,data:n,reason:i,transaction:a,invocation:o,revert:l})}var rs,co;const Bd=class Bd{constructor(){P(this,rs)}getDefaultValue(e){const n=e.map(s=>I(this,rs,co).call(this,et.from(s)));return new uu(n,"_").defaultValue()}encode(e,n){ob(n.length,e.length,"types/values length mismatch");const r=e.map(o=>I(this,rs,co).call(this,et.from(o))),s=new uu(r,"_"),i=new Pp;return s.encode(i,n),i.data}decode(e,n,r){const s=e.map(o=>I(this,rs,co).call(this,et.from(o)));return new uu(s,"_").decode(new _p(n,r,Yy))}static _setDefaultMaxInflation(e){E(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Yy=e}static defaultAbiCoder(){return dh==null&&(dh=new Bd),dh}static getBuiltinCallException(e,n,r){return J_(e,n,r,Bd.defaultAbiCoder())}};rs=new WeakSet,co=function(e){if(e.isArray())return new yP(I(this,rs,co).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new uu(e.components.map(r=>I(this,rs,co).call(this,r)),e.name);switch(e.baseType){case"address":return new gP(e.name);case"bool":return new wP(e.name);case"string":return new PP(e.name);case"bytes":return new vP(e.name);case"":return new AP(e.name)}let n=e.type.match(W_);if(n){let r=parseInt(n[2]||"256");return E(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new CP(r/8,n[1]==="int",e.name)}if(n=e.type.match(Q_),n){let r=parseInt(n[1]);return E(r!==0&&r<=32,"invalid bytes length","param",e),new bP(r,e.name)}E(!1,"invalid type","type",e.type)};let uc=Bd;class K_{constructor(e,n,r){C(this,"fragment");C(this,"name");C(this,"signature");C(this,"topic");C(this,"args");const s=e.name,i=e.format();J(this,{fragment:e,name:s,signature:i,topic:n,args:r})}}class Y_{constructor(e,n,r,s){C(this,"fragment");C(this,"name");C(this,"args");C(this,"signature");C(this,"selector");C(this,"value");const i=e.name,o=e.format();J(this,{fragment:e,name:i,args:r,signature:o,selector:n,value:s})}}class q_{constructor(e,n,r){C(this,"fragment");C(this,"name");C(this,"args");C(this,"signature");C(this,"selector");const s=e.name,i=e.format();J(this,{fragment:e,name:s,args:r,signature:i,selector:n})}}class qy{constructor(e){C(this,"hash");C(this,"_isIndexed");J(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const Xy={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Zy={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&Xy[t.toString()]&&(e=Xy[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var jn,zn,Hn,it,Xn,Du,Mu;const Ks=class Ks{constructor(e){P(this,Xn);C(this,"fragments");C(this,"deploy");C(this,"fallback");C(this,"receive");P(this,jn);P(this,zn);P(this,Hn);P(this,it);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,x(this,Hn,new Map),x(this,jn,new Map),x(this,zn,new Map);const r=[];for(const o of n)try{r.push(Ui.from(o))}catch(l){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,l.message)}J(this,{fragments:Object.freeze(r)});let s=null,i=!1;x(this,it,this.getAbiCoder()),this.fragments.forEach((o,l)=>{let a;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}J(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(E(!s||o.payable!==s.payable,"conflicting fallback fragments",`fragments[${l}]`,o),s=o,i=s.payable);return;case"function":a=h(this,Hn);break;case"event":a=h(this,zn);break;case"error":a=h(this,jn);break;default:return}const c=o.format();a.has(c)||a.set(c,o)}),this.deploy||J(this,{deploy:Er.from("constructor()")}),J(this,{fallback:s,receive:i})}format(e){const n=e?"minimal":"full";return this.fragments.map(s=>s.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return uc.defaultAbiCoder()}getFunctionName(e){const n=I(this,Xn,Du).call(this,e,null,!1);return E(n,"no matching function","key",e),n.name}hasFunction(e){return!!I(this,Xn,Du).call(this,e,null,!1)}getFunction(e,n){return I(this,Xn,Du).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(h(this,Hn).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(h(this,Hn).get(s),r)}}getEventName(e){const n=I(this,Xn,Mu).call(this,e,null,!1);return E(n,"no matching event","key",e),n.name}hasEvent(e){return!!I(this,Xn,Mu).call(this,e,null,!1)}getEvent(e,n){return I(this,Xn,Mu).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(h(this,zn).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(h(this,zn).get(s),r)}}getError(e,n){if(ye(e)){const s=e.toLowerCase();if(Zy[s])return _t.from(Zy[s].signature);for(const i of h(this,jn).values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){const s=[];for(const[i,o]of h(this,jn))i.split("(")[0]===e&&s.push(o);if(s.length===0)return e==="Error"?_t.from("error Error(string)"):e==="Panic"?_t.from("error Panic(uint256)"):null;if(s.length>1){const i=s.map(o=>JSON.stringify(o.format())).join(", ");E(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=_t.from(e).format(),e==="Error(string)")return _t.from("error Error(string)");if(e==="Panic(uint256)")return _t.from("error Panic(uint256)");const r=h(this,jn).get(e);return r||null}forEachError(e){const n=Array.from(h(this,jn).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(h(this,jn).get(s),r)}}_decodeParams(e,n){return h(this,it).decode(e,n)}_encodeParams(e,n){return h(this,it).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);E(r,"unknown error","fragment",e),e=r}return E(Ne(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,Ne(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);E(r,"unknown error","fragment",e),e=r}return Le([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);E(r,"unknown function","fragment",e),e=r}return E(Ne(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,Ne(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);E(r,"unknown function","fragment",e),e=r}return Le([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const i=this.getFunction(e);E(i,"unknown function","fragment",e),e=i}let r="invalid length for result data";const s=gt(n);if(s.length%32===0)try{return h(this,it).decode(e.outputs,s)}catch{r="could not decode result data"}O(!1,r,"BAD_DATA",{value:$(s),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=ae(e,"data"),s=uc.getBuiltinCallException("call",n,r);if(s.message.startsWith("execution reverted (unknown custom error)")){const l=$(r.slice(0,4)),a=this.getError(l);if(a)try{const c=h(this,it).decode(a.inputs,r.slice(4));s.revert={name:a.name,signature:a.format(),args:c},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(n);return o&&(s.invocation={method:o.name,signature:o.signature,args:o.args}),s}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);E(r,"unknown function","fragment",e),e=r}return $(h(this,it).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const i=this.getEvent(e);E(i,"unknown event","eventFragment",e),e=i}O(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const s=(i,o)=>i.type==="string"?Di(o):i.type==="bytes"?Me($(o)):(i.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=_s(o):i.type.match(/^bytes/)?o=yS(o,32):i.type==="address"&&h(this,it).encode(["address"],[o]),Ri($(o),32));for(n.forEach((i,o)=>{const l=e.inputs[o];if(!l.indexed){E(i==null,"cannot filter non-indexed parameters; must be null","contract."+l.name,i);return}i==null?r.push(null):l.baseType==="array"||l.baseType==="tuple"?E(!1,"filtering with tuples or arrays not supported","contract."+l.name,i):Array.isArray(i)?r.push(i.map(a=>s(l,a))):r.push(s(l,i))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const o=this.getEvent(e);E(o,"unknown event","eventFragment",e),e=o}const r=[],s=[],i=[];return e.anonymous||r.push(e.topicHash),E(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((o,l)=>{const a=n[l];if(o.indexed)if(o.type==="string")r.push(Di(a));else if(o.type==="bytes")r.push(Me(a));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(h(this,it).encode([o.type],[a]))}else s.push(o),i.push(a)}),{data:h(this,it).encode(s,i),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const p=this.getEvent(e);E(p,"unknown event","eventFragment",e),e=p}if(r!=null&&!e.anonymous){const p=e.topicHash;E(ye(r[0],32)&&r[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const s=[],i=[],o=[];e.inputs.forEach((p,g)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(s.push(et.from({type:"bytes32",name:p.name})),o.push(!0)):(s.push(p),o.push(!1)):(i.push(p),o.push(!1))});const l=r!=null?h(this,it).decode(s,Le(r)):null,a=h(this,it).decode(i,n,!0),c=[],u=[];let d=0,f=0;return e.inputs.forEach((p,g)=>{let m=null;if(p.indexed)if(l==null)m=new qy(null);else if(o[g])m=new qy(l[f++]);else try{m=l[f++]}catch(A){m=A}else try{m=a[d++]}catch(A){m=A}c.push(m),u.push(p.name||null)}),La.fromItems(c,u)}parseTransaction(e){const n=ae(e.data,"tx.data"),r=G(e.value!=null?e.value:0,"tx.value"),s=this.getFunction($(n.slice(0,4)));if(!s)return null;const i=h(this,it).decode(s.inputs,n.slice(4));return new Y_(s,s.selector,i,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new K_(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=$(e),r=this.getError(Ne(n,0,4));if(!r)return null;const s=h(this,it).decode(r.inputs,Ne(n,4));return new q_(r,r.selector,s)}static from(e){return e instanceof Ks?e:typeof e=="string"?new Ks(JSON.parse(e)):typeof e.formatJson=="function"?new Ks(e.formatJson()):typeof e.format=="function"?new Ks(e.format("json")):new Ks(e)}};jn=new WeakMap,zn=new WeakMap,Hn=new WeakMap,it=new WeakMap,Xn=new WeakSet,Du=function(e,n,r){if(ye(e)){const i=e.toLowerCase();for(const o of h(this,Hn).values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,l]of h(this,Hn))o.split("(")[0]===e&&i.push(l);if(n){const o=n.length>0?n[n.length-1]:null;let l=n.length,a=!0;ct.isTyped(o)&&o.type==="overrides"&&(a=!1,l--);for(let c=i.length-1;c>=0;c--){const u=i[c].inputs.length;u!==l&&(!a||u!==l-1)&&i.splice(c,1)}for(let c=i.length-1;c>=0;c--){const u=i[c].inputs;for(let d=0;d<n.length;d++)if(ct.isTyped(n[d])){if(d>=u.length){if(n[d].type==="overrides")continue;i.splice(c,1);break}if(n[d].type!==u[d].baseType){i.splice(c,1);break}}}}if(i.length===1&&n&&n.length!==i[0].inputs.length){const o=n[n.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&r){const o=i.map(l=>JSON.stringify(l.format())).join(", ");E(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return i[0]}const s=h(this,Hn).get(Jn.from(e).format());return s||null},Mu=function(e,n,r){if(ye(e)){const i=e.toLowerCase();for(const o of h(this,zn).values())if(i===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,l]of h(this,zn))o.split("(")[0]===e&&i.push(l);if(n){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<n.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){const l=i[o].inputs;for(let a=0;a<n.length;a++)if(ct.isTyped(n[a])&&n[a].type!==l[a].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&r){const o=i.map(l=>JSON.stringify(l.format())).join(", ");E(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return i[0]}const s=h(this,zn).get(Wn.from(e).format());return s||null};let Hp=Ks;const Ix=BigInt(0);function zo(t){return t??null}function Oe(t){return t==null?null:t.toString()}class ew{constructor(e,n,r){C(this,"gasPrice");C(this,"maxFeePerGas");C(this,"maxPriorityFeePerGas");J(this,{gasPrice:zo(e),maxFeePerGas:zo(n),maxPriorityFeePerGas:zo(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Oe(e),maxFeePerGas:Oe(n),maxPriorityFeePerGas:Oe(r)}}}function kd(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=$(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of n)!(s in t)||t[s]==null||(e[s]=G(t[s],`request.${s}`));const r="type,nonce".split(/,/);for(const s of r)!(s in t)||t[s]==null||(e[s]=X(t[s],`request.${s}`));return t.accessList&&(e.accessList=Qi(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(s=>lm(s)?$(s):Object.assign({},s))),e}var pr;class X_{constructor(e,n){C(this,"provider");C(this,"number");C(this,"hash");C(this,"timestamp");C(this,"parentHash");C(this,"parentBeaconBlockRoot");C(this,"nonce");C(this,"difficulty");C(this,"gasLimit");C(this,"gasUsed");C(this,"stateRoot");C(this,"receiptsRoot");C(this,"blobGasUsed");C(this,"excessBlobGas");C(this,"miner");C(this,"prevRandao");C(this,"extraData");C(this,"baseFeePerGas");P(this,pr);x(this,pr,e.transactions.map(r=>typeof r!="string"?new dc(r,n):r)),J(this,{provider:n,hash:zo(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:zo(e.prevRandao),extraData:e.extraData,baseFeePerGas:zo(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return h(this,pr).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=h(this,pr).slice();return e.length===0?[]:(O(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:s,gasUsed:i,hash:o,miner:l,prevRandao:a,nonce:c,number:u,parentHash:d,parentBeaconBlockRoot:f,stateRoot:p,receiptsRoot:g,timestamp:m,transactions:A}=this;return{_type:"Block",baseFeePerGas:Oe(e),difficulty:Oe(n),extraData:r,gasLimit:Oe(s),gasUsed:Oe(i),blobGasUsed:Oe(this.blobGasUsed),excessBlobGas:Oe(this.excessBlobGas),hash:o,miner:l,prevRandao:a,nonce:c,number:u,parentHash:d,timestamp:m,parentBeaconBlockRoot:f,stateRoot:p,receiptsRoot:g,transactions:A}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return h(this,pr).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=h(this,pr)[e];else{const r=e.toLowerCase();for(const s of h(this,pr))if(typeof s=="string"){if(s!==r)continue;n=s;break}else{if(s.hash===r)continue;n=s;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;E(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return Z_(this)}}pr=new WeakMap;class Lc{constructor(e,n){C(this,"provider");C(this,"transactionHash");C(this,"blockHash");C(this,"blockNumber");C(this,"removed");C(this,"address");C(this,"data");C(this,"topics");C(this,"index");C(this,"transactionIndex");this.provider=n;const r=Object.freeze(e.topics.slice());J(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:s,index:i,removed:o,topics:l,transactionHash:a,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:s,index:i,removed:o,topics:l,transactionHash:a,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return O(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return O(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return O(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return eN(this)}}var vc;class Rx{constructor(e,n){C(this,"provider");C(this,"to");C(this,"from");C(this,"contractAddress");C(this,"hash");C(this,"index");C(this,"blockHash");C(this,"blockNumber");C(this,"logsBloom");C(this,"gasUsed");C(this,"blobGasUsed");C(this,"cumulativeGasUsed");C(this,"gasPrice");C(this,"blobGasPrice");C(this,"type");C(this,"status");C(this,"root");P(this,vc);x(this,vc,Object.freeze(e.logs.map(s=>new Lc(s,n))));let r=Ix;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),J(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return h(this,vc)}toJSON(){const{to:e,from:n,contractAddress:r,hash:s,index:i,blockHash:o,blockNumber:l,logsBloom:a,logs:c,status:u,root:d}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:l,contractAddress:r,cumulativeGasUsed:Oe(this.cumulativeGasUsed),from:n,gasPrice:Oe(this.gasPrice),blobGasUsed:Oe(this.blobGasUsed),blobGasPrice:Oe(this.blobGasPrice),gasUsed:Oe(this.gasUsed),hash:s,index:i,logs:c,logsBloom:a,root:d,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Lx(this)}reorderedEvent(e){return O(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Bx(this,e)}}vc=new WeakMap;var ss;const Dm=class Dm{constructor(e,n){C(this,"provider");C(this,"blockNumber");C(this,"blockHash");C(this,"index");C(this,"hash");C(this,"type");C(this,"to");C(this,"from");C(this,"nonce");C(this,"gasLimit");C(this,"gasPrice");C(this,"maxPriorityFeePerGas");C(this,"maxFeePerGas");C(this,"maxFeePerBlobGas");C(this,"data");C(this,"value");C(this,"chainId");C(this,"signature");C(this,"accessList");C(this,"blobVersionedHashes");P(this,ss);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,x(this,ss,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:s,type:i,to:o,from:l,nonce:a,data:c,signature:u,accessList:d,blobVersionedHashes:f}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:e,blockHash:n,blobVersionedHashes:f,chainId:Oe(this.chainId),data:c,from:l,gasLimit:Oe(this.gasLimit),gasPrice:Oe(this.gasPrice),hash:s,maxFeePerGas:Oe(this.maxFeePerGas),maxPriorityFeePerGas:Oe(this.maxPriorityFeePerGas),maxFeePerBlobGas:Oe(this.maxFeePerBlobGas),nonce:a,signature:u,to:o,index:r,type:i,value:Oe(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await pt({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,s=n??0;let i=h(this,ss),o=-1,l=i===-1;const a=async()=>{if(l)return null;const{blockNumber:f,nonce:p}=await pt({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){i=f;return}if(l)return null;const g=await this.getTransaction();if(!(g&&g.blockNumber!=null))for(o===-1&&(o=i-3,o<h(this,ss)&&(o=h(this,ss)));o<=f;){if(l)return null;const m=await this.provider.getBlock(o,!0);if(m==null)return;for(const A of m)if(A===this.hash)return;for(let A=0;A<m.length;A++){const y=await m.getTransaction(A);if(y.from===this.from&&y.nonce===this.nonce){if(l)return null;const w=await this.provider.getTransactionReceipt(y.hash);if(w==null||f-w.blockNumber+1<r)return;let v="replaced";y.data===this.data&&y.to===this.to&&y.value===this.value?v="repriced":y.data==="0x"&&y.from===y.to&&y.value===Ix&&(v="cancelled"),O(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:v==="replaced"||v==="cancelled",reason:v,replacement:y.replaceableTransaction(i),hash:y.hash,receipt:w})}}o++}},c=f=>{if(f==null||f.status!==0)return f;O(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:f.to,from:f.from,data:""},receipt:f})},u=await this.provider.getTransactionReceipt(this.hash);if(r===0)return c(u);if(u){if(await u.confirmations()>=r)return c(u)}else if(await a(),r===0)return null;return await new Promise((f,p)=>{const g=[],m=()=>{g.forEach(y=>y())};if(g.push(()=>{l=!0}),s>0){const y=setTimeout(()=>{m(),p(_e("wait for transaction timeout","TIMEOUT"))},s);g.push(()=>{clearTimeout(y)})}const A=async y=>{if(await y.confirmations()>=r){m();try{f(c(y))}catch(w){p(w)}}};if(g.push(()=>{this.provider.off(this.hash,A)}),this.provider.on(this.hash,A),i>=0){const y=async()=>{try{await a()}catch(w){if(Xe(w,"TRANSACTION_REPLACED")){m(),p(w);return}}l||this.provider.once("block",y)};g.push(()=>{this.provider.off("block",y)}),this.provider.once("block",y)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return O(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Lx(this)}reorderedEvent(e){return O(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),O(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Bx(this,e)}replaceableTransaction(e){E(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new Dm(this,this.provider);return x(n,ss,e),n}};ss=new WeakMap;let dc=Dm;function Z_(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function Bx(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function Lx(t){return{orphan:"drop-transaction",tx:t}}function eN(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class km extends Lc{constructor(n,r,s){super(n,n.provider);C(this,"interface");C(this,"fragment");C(this,"args");const i=r.decodeEventLog(s,n.data,n.topics);J(this,{args:i,fragment:s,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Dx extends Lc{constructor(n,r){super(n,n.provider);C(this,"error");J(this,{error:r})}}var pa;class tN extends Rx{constructor(n,r,s){super(s,r);P(this,pa);x(this,pa,n)}get logs(){return super.logs.map(n=>{const r=n.topics.length?h(this,pa).getEvent(n.topics[0]):null;if(r)try{return new km(n,h(this,pa),r)}catch(s){return new Dx(n,s)}return n})}}pa=new WeakMap;var bc;class Sm extends dc{constructor(n,r,s){super(s,r);P(this,bc);x(this,bc,n)}async wait(n,r){const s=await super.wait(n,r);return s==null?null:new tN(h(this,bc),this.provider,s)}}bc=new WeakMap;class Mx extends ub{constructor(n,r,s,i){super(n,r,s);C(this,"log");J(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class nN extends Mx{constructor(e,n,r,s,i){super(e,n,r,new km(i,e.interface,s));const o=e.interface.decodeEventLog(s,this.log.data,this.log.topics);J(this,{args:o,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const tw=BigInt(0);function Ux(t){return t&&typeof t.call=="function"}function Fx(t){return t&&typeof t.estimateGas=="function"}function hf(t){return t&&typeof t.resolveName=="function"}function jx(t){return t&&typeof t.sendTransaction=="function"}function zx(t){if(t!=null){if(hf(t))return t;if(t.provider)return t.provider}}var xc;class rN{constructor(e,n,r){P(this,xc);C(this,"fragment");if(J(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const s=Fi(e.runner,"resolveName"),i=hf(s)?s:null;x(this,xc,async function(){const o=await Promise.all(n.inputs.map((l,a)=>r[a]==null?null:l.walkAsync(r[a],(u,d)=>u==="address"?Array.isArray(d)?Promise.all(d.map(f=>wt(f,i))):wt(d,i):d)));return e.interface.encodeFilterTopics(n,o)}())}getTopicFilter(){return h(this,xc)}}xc=new WeakMap;function Fi(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function ni(t){return t==null?null:t.provider||null}async function Hx(t,e){const n=ct.dereference(t,"overrides");E(typeof n=="object","invalid overrides parameter","overrides",t);const r=kd(n);return E(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),E(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function sN(t,e,n){const r=Fi(t,"resolveName"),s=hf(r)?r:null;return await Promise.all(e.map((i,o)=>i.walkAsync(n[o],(l,a)=>(a=ct.dereference(a,l),l==="address"?wt(a,s):a))))}function iN(t){const e=async function(o){const l=await Hx(o,["data"]);l.to=await t.getAddress(),l.from&&(l.from=await wt(l.from,zx(t.runner)));const a=t.interface,c=G(l.value||tw,"overrides.value")===tw,u=(l.data||"0x")==="0x";a.fallback&&!a.fallback.payable&&a.receive&&!u&&!c&&E(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),E(a.fallback||u,"cannot send data to receive-only contract","overrides.data",l.data);const d=a.receive||a.fallback&&a.fallback.payable;return E(d||c,"cannot send value to non-payable fallback","overrides.value",l.value),E(a.fallback||u,"cannot send data to receive-only contract","overrides.data",l.data),l},n=async function(o){const l=Fi(t.runner,"call");O(Ux(l),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const a=await e(o);try{return await l.call(a)}catch(c){throw am(c)&&c.data?t.interface.makeError(c.data,a):c}},r=async function(o){const l=t.runner;O(jx(l),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const a=await l.sendTransaction(await e(o)),c=ni(t.runner);return new Sm(t.interface,c,a)},s=async function(o){const l=Fi(t.runner,"estimateGas");return O(Fx(l),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await l.estimateGas(await e(o))},i=async o=>await r(o);return J(i,{_contract:t,estimateGas:s,populateTransaction:e,send:r,staticCall:n}),i}function oN(t,e){const n=function(...c){const u=t.interface.getFunction(e,c);return O(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:c}}),u},r=async function(...c){const u=n(...c);let d={};if(u.inputs.length+1===c.length&&(d=await Hx(c.pop()),d.from&&(d.from=await wt(d.from,zx(t.runner)))),u.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const f=await sN(t.runner,u.inputs,c);return Object.assign({},d,await pt({to:t.getAddress(),data:t.interface.encodeFunctionData(u,f)}))},s=async function(...c){const u=await l(...c);return u.length===1?u[0]:u},i=async function(...c){const u=t.runner;O(jx(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const d=await u.sendTransaction(await r(...c)),f=ni(t.runner);return new Sm(t.interface,f,d)},o=async function(...c){const u=Fi(t.runner,"estimateGas");return O(Fx(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await r(...c))},l=async function(...c){const u=Fi(t.runner,"call");O(Ux(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const d=await r(...c);let f="0x";try{f=await u.call(d)}catch(g){throw am(g)&&g.data?t.interface.makeError(g.data,d):g}const p=n(...c);return t.interface.decodeFunctionResult(p,f)},a=async(...c)=>n(...c).constant?await s(...c):await i(...c);return J(a,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:o,populateTransaction:r,send:i,staticCall:s,staticCallResult:l}),Object.defineProperty(a,"fragment",{configurable:!1,enumerable:!0,get:()=>{const c=t.interface.getFunction(e);return O(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),c}}),a}function aN(t,e){const n=function(...s){const i=t.interface.getEvent(e,s);return O(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},r=function(...s){return new rN(t,n(...s),s)};return J(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=t.interface.getEvent(e);return O(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),r}const Sd=Symbol.for("_ethersInternal_contract"),$x=new WeakMap;function lN(t,e){$x.set(t[Sd],e)}function Ft(t){return $x.get(t[Sd])}function cN(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function Cm(t,e){let n,r=null;if(Array.isArray(e)){const i=function(o){if(ye(o,32))return o;const l=t.interface.getEvent(o);return E(l,"unknown fragment","name",o),l.topicHash};n=e.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else e==="*"?n=[null]:typeof e=="string"?ye(e,32)?n=[e]:(r=t.interface.getEvent(e),E(r,"unknown fragment","event",e),n=[r.topicHash]):cN(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):E(!1,"unknown event name","event",e);n=n.map(i=>{if(i==null)return null;if(Array.isArray(i)){const o=Array.from(new Set(i.map(l=>l.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});const s=n.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:r,tag:s,topics:n}}async function bl(t,e){const{subs:n}=Ft(t);return n.get((await Cm(t,e)).tag)||null}async function nw(t,e,n){const r=ni(t.runner);O(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:i,topics:o}=await Cm(t,n),{addr:l,subs:a}=Ft(t);let c=a.get(i);if(!c){const d={address:l||t,topics:o},f=A=>{let y=s;if(y==null)try{y=t.interface.getEvent(A.topics[0])}catch{}if(y){const w=y,v=s?t.interface.decodeEventLog(s,A.data,A.topics):[];Gp(t,n,v,k=>new nN(t,k,n,w,A))}else Gp(t,n,[],w=>new Mx(t,w,n,A))};let p=[];c={tag:i,listeners:[],start:()=>{p.length||p.push(r.on(d,f))},stop:async()=>{if(p.length==0)return;let A=p;p=[],await Promise.all(A),r.off(d,f)}},a.set(i,c)}return c}let $p=Promise.resolve();async function uN(t,e,n,r){await $p;const s=await bl(t,e);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:o,once:l})=>{const a=Array.from(n);r&&a.push(r(l?null:o));try{o.call(t,...a)}catch{}return!l}),s.listeners.length===0&&(s.stop(),Ft(t).subs.delete(s.tag)),i>0}async function Gp(t,e,n,r){try{await $p}catch{}const s=uN(t,e,n,r);return $p=s,await s}const fu=["then"];var Fw;Fw=Sd;const Ul=class Ul{constructor(e,n,r,s){C(this,"target");C(this,"interface");C(this,"runner");C(this,"filters");C(this,Fw);C(this,"fallback");E(typeof e=="string"||Kb(e),"invalid value for Contract target","target",e),r==null&&(r=null);const i=Hp.from(n);J(this,{target:e,runner:r,interface:i}),Object.defineProperty(this,Sd,{value:{}});let o,l=null,a=null;if(s){const d=ni(r);a=new Sm(this.interface,d,s)}let c=new Map;if(typeof e=="string")if(ye(e))l=e,o=Promise.resolve(e);else{const d=Fi(r,"resolveName");if(!hf(d))throw _e("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=d.resolveName(e).then(f=>{if(f==null)throw _e("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Ft(this).addr=f,f})}else o=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return Ft(this).addr=d,d});lN(this,{addrPromise:o,addr:l,deployTx:a,subs:c});const u=new Proxy({},{get:(d,f,p)=>{if(typeof f=="symbol"||fu.indexOf(f)>=0)return Reflect.get(d,f,p);try{return this.getEvent(f)}catch(g){if(!Xe(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(d,f)=>fu.indexOf(f)>=0?Reflect.has(d,f):Reflect.has(d,f)||this.interface.hasEvent(String(f))});return J(this,{filters:u}),J(this,{fallback:i.receive||i.fallback?iN(this):null}),new Proxy(this,{get:(d,f,p)=>{if(typeof f=="symbol"||f in d||fu.indexOf(f)>=0)return Reflect.get(d,f,p);try{return d.getFunction(f)}catch(g){if(!Xe(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(d,f)=>typeof f=="symbol"||f in d||fu.indexOf(f)>=0?Reflect.has(d,f):d.interface.hasFunction(f)})}connect(e){return new Ul(this.target,this.interface,e)}attach(e){return new Ul(e,this.interface,this.runner)}async getAddress(){return await Ft(this).addrPromise}async getDeployedCode(){const e=ni(this.runner);O(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=ni(this.runner);return O(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);r.once("block",o)}catch(l){i(l)}};o()})}deploymentTransaction(){return Ft(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),oN(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),aN(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:s,addrPromise:i}=Ft(this),o=s||await i,{fragment:l,topics:a}=await Cm(this,e),c={address:o,topics:a,fromBlock:n,toBlock:r},u=ni(this.runner);return O(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(c)).map(d=>{let f=l;if(f==null)try{f=this.interface.getEvent(d.topics[0])}catch{}if(f)try{return new km(d,this.interface,f)}catch(p){return new Dx(d,p)}return new Lc(d,u)})}async on(e,n){const r=await nw(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await nw(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await Gp(this,e,n,null)}async listenerCount(e){if(e){const s=await bl(this,e);return s?s.listeners.length:0}const{subs:n}=Ft(this);let r=0;for(const{listeners:s}of n.values())r+=s.length;return r}async listeners(e){if(e){const s=await bl(this,e);return s?s.listeners.map(({listener:i})=>i):[]}const{subs:n}=Ft(this);let r=[];for(const{listeners:s}of n.values())r=r.concat(s.map(({listener:i})=>i));return r}async off(e,n){const r=await bl(this,e);if(!r)return this;if(n){const s=r.listeners.map(({listener:i})=>i).indexOf(n);s>=0&&r.listeners.splice(s,1)}return(n==null||r.listeners.length===0)&&(r.stop(),Ft(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await bl(this,e);if(!n)return this;n.stop(),Ft(this).subs.delete(n.tag)}else{const{subs:n}=Ft(this);for(const{tag:r,stop:s}of n.values())s(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends Ul{constructor(s,i=null){super(s,e,i)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};let Vp=Ul;function dN(){return Vp}class tt extends dN(){}function fh(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):E(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class fN{constructor(e){C(this,"name");J(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const Gx=new RegExp("^(ipfs)://(.*)$","i"),rw=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Gx,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var is,mi,os,uo,Ld,Vx;const To=class To{constructor(e,n,r){P(this,os);C(this,"provider");C(this,"address");C(this,"name");P(this,is);P(this,mi);J(this,{provider:e,address:n,name:r}),x(this,is,null),x(this,mi,new tt(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return h(this,is)==null&&x(this,is,(async()=>{try{return await h(this,mi).supportsInterface("0x9061b923")}catch(e){if(Xe(e,"CALL_EXCEPTION"))return!1;throw x(this,is,null),e}})()),await h(this,is)}async getAddress(e){if(e==null&&(e=60),e===60)try{const i=await I(this,os,uo).call(this,"addr(bytes32)");return i==null||i===rc?null:i}catch(i){if(Xe(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648;const o=await I(this,os,uo).call(this,"addr(bytes32,uint)",[i]);if(ye(o,20))return pe(o)}let n=null;for(const i of this.provider.plugins)if(i instanceof fN&&i.supportsCoinType(e)){n=i;break}if(n==null)return null;const r=await I(this,os,uo).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const s=await n.decodeAddress(e,r);if(s!=null)return s;O(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await I(this,os,uo).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await I(this,os,uo).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=n[1]==="e3010170"?"ipfs":"ipns",i=parseInt(n[4],16);if(n[5].length===i*2)return`${s}://${vS("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;O(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<rw.length;r++){const s=n.match(rw[r]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const o=fh(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:n});const l=await this.getAddress();if(l==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const a=(s[2]||"").split("/");if(a.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};const c=a[1],u=new tt(a[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const m=await u.ownerOf(c);if(l!==m)return e.push({type:"!owner",value:m}),{url:null,linkage:e};e.push({type:"owner",value:m})}else if(i==="erc1155"){const m=await u.balanceOf(l,c);if(!m)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:m.toString()})}let d=await u[o](c);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),i==="erc1155"&&(d=d.replace("{id}",_s(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=fh(d)),e.push({type:"metadata-url",value:d});let f={};const p=await new Ns(d).send();p.assertOk();try{f=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{const y=p.body;return y&&e.push({type:"!metadata",value:$(y)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!f)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(f)});let g=f.image;if(typeof g!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!g.match(/^(https:\/\/|data:)/i)){if(g.match(Gx)==null)return e.push({type:"!imageUrl-ipfs",value:g}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:g}),g=fh(g)}return e.push({type:"url",value:g}),{linkage:e,url:g}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return O(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async fromName(e,n){var s;let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const i=await I(s=To,Ld,Vx).call(s,e,r);if(i!=null){const o=new To(e,i,n);return r!==n&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}};is=new WeakMap,mi=new WeakMap,os=new WeakSet,uo=async function(e,n){n=(n||[]).slice();const r=h(this,mi).interface;n.unshift(jp(this.name));let s=null;await this.supportsWildcard()&&(s=r.getFunction(e),O(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[d_(this.name,255),r.encodeFunctionData(s,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const i=await h(this,mi)[e](...n);return s?r.decodeFunctionResult(s,i)[0]:i}catch(i){if(!Xe(i,"CALL_EXCEPTION"))throw i}return null},Ld=new WeakSet,Vx=async function(e,n){const r=await To.getEnsAddress(e);try{const i=await new tt(r,["function resolver(bytes32) view returns (address)"],e).resolver(jp(n),{enableCcipRead:!0});return i===rc?null:i}catch(s){throw s}return null},P(To,Ld);let Cd=To;const sw=BigInt(0);function oe(t,e){return function(n){return n==null?e:t(n)}}function pf(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))}}function Dc(t,e){return n=>{const r={};for(const s in t){let i=s;if(e&&s in e&&!(i in n)){for(const o of e[s])if(o in n){i=o;break}}try{const o=t[s](n[i]);o!==void 0&&(r[s]=o)}catch(o){const l=o instanceof Error?o.message:"not-an-error";O(!1,`invalid value for value.${s} (${l})`,"BAD_DATA",{value:n})}}return r}}function hN(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}E(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function Ha(t){return E(ye(t,!0),"invalid data","value",t),t}function qe(t){return E(ye(t,32),"invalid hash","value",t),t}const pN=Dc({address:pe,blockHash:qe,blockNumber:X,data:Ha,index:X,removed:oe(hN,!1),topics:pf(qe),transactionHash:qe,transactionIndex:X},{index:["logIndex"]});function gN(t){return pN(t)}const mN=Dc({hash:oe(qe),parentHash:qe,parentBeaconBlockRoot:oe(qe,null),number:X,timestamp:X,nonce:oe(Ha),difficulty:G,gasLimit:G,gasUsed:G,stateRoot:oe(qe,null),receiptsRoot:oe(qe,null),blobGasUsed:oe(G,null),excessBlobGas:oe(G,null),miner:oe(pe),prevRandao:oe(qe,null),extraData:Ha,baseFeePerGas:oe(G)},{prevRandao:["mixHash"]});function yN(t){const e=mN(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:Qx(n)),e}const wN=Dc({transactionIndex:X,blockNumber:X,transactionHash:qe,address:pe,topics:pf(qe),data:Ha,index:X,blockHash:qe},{index:["logIndex"]});function vN(t){return wN(t)}const bN=Dc({to:oe(pe,null),from:oe(pe,null),contractAddress:oe(pe,null),index:X,root:oe($),gasUsed:G,blobGasUsed:oe(G,null),logsBloom:oe(Ha),blockHash:qe,hash:qe,logs:pf(vN),blockNumber:X,cumulativeGasUsed:G,effectiveGasPrice:oe(G),blobGasPrice:oe(G,null),status:oe(X),type:oe(X,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function xN(t){return bN(t)}function Qx(t){t.to&&G(t.to)===sw&&(t.to="0x0000000000000000000000000000000000000000");const e=Dc({hash:qe,index:oe(X,void 0),type:n=>n==="0x"||n==null?0:X(n),accessList:oe(Qi,null),blobVersionedHashes:oe(pf(qe,!0),null),blockHash:oe(qe,null),blockNumber:oe(X,null),transactionIndex:oe(X,null),from:pe,gasPrice:oe(G),maxPriorityFeePerGas:oe(G),maxFeePerGas:oe(G),maxFeePerBlobGas:oe(G,null),gasLimit:G,to:oe(pe,null),value:G,nonce:X,data:Ha,creates:oe(pe,null),chainId:oe(G,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=pP(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Tn.from(t.signature):e.signature=Tn.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&G(e.blockHash)===sw&&(e.blockHash=null),e}const AN="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Mc{constructor(e){C(this,"name");J(this,{name:e})}clone(){return new Mc(this.name)}}class gf extends Mc{constructor(n,r){n==null&&(n=0);super(`org.ethers.network.plugins.GasCost#${n||0}`);C(this,"effectiveBlock");C(this,"txBase");C(this,"txCreate");C(this,"txDataZero");C(this,"txDataNonzero");C(this,"txAccessListStorageKey");C(this,"txAccessListAddress");const s={effectiveBlock:n};function i(o,l){let a=(r||{})[o];a==null&&(a=l),E(typeof a=="number",`invalud value for ${o}`,"costs",r),s[o]=a}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),J(this,s)}clone(){return new gf(this.effectiveBlock,this)}}class mf extends Mc{constructor(n,r){super("org.ethers.plugins.network.Ens");C(this,"address");C(this,"targetNetwork");J(this,{address:n||AN,targetNetwork:r??1})}clone(){return new mf(this.address,this.targetNetwork)}}var Ac,Ec;class EN extends Mc{constructor(n,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");P(this,Ac);P(this,Ec);x(this,Ac,n),x(this,Ec,r)}get url(){return h(this,Ac)}get processFunc(){return h(this,Ec)}clone(){return this}}Ac=new WeakMap,Ec=new WeakMap;const hh=new Map;var ga,ma,as;const Oo=class Oo{constructor(e,n){P(this,ga);P(this,ma);P(this,as);x(this,ga,e),x(this,ma,G(n)),x(this,as,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return h(this,ga)}set name(e){x(this,ga,e)}get chainId(){return h(this,ma)}set chainId(e){x(this,ma,G(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===G(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===G(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===G(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(h(this,as).values())}attachPlugin(e){if(h(this,as).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return h(this,as).set(e.name,e.clone()),this}getPlugin(e){return h(this,as).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new Oo(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new gf;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const s=Qi(e.accessList);for(const i in s)r+=n.txAccessListAddress+n.txAccessListStorageKey*s[i].storageKeys.length}return r}static from(e){if(kN(),e==null)return Oo.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=hh.get(e);if(n)return n();if(typeof e=="bigint")return new Oo("unknown",e);E(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){E(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new Oo(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new mf(e.ensAddress,e.ensNetwork)),n}E(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=hh.get(e);r&&E(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),hh.set(e,n)}};ga=new WeakMap,ma=new WeakMap,as=new WeakMap;let Kn=Oo;function iw(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let s=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||s++,r[1]=s.toString()}return BigInt(r[0]+r[1])}function ow(t){return new EN(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let s;try{const[i,o]=await Promise.all([r.send(),e()]);s=i;const l=s.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:iw(l.maxFee,9),maxPriorityFeePerGas:iw(l.maxPriorityFee,9)}}catch(i){O(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:s,error:i})}})}let aw=!1;function kN(){if(aw)return;aw=!0;function t(e,n,r){const s=function(){const i=new Kn(e,n);return r.ensNetwork!=null&&i.attachPlugin(new mf(null,r.ensNetwork)),i.attachPlugin(new gf),(r.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};Kn.register(e,s),Kn.register(n,s),r.altNames&&r.altNames.forEach(i=>{Kn.register(i,s)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[ow("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[ow("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function Qp(t){return JSON.parse(JSON.stringify(t))}var gr,Zt,ls,$n,ya,Uu;class SN{constructor(e){P(this,ya);P(this,gr);P(this,Zt);P(this,ls);P(this,$n);x(this,gr,e),x(this,Zt,null),x(this,ls,4e3),x(this,$n,-2)}get pollingInterval(){return h(this,ls)}set pollingInterval(e){x(this,ls,e)}start(){h(this,Zt)||(x(this,Zt,h(this,gr)._setTimeout(I(this,ya,Uu).bind(this),h(this,ls))),I(this,ya,Uu).call(this))}stop(){h(this,Zt)&&(h(this,gr)._clearTimeout(h(this,Zt)),x(this,Zt,null))}pause(e){this.stop(),e&&x(this,$n,-2)}resume(){this.start()}}gr=new WeakMap,Zt=new WeakMap,ls=new WeakMap,$n=new WeakMap,ya=new WeakSet,Uu=async function(){try{const e=await h(this,gr).getBlockNumber();if(h(this,$n)===-2){x(this,$n,e);return}if(e!==h(this,$n)){for(let n=h(this,$n)+1;n<=e;n++){if(h(this,Zt)==null)return;await h(this,gr).emit("block",n)}x(this,$n,e)}}catch{}h(this,Zt)!=null&&x(this,Zt,h(this,gr)._setTimeout(I(this,ya,Uu).bind(this),h(this,ls)))};var yi,wi,cs;class Pm{constructor(e){P(this,yi);P(this,wi);P(this,cs);x(this,yi,e),x(this,cs,!1),x(this,wi,n=>{this._poll(n,h(this,yi))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){h(this,cs)||(x(this,cs,!0),h(this,wi).call(this,-2),h(this,yi).on("block",h(this,wi)))}stop(){h(this,cs)&&(x(this,cs,!1),h(this,yi).off("block",h(this,wi)))}pause(e){this.stop()}resume(){this.start()}}yi=new WeakMap,wi=new WeakMap,cs=new WeakMap;var wa,mr;class CN extends Pm{constructor(n,r){super(n);P(this,wa);P(this,mr);x(this,wa,r),x(this,mr,-2)}pause(n){n&&x(this,mr,-2),super.pause(n)}async _poll(n,r){const s=await r.getBlock(h(this,wa));s!=null&&(h(this,mr)===-2?x(this,mr,s.number):s.number>h(this,mr)&&(r.emit(h(this,wa),s.number),x(this,mr,s.number)))}}wa=new WeakMap,mr=new WeakMap;var Dd;class PN extends Pm{constructor(n,r){super(n);P(this,Dd);x(this,Dd,Qp(r))}async _poll(n,r){throw new Error("@TODO")}}Dd=new WeakMap;var va;class _N extends Pm{constructor(n,r){super(n);P(this,va);x(this,va,r)}async _poll(n,r){const s=await r.getTransactionReceipt(h(this,va));s&&r.emit(h(this,va),s)}}va=new WeakMap;var yr,ba,xa,us,en,Md,Wx;class _m{constructor(e,n){P(this,Md);P(this,yr);P(this,ba);P(this,xa);P(this,us);P(this,en);x(this,yr,e),x(this,ba,Qp(n)),x(this,xa,I(this,Md,Wx).bind(this)),x(this,us,!1),x(this,en,-2)}start(){h(this,us)||(x(this,us,!0),h(this,en)===-2&&h(this,yr).getBlockNumber().then(e=>{x(this,en,e)}),h(this,yr).on("block",h(this,xa)))}stop(){h(this,us)&&(x(this,us,!1),h(this,yr).off("block",h(this,xa)))}pause(e){this.stop(),e&&x(this,en,-2)}resume(){this.start()}}yr=new WeakMap,ba=new WeakMap,xa=new WeakMap,us=new WeakMap,en=new WeakMap,Md=new WeakSet,Wx=async function(e){if(h(this,en)===-2)return;const n=Qp(h(this,ba));n.fromBlock=h(this,en)+1,n.toBlock=e;const r=await h(this,yr).getLogs(n);if(r.length===0){h(this,en)<e-60&&x(this,en,e-60);return}for(const s of r)h(this,yr).emit(h(this,ba),s),x(this,en,s.blockNumber)};const NN=BigInt(2),TN=10;function hu(t){return t&&typeof t.then=="function"}function Fu(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const s=Object.keys(r);return s.sort(),s.reduce((i,o)=>(i[o]=r[o],i),{})}return r})}class Jx{constructor(e){C(this,"name");J(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function ON(t){return JSON.parse(JSON.stringify(t))}function Wp(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function ph(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(ye(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:Fu("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:Fu("orphan",n),filter:ON(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(s=>s==null?null:Array.isArray(s)?Wp(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(n.address){const s=[],i=[],o=l=>{ye(l)?s.push(l):i.push((async()=>{s.push(await wt(l,e))})())};Array.isArray(n.address)?n.address.forEach(o):o(n.address),i.length&&await Promise.all(i),r.address=Wp(s.map(l=>l.toLowerCase()))}return{filter:r,tag:Fu("event",r),type:"event"}}E(!1,"unknown ProviderEvent","event",t)}function gh(){return new Date().getTime()}const IN={cacheTimeout:250,pollingInterval:4e3};var ot,ds,at,Aa,$t,vi,fs,wr,kc,tn,Ea,ka,te,Mt,Jp,Kp,xl,Yp,Al,ju;class RN{constructor(e,n){P(this,te);P(this,ot);P(this,ds);P(this,at);P(this,Aa);P(this,$t);P(this,vi);P(this,fs);P(this,wr);P(this,kc);P(this,tn);P(this,Ea);P(this,ka);if(x(this,ka,Object.assign({},IN,n||{})),e==="any")x(this,vi,!0),x(this,$t,null);else if(e){const r=Kn.from(e);x(this,vi,!1),x(this,$t,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else x(this,vi,!1),x(this,$t,null);x(this,wr,-1),x(this,fs,new Map),x(this,ot,new Map),x(this,ds,new Map),x(this,at,null),x(this,Aa,!1),x(this,kc,1),x(this,tn,new Map),x(this,Ea,!1)}get pollingInterval(){return h(this,ka).pollingInterval}get provider(){return this}get plugins(){return Array.from(h(this,ds).values())}attachPlugin(e){if(h(this,ds).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return h(this,ds).set(e.name,e.connect(this)),this}getPlugin(e){return h(this,ds).get(e)||null}get disableCcipRead(){return h(this,Ea)}set disableCcipRead(e){x(this,Ea,!!e)}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const s=e.to.toLowerCase(),i=n.toLowerCase(),o=[];for(let l=0;l<r.length;l++){const a=r[l],c=a.replace("{sender}",s).replace("{data}",i),u=new Ns(c);a.indexOf("{data}")===-1&&(u.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:l,urls:r});let d="unknown error",f;try{f=await u.send()}catch(p){o.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:p}});continue}try{const p=f.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:p}),p.data;p.message&&(d=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:p})}catch{}O(f.statusCode<400||f.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:a,errorMessage:d}}),o.push(d)}O(!1,`error encountered during CCIP fetch: ${o.map(l=>JSON.stringify(l)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,n){return new X_(yN(e),this)}_wrapLog(e,n){return new Lc(gN(e),this)}_wrapTransactionReceipt(e,n){return new Rx(xN(e),this)}_wrapTransactionResponse(e,n){return new dc(Qx(e),this)}_detectNetwork(){O(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){O(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=X(await I(this,te,Mt).call(this,{method:"getBlockNumber"}),"%response");return h(this,wr)>=0&&x(this,wr,e),e}_getAddress(e){return wt(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(ye(e))return ye(e,32)?e:Co(e);if(typeof e=="bigint"&&(e=X(e,"blockTag")),typeof e=="number")return e>=0?Co(e):h(this,wr)>=0?Co(h(this,wr)+e):this.getBlockNumber().then(n=>Co(n+e));E(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(a=>a==null?null:Array.isArray(a)?Wp(a.map(c=>c.toLowerCase())):a.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,s=(a,c,u)=>{let d;switch(a.length){case 0:break;case 1:d=a[0];break;default:a.sort(),d=a}if(r&&(c!=null||u!=null))throw new Error("invalid filter");const f={};return d&&(f.address=d),n.length&&(f.topics=n),c&&(f.fromBlock=c),u&&(f.toBlock=u),r&&(f.blockHash=r),f};let i=[];if(e.address)if(Array.isArray(e.address))for(const a of e.address)i.push(this._getAddress(a));else i.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let l;return"toBlock"in e&&(l=this._getBlockTag(e.toBlock)),i.filter(a=>typeof a!="string").length||o!=null&&typeof o!="string"||l!=null&&typeof l!="string"?Promise.all([Promise.all(i),o,l]).then(a=>s(a[0],a[1],a[2])):s(i,o,l)}_getTransactionRequest(e){const n=kd(e),r=[];if(["to","from"].forEach(s=>{if(n[s]==null)return;const i=wt(n[s],this);hu(i)?r.push(async function(){n[s]=await i}()):n[s]=i}),n.blockTag!=null){const s=this._getBlockTag(n.blockTag);hu(s)?r.push(async function(){n.blockTag=await s}()):n.blockTag=s}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(h(this,$t)==null){const s=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw h(this,$t)===s&&x(this,$t,null),i}})();return x(this,$t,s),(await s).clone()}const e=h(this,$t),[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(h(this,vi)?(this.emit("network",r,n),h(this,$t)===e&&x(this,$t,Promise.resolve(r))):O(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:s,gasPrice:i,priorityFee:o}=await pt({_block:I(this,te,Yp).call(this,"latest",!1),gasPrice:(async()=>{try{const u=await I(this,te,Mt).call(this,{method:"getGasPrice"});return G(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await I(this,te,Mt).call(this,{method:"getPriorityFee"});return G(u,"%response")}catch{}return null})()});let l=null,a=null;const c=this._wrapBlock(s,e);return c&&c.baseFeePerGas&&(a=o??BigInt("1000000000"),l=c.baseFeePerGas*NN+a),new ew(i,l,a)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const s=new Ns(r.url),i=await r.processFunc(n,this,s);return new ew(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return hu(n)&&(n=await n),G(await I(this,te,Mt).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:r}=await pt({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await I(this,te,Kp).call(this,I(this,te,Jp).call(this,n,r,e.enableCcipRead?0:-1))}async getBalance(e,n){return G(await I(this,te,xl).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return X(await I(this,te,xl).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return $(await I(this,te,xl).call(this,{method:"getCode"},e,n))}async getStorage(e,n,r){const s=G(n,"position");return $(await I(this,te,xl).call(this,{method:"getStorage",position:s},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:s}=await pt({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=Ad.from(e);if(i.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(n)}async getBlock(e,n){const{network:r,params:s}=await pt({network:this.getNetwork(),params:I(this,te,Yp).call(this,e,!!n)});return s==null?null:this._wrapBlock(s,r)}async getTransaction(e){const{network:n,params:r}=await pt({network:this.getNetwork(),params:I(this,te,Mt).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await pt({network:this.getNetwork(),params:I(this,te,Mt).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const s=await I(this,te,Mt).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await pt({network:this.getNetwork(),result:I(this,te,Mt).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:$(n)}async getLogs(e){let n=this._getFilter(e);hu(n)&&(n=await n);const{network:r,params:s}=await pt({network:this.getNetwork(),params:I(this,te,Mt).call(this,{method:"getLogs",filter:n})});return s.map(i=>this._wrapLog(i,r))}_getProvider(e){O(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Cd.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=pe(e);const n=jp(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await Cd.getEnsAddress(this),i=await new tt(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(i==null||i===rc)return null;const l=await new tt(i,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(l)!==e?null:l}catch(r){if(Xe(r,"BAD_DATA")&&r.value==="0x"||Xe(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const s=n??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,o)=>{let l=null;const a=async c=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&c-u.blockNumber+1>=s){i(u),l&&(clearTimeout(l),l=null);return}}catch(u){console.log("EEE",u)}this.once("block",a)};r!=null&&(l=setTimeout(()=>{l!=null&&(l=null,this.off("block",a),o(_e("timeout","TIMEOUT",{reason:"timeout"})))},r)),a(await this.getBlockNumber())})}async waitForBlock(e){O(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=h(this,tn).get(e);n&&(n.timer&&clearTimeout(n.timer),h(this,tn).delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=qa(this,kc)._++,s=()=>{h(this,tn).delete(r),e()};if(this.paused)h(this,tn).set(r,{timer:null,func:s,time:n});else{const i=setTimeout(s,n);h(this,tn).set(r,{timer:i,func:s,time:gh()})}return r}_forEachSubscriber(e){for(const n of h(this,ot).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Jx(e.type);case"block":{const n=new SN(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new CN(this,e.type);case"event":return new _m(this,e.filter);case"transaction":return new _N(this,e.hash);case"orphan":return new PN(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of h(this,ot).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),h(this,at)!=null&&n.pause(h(this,at));break}}async on(e,n){const r=await I(this,te,ju).call(this,e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,h(this,at)!=null&&r.subscriber.pause(h(this,at))),this}async once(e,n){const r=await I(this,te,ju).call(this,e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,h(this,at)!=null&&r.subscriber.pause(h(this,at))),this}async emit(e,...n){const r=await I(this,te,Al).call(this,e,n);if(!r||r.listeners.length===0)return!1;const s=r.listeners.length;return r.listeners=r.listeners.filter(({listener:i,once:o})=>{const l=new ub(this,o?null:i,e);try{i.call(this,...n,l)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),h(this,ot).delete(r.tag)),s>0}async listenerCount(e){if(e){const r=await I(this,te,Al).call(this,e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of h(this,ot).values())n+=r.length;return n}async listeners(e){if(e){const r=await I(this,te,Al).call(this,e);return r?r.listeners.map(({listener:s})=>s):[]}let n=[];for(const{listeners:r}of h(this,ot).values())n=n.concat(r.map(({listener:s})=>s));return n}async off(e,n){const r=await I(this,te,Al).call(this,e);if(!r)return this;if(n){const s=r.listeners.map(({listener:i})=>i).indexOf(n);s>=0&&r.listeners.splice(s,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),h(this,ot).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:s}=await I(this,te,ju).call(this,e);r&&s.stop(),h(this,ot).delete(n)}else for(const[n,{started:r,subscriber:s}]of h(this,ot))r&&s.stop(),h(this,ot).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return h(this,Aa)}destroy(){this.removeAllListeners();for(const e of h(this,tn).keys())this._clearTimeout(e);x(this,Aa,!0)}get paused(){return h(this,at)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(x(this,wr,-1),h(this,at)!=null){if(h(this,at)==!!e)return;O(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),x(this,at,!!e);for(const n of h(this,tn).values())n.timer&&clearTimeout(n.timer),n.time=gh()-n.time}resume(){if(h(this,at)!=null){this._forEachSubscriber(e=>e.resume()),x(this,at,null);for(const e of h(this,tn).values()){let n=e.time;n<0&&(n=0),e.time=gh(),setTimeout(e.func,n)}}}}ot=new WeakMap,ds=new WeakMap,at=new WeakMap,Aa=new WeakMap,$t=new WeakMap,vi=new WeakMap,fs=new WeakMap,wr=new WeakMap,kc=new WeakMap,tn=new WeakMap,Ea=new WeakMap,ka=new WeakMap,te=new WeakSet,Mt=async function(e){const n=h(this,ka).cacheTimeout;if(n<0)return await this._perform(e);const r=Fu(e.method,e);let s=h(this,fs).get(r);return s||(s=this._perform(e),h(this,fs).set(r,s),setTimeout(()=>{h(this,fs).get(r)===s&&h(this,fs).delete(r)},n)),await s},Jp=async function(e,n,r){O(r<TN,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const s=kd(e);try{return $(await this._perform({method:"call",transaction:s,blockTag:n}))}catch(i){if(!this.disableCcipRead&&am(i)&&i.data&&r>=0&&n==="latest"&&s.to!=null&&Ne(i.data,0,4)==="0x556f1830"){const o=i.data,l=await wt(s.to,this);let a;try{a=UN(Ne(i.data,4))}catch(d){O(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:o}})}O(a.sender.toLowerCase()===l.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:a.errorArgs}});const c=await this.ccipReadFetch(s,a.calldata,a.urls);O(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:a.errorArgs}});const u={to:l,data:Le([a.selector,MN([c,a.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const d=await I(this,te,Jp).call(this,u,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:d}),d}}throw i}},Kp=async function(e){const{value:n}=await pt({network:this.getNetwork(),value:e});return n},xl=async function(e,n,r){let s=this._getAddress(n),i=this._getBlockTag(r);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await I(this,te,Kp).call(this,I(this,te,Mt).call(this,Object.assign(e,{address:s,blockTag:i})))},Yp=async function(e,n){if(ye(e,32))return await I(this,te,Mt).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await I(this,te,Mt).call(this,{method:"getBlock",blockTag:r,includeTransactions:n})},Al=async function(e,n){let r=await ph(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await ph({orphan:"drop-log",log:n[0]},this)),h(this,ot).get(r.tag)||null},ju=async function(e){const n=await ph(e,this),r=n.tag;let s=h(this,ot).get(r);return s||(s={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},h(this,ot).set(r,s)),s};function BN(t,e){try{const n=qp(t,e);if(n)return pd(n)}catch{}return null}function qp(t,e){if(t==="0x")return null;try{const n=X(Ne(t,e,e+32)),r=X(Ne(t,n,n+32));return Ne(t,n+32,n+32+r)}catch{}return null}function lw(t){const e=mt(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function LN(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const DN=new Uint8Array([]);function MN(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(DN),n+=32;for(let r=0;r<t.length;r++){const s=ae(t[r]);e[r]=lw(n),e.push(lw(s.length)),e.push(LN(s)),n+=32+Math.ceil(s.length/32)*32}return Le(e)}const cw="0x0000000000000000000000000000000000000000000000000000000000000000";function UN(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};O(Uo(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=Ne(t,0,32);O(Ne(n,0,12)===Ne(cw,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Ne(n,12);try{const r=[],s=X(Ne(t,32,64)),i=X(Ne(t,s,s+32)),o=Ne(t,s+32);for(let l=0;l<i;l++){const a=BN(o,l*32);if(a==null)throw new Error("abort");r.push(a)}e.urls=r}catch{O(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=qp(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{O(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}O(Ne(t,100,128)===Ne(cw,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Ne(t,96,100);try{const r=qp(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{O(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function no(t,e){if(t.provider)return t.provider;O(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function uw(t,e){let n=kd(e);if(n.to!=null&&(n.to=wt(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),wt(r,t)]).then(([s,i])=>(E(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else n.from=t.getAddress();return await pt(n)}class FN{constructor(e){C(this,"provider");J(this,{provider:e||null})}async getNonce(e){return no(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await uw(this,e)}async populateTransaction(e){const n=no(this,"populateTransaction"),r=await uw(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const s=await this.provider.getNetwork();if(r.chainId!=null){const o=G(r.chainId);E(o===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=s.chainId;const i=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||i)?E(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&i&&E(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await n.getFeeData();O(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await n.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const l=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=l,r.maxPriorityFeePerGas=l}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(O(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):O(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await pt(r)}async estimateGas(e){return no(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return no(this,"call").call(await this.populateCall(e))}async resolveName(e){return await no(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=no(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const s=Ad.from(r);return await n.broadcastTransaction(await this.signTransaction(s))}}function jN(t){return JSON.parse(JSON.stringify(t))}var ft,Gn,bi,hs,xi,Sa,Ts,Xp,Zp;class Kx{constructor(e){P(this,Ts);P(this,ft);P(this,Gn);P(this,bi);P(this,hs);P(this,xi);P(this,Sa);x(this,ft,e),x(this,Gn,null),x(this,bi,I(this,Ts,Xp).bind(this)),x(this,hs,!1),x(this,xi,null),x(this,Sa,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){h(this,hs)||(x(this,hs,!0),I(this,Ts,Xp).call(this,-2))}stop(){h(this,hs)&&(x(this,hs,!1),x(this,Sa,!0),I(this,Ts,Zp).call(this),h(this,ft).off("block",h(this,bi)))}pause(e){e&&I(this,Ts,Zp).call(this),h(this,ft).off("block",h(this,bi))}resume(){this.start()}}ft=new WeakMap,Gn=new WeakMap,bi=new WeakMap,hs=new WeakMap,xi=new WeakMap,Sa=new WeakMap,Ts=new WeakSet,Xp=async function(e){try{h(this,Gn)==null&&x(this,Gn,this._subscribe(h(this,ft)));let n=null;try{n=await h(this,Gn)}catch(i){if(!Xe(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(n==null){x(this,Gn,null),h(this,ft)._recoverSubscriber(this,this._recover(h(this,ft)));return}const r=await h(this,ft).getNetwork();if(h(this,xi)||x(this,xi,r),h(this,xi).chainId!==r.chainId)throw new Error("chaid changed");if(h(this,Sa))return;const s=await h(this,ft).send("eth_getFilterChanges",[n]);await this._emitResults(h(this,ft),s)}catch(n){console.log("@TODO",n)}h(this,ft).once("block",h(this,bi))},Zp=function(){const e=h(this,Gn);e&&(x(this,Gn,null),e.then(n=>{h(this,ft).destroyed||h(this,ft).send("eth_uninstallFilter",[n])}))};var Ai;class zN extends Kx{constructor(n,r){super(n);P(this,Ai);x(this,Ai,jN(r))}_recover(n){return new _m(n,h(this,Ai))}async _subscribe(n){return await n.send("eth_newFilter",[h(this,Ai)])}async _emitResults(n,r){for(const s of r)n.emit(h(this,Ai),n._wrapLog(s,n._network))}}Ai=new WeakMap;class HN extends Kx{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const $N="bigint,boolean,function,number,string,symbol".split(/,/g);function zu(t){if(t==null||$N.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(zu);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function GN(t){return new Promise(e=>{setTimeout(e,t)})}function ro(t){return t&&t.toLowerCase()}function dw(t){return t&&typeof t.pollingInterval=="number"}const Yx={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class mh extends FN{constructor(n,r){super(n);C(this,"address");r=pe(r),J(this,{address:r})}connect(n){O(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(n){return await this.populateCall(n)}async sendUncheckedTransaction(n){const r=zu(n),s=[];if(r.from){const o=r.from;s.push((async()=>{const l=await wt(o,this.provider);E(l!=null&&l.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=l})())}else r.from=this.address;if(r.gasLimit==null&&s.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const o=r.to;s.push((async()=>{r.to=await wt(o,this.provider)})())}s.length&&await Promise.all(s);const i=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(n){const r=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(n);return await new Promise((i,o)=>{const l=[1e3,100];let a=0;const c=async()=>{try{const u=await this.provider.getTransaction(s);if(u!=null){i(u.replaceableTransaction(r));return}}catch(u){if(Xe(u,"CANCELLED")||Xe(u,"BAD_DATA")||Xe(u,"NETWORK_ERROR")||Xe(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=s,o(u);return}if(Xe(u,"INVALID_ARGUMENT")&&(a++,u.info==null&&(u.info={}),u.info.sendTransactionHash=s,a>10)){o(u);return}this.provider.emit("error",_e("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{c()},l.pop()||4e3)};c()})}async signTransaction(n){const r=zu(n);if(r.from){const i=await wt(r.from,this.provider);E(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=i}else r.from=this.address;const s=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[s])}async signMessage(n){const r=typeof n=="string"?Sr(n):n;return await this.provider.send("personal_sign",[$(r),this.address.toLowerCase()])}async signTypedData(n,r,s){const i=zu(s),o=await Ed.resolveNames(n,r,i,async l=>{const a=await wt(l);return E(a!=null,"TypedData does not support null address","value",l),a});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Ed.getPayload(o.domain,r,o.value))])}async unlock(n){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),n,null])}async _legacySignMessage(n){const r=typeof n=="string"?Sr(n):n;return await this.provider.send("eth_sign",[this.address.toLowerCase(),$(r)])}}var Ei,Ca,vr,Vn,An,nn,St,Sc,eg;class VN extends RN{constructor(n,r){super(n,r);P(this,Sc);P(this,Ei);P(this,Ca);P(this,vr);P(this,Vn);P(this,An);P(this,nn);P(this,St);x(this,Ca,1),x(this,Ei,Object.assign({},Yx,r||{})),x(this,vr,[]),x(this,Vn,null),x(this,nn,null),x(this,St,null);{let i=null;const o=new Promise(l=>{i=l});x(this,An,{promise:o,resolve:i})}const s=this._getOption("staticNetwork");typeof s=="boolean"?(E(!s||n!=="any","staticNetwork cannot be used on special network 'any'","options",r),s&&n!=null&&x(this,nn,Kn.from(n))):s&&(E(n==null||s.matches(n),"staticNetwork MUST match network object","options",r),x(this,nn,s))}_getOption(n){return h(this,Ei)[n]}get _network(){return O(h(this,nn),"network is not available yet","NETWORK_ERROR"),h(this,nn)}async _perform(n){if(n.method==="call"||n.method==="estimateGas"){let s=n.transaction;if(s&&s.type!=null&&G(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(n=Object.assign({},n,{transaction:Object.assign({},s,{type:void 0})}))}}const r=this.getRpcRequest(n);return r!=null?await this.send(r.method,r.args):super._perform(n)}async _detectNetwork(){const n=this._getOption("staticNetwork");if(n)if(n===!0){if(h(this,nn))return h(this,nn)}else return n;return h(this,St)?await h(this,St):this.ready?(x(this,St,(async()=>{try{const r=Kn.from(G(await this.send("eth_chainId",[])));return x(this,St,null),r}catch(r){throw x(this,St,null),r}})()),await h(this,St)):(x(this,St,(async()=>{const r={id:qa(this,Ca)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let s;try{s=(await this._send(r))[0],x(this,St,null)}catch(i){throw x(this,St,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return Kn.from(G(s.result));throw this.getRpcError(r,s)})()),await h(this,St))}_start(){h(this,An)==null||h(this,An).resolve==null||(h(this,An).resolve(),x(this,An,null),(async()=>{for(;h(this,nn)==null&&!this.destroyed;)try{x(this,nn,await this._detectNetwork())}catch(n){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",_e("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:n}})),await GN(1e3)}I(this,Sc,eg).call(this)})())}async _waitUntilReady(){if(h(this,An)!=null)return await h(this,An).promise}_getSubscriber(n){return n.type==="pending"?new HN(this):n.type==="event"?this._getOption("polling")?new _m(this,n.filter):new zN(this,n.filter):n.type==="orphan"&&n.filter.orphan==="drop-log"?new Jx("orphan"):super._getSubscriber(n)}get ready(){return h(this,An)==null}getRpcTransaction(n){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(n[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),r[i]=Co(G(n[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{n[s]!=null&&(r[s]=$(n[s]))}),n.accessList&&(r.accessList=Qi(n.accessList)),n.blobVersionedHashes&&(r.blobVersionedHashes=n.blobVersionedHashes.map(s=>s.toLowerCase())),r}getRpcRequest(n){switch(n.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[ro(n.address),n.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[ro(n.address),n.blockTag]};case"getCode":return{method:"eth_getCode",args:[ro(n.address),n.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[ro(n.address),"0x"+n.position.toString(16),n.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[n.signedTransaction]};case"getBlock":if("blockTag"in n)return{method:"eth_getBlockByNumber",args:[n.blockTag,!!n.includeTransactions]};if("blockHash"in n)return{method:"eth_getBlockByHash",args:[n.blockHash,!!n.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[n.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[n.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(n.transaction),n.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(n.transaction)]};case"getLogs":return n.filter&&n.filter.address!=null&&(Array.isArray(n.filter.address)?n.filter.address=n.filter.address.map(ro):n.filter.address=ro(n.filter.address)),{method:"eth_getLogs",args:[n.filter]}}return null}getRpcError(n,r){const{method:s}=n,{error:i}=r;if(s==="eth_estimateGas"&&i.message){const a=i.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return _e("insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.params[0],info:{payload:n,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){const a=tg(i),c=uc.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",n.params[0],a?a.data:null);return c.info={error:i,payload:n},c}const o=JSON.stringify(WN(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return _e("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:n,error:i}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const a=n.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return _e("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return _e("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return _e("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:i}});if(o.match(/only replay-protected/i))return _e("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:a,info:{error:i}}})}let l=!!o.match(/the method .* does not exist/i);return l||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(l=!0),l?_e("unsupported operation","UNSUPPORTED_OPERATION",{operation:n.method,info:{error:i,payload:n}}):_e("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:n})}send(n,r){if(this.destroyed)return Promise.reject(_e("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n}));const s=qa(this,Ca)._++,i=new Promise((o,l)=>{h(this,vr).push({resolve:o,reject:l,payload:{method:n,params:r,id:s,jsonrpc:"2.0"}})});return I(this,Sc,eg).call(this),i}async getSigner(n){n==null&&(n=0);const r=this.send("eth_accounts",[]);if(typeof n=="number"){const i=await r;if(n>=i.length)throw new Error("no such account");return new mh(this,i[n])}const{accounts:s}=await pt({network:this.getNetwork(),accounts:r});n=pe(n);for(const i of s)if(pe(i)===n)return new mh(this,n);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new mh(this,r))}destroy(){h(this,Vn)&&(clearTimeout(h(this,Vn)),x(this,Vn,null));for(const{payload:n,reject:r}of h(this,vr))r(_e("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));x(this,vr,[]),super.destroy()}}Ei=new WeakMap,Ca=new WeakMap,vr=new WeakMap,Vn=new WeakMap,An=new WeakMap,nn=new WeakMap,St=new WeakMap,Sc=new WeakSet,eg=function(){if(h(this,Vn))return;const n=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");x(this,Vn,setTimeout(()=>{x(this,Vn,null);const r=h(this,vr);for(x(this,vr,[]);r.length;){const s=[r.shift()];for(;r.length&&s.length!==h(this,Ei).batchMaxCount;)if(s.push(r.shift()),JSON.stringify(s.map(o=>o.payload)).length>h(this,Ei).batchMaxSize){r.unshift(s.pop());break}(async()=>{const i=s.length===1?s[0].payload:s.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:l,reject:a,payload:c}of s){if(this.destroyed){a(_e("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const u=o.filter(d=>d.id===c.id)[0];if(u==null){const d=_e("missing response for request","BAD_DATA",{value:o,info:{payload:c}});this.emit("error",d),a(d);continue}if("error"in u){a(this.getRpcError(c,u));continue}l(u.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:l}of s)l(o)}})()}},n))};var ps;class QN extends VN{constructor(n,r){super(n,r);P(this,ps);let s=this._getOption("pollingInterval");s==null&&(s=Yx.pollingInterval),x(this,ps,s)}_getSubscriber(n){const r=super._getSubscriber(n);return dw(r)&&(r.pollingInterval=h(this,ps)),r}get pollingInterval(){return h(this,ps)}set pollingInterval(n){if(!Number.isInteger(n)||n<0)throw new Error("invalid interval");x(this,ps,n),this._forEachSubscriber(r=>{dw(r)&&(r.pollingInterval=h(this,ps))})}}ps=new WeakMap;function tg(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&ye(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=tg(t[e]);if(n)return n}return null}if(typeof t=="string")try{return tg(JSON.parse(t))}catch{}return null}function ng(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)ng(t[n],e);if(typeof t=="string")try{return ng(JSON.parse(t),e)}catch{}}}function WN(t){const e=[];return ng(t,e),e}var Pa;class fw extends QN{constructor(n,r,s){const i=Object.assign({},s??{},{batchMaxCount:1});E(n&&n.request,"invalid EIP-1193 provider","ethereum",n);super(r,i);P(this,Pa);x(this,Pa,async(o,l)=>{const a={method:o,params:l};this.emit("debug",{action:"sendEip1193Request",payload:a});try{const c=await n.request(a);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){const u=new Error(c.message);throw u.code=c.code,u.data=c.data,u.payload=a,this.emit("debug",{action:"receiveEip1193Error",error:u}),u}})}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){E(!Array.isArray(n),"EIP-1193 does not support batch request","payload",n);try{const r=await h(this,Pa).call(this,n.method,n.params||[]);return[{id:n.id,result:r}]}catch(r){return[{id:n.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(n,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(n,r)}async hasSigner(n){n==null&&(n=0);const r=await this.send("eth_accounts",[]);return typeof n=="number"?r.length>n:(n=n.toLowerCase(),r.filter(s=>s.toLowerCase()===n).length!==0)}async getSigner(n){if(n==null&&(n=0),!await this.hasSigner(n))try{await h(this,Pa).call(this,"eth_requestAccounts",[])}catch(r){const s=r.payload;throw this.getRpcError(s,{id:s.id,error:r})}return await super.getSigner(n)}}Pa=new WeakMap;const yh="0x4b5cd416dd0e9f7c213736672a26e2928cfbf47c",hw=[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"eventContract",type:"address"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"string",name:"symbol",type:"string"},{indexed:!1,internalType:"string",name:"eventName",type:"string"},{indexed:!1,internalType:"uint256",name:"date",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalTickets",type:"uint256"},{indexed:!1,internalType:"uint256",name:"ticketPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"ticketLimit",type:"uint256"}],name:"EventCreated",type:"event"},{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"string",name:"_eventName",type:"string"},{internalType:"uint256",name:"_date",type:"uint256"},{internalType:"uint256",name:"_totalTickets",type:"uint256"},{internalType:"uint256",name:"_ticketPrice",type:"uint256"},{internalType:"uint256",name:"_ticketLimit",type:"uint256"}],name:"createEvent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"events",outputs:[{internalType:"contract EventTicket",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllEvents",outputs:[{internalType:"contract EventTicket[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"}],pw=84532,cl={provider:null,address:null,balance:null,isConnecting:!1,error:null};function Wi(){const[t,e]=M.useState(cl),n=async o=>{const l=await o.getNetwork();if(Number(l.chainId)!==pw)try{return await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${pw.toString(16)}`}]}),!0}catch(c){return c.code===4902?F.error("Please add Base Sepolia network to MetaMask"):F.error("Please switch to Base Sepolia network"),!1}return!0},r=M.useCallback(async(o=!1)=>{if(window.ethereum)try{const l=new fw(window.ethereum),a=await l.listAccounts();if(a.length>0){const c=await l.getBalance(a[0].address),u=a[0].address;e(d=>(o&&d.address&&d.address.toLowerCase()!==u.toLowerCase()&&F.success("Account changed"),{provider:l,address:u,balance:Li(c),isConnecting:!1,error:null}))}else e(cl)}catch(l){console.error("Error updating wallet state:",l),e(cl)}},[]),s=M.useCallback(async()=>{if(!window.ethereum){e(o=>({...o,error:"Please install MetaMask!"})),F.error("Please install MetaMask!");return}try{e(u=>({...u,isConnecting:!0,error:null}));const o=new fw(window.ethereum);if(!await n(o)){e(u=>({...u,isConnecting:!1}));return}const a=await window.ethereum.request({method:"eth_requestAccounts"}),c=await o.getBalance(a[0]);e({provider:o,address:a[0],balance:Li(c),isConnecting:!1,error:null}),F.success("Wallet connected successfully!")}catch(o){console.error("Connection error:",o),e(l=>({...l,isConnecting:!1,error:o.message||"Failed to connect wallet"})),o.code===4001?F.error("Connection rejected by user"):F.error(o.message||"Failed to connect wallet")}},[n]),i=M.useCallback(()=>{e(cl),F.success("Wallet disconnected")},[]);return M.useEffect(()=>{if(window.ethereum){const o=async a=>{a.length===0?(e(cl),F.success("Wallet disconnected")):await r(!0)},l=()=>{window.location.reload()};return window.ethereum.on("accountsChanged",o),window.ethereum.on("chainChanged",l),r(!1),()=>{var a;(a=window.ethereum)!=null&&a.removeListener&&(window.ethereum.removeListener("accountsChanged",o),window.ethereum.removeListener("chainChanged",l))}}},[r]),{...t,connect:s,disconnect:i}}function gw(){const{address:t,balance:e,isConnecting:n,error:r,connect:s,disconnect:i}=Wi();return r?b.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded text-sm",children:r}):t?b.jsxs("div",{className:"inline-flex items-center space-x-2 bg-white rounded-md border border-gray-200 pr-2",children:[b.jsxs("div",{className:"px-3 py-2",children:[b.jsx("p",{className:"text-sm font-medium text-gray-900",children:`${t.slice(0,6)}...${t.slice(-4)}`}),b.jsx("p",{className:"text-xs text-gray-500",children:`${Number(e).toFixed(4)} ETH`})]}),b.jsx("button",{onClick:i,className:"inline-flex items-center justify-center p-2 text-red-600 hover:text-red-700 focus:outline-none",title:"Disconnect wallet",children:b.jsx(cS,{className:"h-4 w-4"})})]}):b.jsxs("button",{onClick:s,disabled:n,className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400",children:[b.jsx(pS,{className:"h-4 w-4 mr-2"}),n?"Connecting...":"Connect Wallet"]})}function Rn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ji(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const qx=6048e5,JN=864e5;let KN={};function yf(){return KN}function fc(t,e){var l,a,c,u;const n=yf(),r=(e==null?void 0:e.weekStartsOn)??((a=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:a.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,s=Rn(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Pd(t){return fc(t,{weekStartsOn:1})}function Xx(t){const e=Rn(t),n=e.getFullYear(),r=ji(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Pd(r),i=ji(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Pd(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function mw(t){const e=Rn(t);return e.setHours(0,0,0,0),e}function yw(t){const e=Rn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function YN(t,e){const n=mw(t),r=mw(e),s=+n-yw(n),i=+r-yw(r);return Math.round((s-i)/JN)}function qN(t){const e=Xx(t),n=ji(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Pd(n)}function XN(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ZN(t){if(!XN(t)&&typeof t!="number")return!1;const e=Rn(t);return!isNaN(Number(e))}function eT(t){const e=Rn(t),n=ji(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const tT={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nT=(t,e,n)=>{let r;const s=tT[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function wh(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const rT={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sT={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iT={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oT={date:wh({formats:rT,defaultWidth:"full"}),time:wh({formats:sT,defaultWidth:"full"}),dateTime:wh({formats:iT,defaultWidth:"full"})},aT={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lT=(t,e,n,r)=>aT[t];function ul(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const cT={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uT={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dT={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fT={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gT=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},mT={ordinalNumber:gT,era:ul({values:cT,defaultWidth:"wide"}),quarter:ul({values:uT,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ul({values:dT,defaultWidth:"wide"}),day:ul({values:fT,defaultWidth:"wide"}),dayPeriod:ul({values:hT,defaultWidth:"wide",formattingValues:pT,defaultFormattingWidth:"wide"})};function dl(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],a=Array.isArray(l)?wT(l,d=>d.test(o)):yT(l,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(a):a,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(o.length);return{value:c,rest:u}}}function yT(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function wT(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function vT(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const bT=/^(\d+)(th|st|nd|rd)?/i,xT=/\d+/i,AT={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ET={any:[/^b/i,/^(a|c)/i]},kT={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ST={any:[/1/i,/2/i,/3/i,/4/i]},CT={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},PT={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_T={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NT={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},TT={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},OT={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},IT={ordinalNumber:vT({matchPattern:bT,parsePattern:xT,valueCallback:t=>parseInt(t,10)}),era:dl({matchPatterns:AT,defaultMatchWidth:"wide",parsePatterns:ET,defaultParseWidth:"any"}),quarter:dl({matchPatterns:kT,defaultMatchWidth:"wide",parsePatterns:ST,defaultParseWidth:"any",valueCallback:t=>t+1}),month:dl({matchPatterns:CT,defaultMatchWidth:"wide",parsePatterns:PT,defaultParseWidth:"any"}),day:dl({matchPatterns:_T,defaultMatchWidth:"wide",parsePatterns:NT,defaultParseWidth:"any"}),dayPeriod:dl({matchPatterns:TT,defaultMatchWidth:"any",parsePatterns:OT,defaultParseWidth:"any"})},RT={code:"en-US",formatDistance:nT,formatLong:oT,formatRelative:lT,localize:mT,match:IT,options:{weekStartsOn:0,firstWeekContainsDate:1}};function BT(t){const e=Rn(t);return YN(e,eT(e))+1}function LT(t){const e=Rn(t),n=+Pd(e)-+qN(e);return Math.round(n/qx)+1}function Zx(t,e){var u,d,f,p;const n=Rn(t),r=n.getFullYear(),s=yf(),i=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(f=s.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=ji(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=fc(o,e),a=ji(t,0);a.setFullYear(r,0,i),a.setHours(0,0,0,0);const c=fc(a,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function DT(t,e){var l,a,c,u;const n=yf(),r=(e==null?void 0:e.firstWeekContainsDate)??((a=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:a.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,s=Zx(t,e),i=ji(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),fc(i,e)}function MT(t,e){const n=Rn(t),r=+fc(n,e)-+DT(n,e);return Math.round(r/qx)+1}function de(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const jr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return de(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):de(n+1,2)},d(t,e){return de(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return de(t.getHours()%12||12,e.length)},H(t,e){return de(t.getHours(),e.length)},m(t,e){return de(t.getMinutes(),e.length)},s(t,e){return de(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return de(s,e.length)}},so={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ww={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return jr.y(t,e)},Y:function(t,e,n,r){const s=Zx(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return de(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):de(i,e.length)},R:function(t,e){const n=Xx(t);return de(n,e.length)},u:function(t,e){const n=t.getFullYear();return de(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return de(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return de(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return jr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return de(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=MT(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):de(s,e.length)},I:function(t,e,n){const r=LT(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):de(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):jr.d(t,e)},D:function(t,e,n){const r=BT(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):de(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return de(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return de(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return de(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=so.noon:r===0?s=so.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=so.evening:r>=12?s=so.afternoon:r>=4?s=so.morning:s=so.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return jr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):jr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):de(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):de(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):jr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):jr.s(t,e)},S:function(t,e){return jr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return bw(r);case"XXXX":case"XX":return $s(r);case"XXXXX":case"XXX":default:return $s(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return bw(r);case"xxxx":case"xx":return $s(r);case"xxxxx":case"xxx":default:return $s(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+vw(r,":");case"OOOO":default:return"GMT"+$s(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+vw(r,":");case"zzzz":default:return"GMT"+$s(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return de(r,e.length)},T:function(t,e,n){const r=t.getTime();return de(r,e.length)}};function vw(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+de(i,2)}function bw(t,e){return t%60===0?(t>0?"-":"+")+de(Math.abs(t)/60,2):$s(t,e)}function $s(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=de(Math.trunc(r/60),2),i=de(r%60,2);return n+s+e+i}const xw=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},eA=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},UT=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return xw(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",xw(r,e)).replace("{{time}}",eA(s,e))},FT={p:eA,P:UT},jT=/^D+$/,zT=/^Y+$/,HT=["D","DD","YY","YYYY"];function $T(t){return jT.test(t)}function GT(t){return zT.test(t)}function VT(t,e,n){const r=QT(t,e,n);if(console.warn(r),HT.includes(t))throw new RangeError(r)}function QT(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const WT=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JT=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KT=/^'([^]*?)'?$/,YT=/''/g,qT=/[a-zA-Z]/;function _d(t,e,n){var u,d,f,p;const r=yf(),s=r.locale??RT,i=r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,o=r.weekStartsOn??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,l=Rn(t);if(!ZN(l))throw new RangeError("Invalid time value");let a=e.match(JT).map(g=>{const m=g[0];if(m==="p"||m==="P"){const A=FT[m];return A(g,s.formatLong)}return g}).join("").match(WT).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const m=g[0];if(m==="'")return{isToken:!1,value:XT(g)};if(ww[m])return{isToken:!0,value:g};if(m.match(qT))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(a=s.localize.preprocessor(l,a));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return a.map(g=>{if(!g.isToken)return g.value;const m=g.value;(GT(m)||$T(m))&&VT(m,e,String(t));const A=ww[m[0]];return A(l,m,s.localize,c)}).join("")}function XT(t){const e=t.match(KT);return e?e[1].replace(YT,"'"):t}var ZT=Object.defineProperty,Nd=Object.getOwnPropertySymbols,tA=Object.prototype.hasOwnProperty,nA=Object.prototype.propertyIsEnumerable,Aw=(t,e,n)=>e in t?ZT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,eO=(t,e)=>{for(var n in e||(e={}))tA.call(e,n)&&Aw(t,n,e[n]);if(Nd)for(var n of Nd(e))nA.call(e,n)&&Aw(t,n,e[n]);return t},tO=(t,e)=>{var n={};for(var r in t)tA.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Nd)for(var r of Nd(t))e.indexOf(r)<0&&nA.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var zi;(t=>{const e=class{constructor(a,c,u,d){if(this.version=a,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],a<e.MIN_VERSION||a>e.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=a*4+17;let f=[];for(let g=0;g<this.size;g++)f.push(!1);for(let g=0;g<this.size;g++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(u);if(this.drawCodewords(p),d==-1){let g=1e9;for(let m=0;m<8;m++){this.applyMask(m),this.drawFormatBits(m);const A=this.getPenaltyScore();A<g&&(d=m,g=A),this.applyMask(m)}}i(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(a,c){const u=t.QrSegment.makeSegments(a);return e.encodeSegments(u,c)}static encodeBinary(a,c){const u=t.QrSegment.makeBytes(a);return e.encodeSegments([u],c)}static encodeSegments(a,c,u=1,d=40,f=-1,p=!0){if(!(e.MIN_VERSION<=u&&u<=d&&d<=e.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let g,m;for(g=u;;g++){const v=e.getNumDataCodewords(g,c)*8,k=l.getTotalBits(a,g);if(k<=v){m=k;break}if(g>=d)throw new RangeError("Data too long")}for(const v of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])p&&m<=e.getNumDataCodewords(g,v)*8&&(c=v);let A=[];for(const v of a){r(v.mode.modeBits,4,A),r(v.numChars,v.mode.numCharCountBits(g),A);for(const k of v.getData())A.push(k)}i(A.length==m);const y=e.getNumDataCodewords(g,c)*8;i(A.length<=y),r(0,Math.min(4,y-A.length),A),r(0,(8-A.length%8)%8,A),i(A.length%8==0);for(let v=236;A.length<y;v^=253)r(v,8,A);let w=[];for(;w.length*8<A.length;)w.push(0);return A.forEach((v,k)=>w[k>>>3]|=v<<7-(k&7)),new e(g,c,w,f)}getModule(a,c){return 0<=a&&a<this.size&&0<=c&&c<this.size&&this.modules[c][a]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const a=this.getAlignmentPatternPositions(),c=a.length;for(let u=0;u<c;u++)for(let d=0;d<c;d++)u==0&&d==0||u==0&&d==c-1||u==c-1&&d==0||this.drawAlignmentPattern(a[u],a[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(a){const c=this.errorCorrectionLevel.formatBits<<3|a;let u=c;for(let f=0;f<10;f++)u=u<<1^(u>>>9)*1335;const d=(c<<10|u)^21522;i(d>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,s(d,f));this.setFunctionModule(8,7,s(d,6)),this.setFunctionModule(8,8,s(d,7)),this.setFunctionModule(7,8,s(d,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,s(d,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,s(d,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,s(d,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let a=this.version;for(let u=0;u<12;u++)a=a<<1^(a>>>11)*7973;const c=this.version<<12|a;i(c>>>18==0);for(let u=0;u<18;u++){const d=s(c,u),f=this.size-11+u%3,p=Math.floor(u/3);this.setFunctionModule(f,p,d),this.setFunctionModule(p,f,d)}}drawFinderPattern(a,c){for(let u=-4;u<=4;u++)for(let d=-4;d<=4;d++){const f=Math.max(Math.abs(d),Math.abs(u)),p=a+d,g=c+u;0<=p&&p<this.size&&0<=g&&g<this.size&&this.setFunctionModule(p,g,f!=2&&f!=4)}}drawAlignmentPattern(a,c){for(let u=-2;u<=2;u++)for(let d=-2;d<=2;d++)this.setFunctionModule(a+d,c+u,Math.max(Math.abs(d),Math.abs(u))!=1)}setFunctionModule(a,c,u){this.modules[c][a]=u,this.isFunction[c][a]=!0}addEccAndInterleave(a){const c=this.version,u=this.errorCorrectionLevel;if(a.length!=e.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const d=e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],f=e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],p=Math.floor(e.getNumRawDataModules(c)/8),g=d-p%d,m=Math.floor(p/d);let A=[];const y=e.reedSolomonComputeDivisor(f);for(let v=0,k=0;v<d;v++){let S=a.slice(k,k+m-f+(v<g?0:1));k+=S.length;const _=e.reedSolomonComputeRemainder(S,y);v<g&&S.push(0),A.push(S.concat(_))}let w=[];for(let v=0;v<A[0].length;v++)A.forEach((k,S)=>{(v!=m-f||S>=g)&&w.push(k[v])});return i(w.length==p),w}drawCodewords(a){if(a.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let d=0;d<this.size;d++)for(let f=0;f<2;f++){const p=u-f,m=(u+1&2)==0?this.size-1-d:d;!this.isFunction[m][p]&&c<a.length*8&&(this.modules[m][p]=s(a[c>>>3],7-(c&7)),c++)}}i(c==a.length*8)}applyMask(a){if(a<0||a>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let d;switch(a){case 0:d=(u+c)%2==0;break;case 1:d=c%2==0;break;case 2:d=u%3==0;break;case 3:d=(u+c)%3==0;break;case 4:d=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:d=u*c%2+u*c%3==0;break;case 6:d=(u*c%2+u*c%3)%2==0;break;case 7:d=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&d&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let a=0;for(let f=0;f<this.size;f++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[f][A]==p?(g++,g==5?a+=e.PENALTY_N1:g>5&&a++):(this.finderPenaltyAddHistory(g,m),p||(a+=this.finderPenaltyCountPatterns(m)*e.PENALTY_N3),p=this.modules[f][A],g=1);a+=this.finderPenaltyTerminateAndCount(p,g,m)*e.PENALTY_N3}for(let f=0;f<this.size;f++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[A][f]==p?(g++,g==5?a+=e.PENALTY_N1:g>5&&a++):(this.finderPenaltyAddHistory(g,m),p||(a+=this.finderPenaltyCountPatterns(m)*e.PENALTY_N3),p=this.modules[A][f],g=1);a+=this.finderPenaltyTerminateAndCount(p,g,m)*e.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let p=0;p<this.size-1;p++){const g=this.modules[f][p];g==this.modules[f][p+1]&&g==this.modules[f+1][p]&&g==this.modules[f+1][p+1]&&(a+=e.PENALTY_N2)}let c=0;for(const f of this.modules)c=f.reduce((p,g)=>p+(g?1:0),c);const u=this.size*this.size,d=Math.ceil(Math.abs(c*20-u*10)/u)-1;return i(0<=d&&d<=9),a+=d*e.PENALTY_N4,i(0<=a&&a<=2568888),a}getAlignmentPatternPositions(){if(this.version==1)return[];{const a=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(a*2-2))*2;let u=[6];for(let d=this.size-7;u.length<a;d-=c)u.splice(1,0,d);return u}}static getNumRawDataModules(a){if(a<e.MIN_VERSION||a>e.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*a+128)*a+64;if(a>=2){const u=Math.floor(a/7)+2;c-=(25*u-10)*u-55,a>=7&&(c-=36)}return i(208<=c&&c<=29648),c}static getNumDataCodewords(a,c){return Math.floor(e.getNumRawDataModules(a)/8)-e.ECC_CODEWORDS_PER_BLOCK[c.ordinal][a]*e.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][a]}static reedSolomonComputeDivisor(a){if(a<1||a>255)throw new RangeError("Degree out of range");let c=[];for(let d=0;d<a-1;d++)c.push(0);c.push(1);let u=1;for(let d=0;d<a;d++){for(let f=0;f<c.length;f++)c[f]=e.reedSolomonMultiply(c[f],u),f+1<c.length&&(c[f]^=c[f+1]);u=e.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(a,c){let u=c.map(d=>0);for(const d of a){const f=d^u.shift();u.push(0),c.forEach((p,g)=>u[g]^=e.reedSolomonMultiply(p,f))}return u}static reedSolomonMultiply(a,c){if(a>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let d=7;d>=0;d--)u=u<<1^(u>>>7)*285,u^=(c>>>d&1)*a;return i(u>>>8==0),u}finderPenaltyCountPatterns(a){const c=a[1];i(c<=this.size*3);const u=c>0&&a[2]==c&&a[3]==c*3&&a[4]==c&&a[5]==c;return(u&&a[0]>=c*4&&a[6]>=c?1:0)+(u&&a[6]>=c*4&&a[0]>=c?1:0)}finderPenaltyTerminateAndCount(a,c,u){return a&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(a,c){c[0]==0&&(a+=this.size),c.pop(),c.unshift(a)}};let n=e;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=n;function r(a,c,u){if(c<0||c>31||a>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(a>>>d&1)}function s(a,c){return(a>>>c&1)!=0}function i(a){if(!a)throw new Error("Assertion error")}const o=class{constructor(a,c,u){if(this.mode=a,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(a){let c=[];for(const u of a)r(u,8,c);return new o(o.Mode.BYTE,a.length,c)}static makeNumeric(a){if(!o.isNumeric(a))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<a.length;){const d=Math.min(a.length-u,3);r(parseInt(a.substr(u,d),10),d*3+1,c),u+=d}return new o(o.Mode.NUMERIC,a.length,c)}static makeAlphanumeric(a){if(!o.isAlphanumeric(a))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=a.length;u+=2){let d=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(u))*45;d+=o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(u+1)),r(d,11,c)}return u<a.length&&r(o.ALPHANUMERIC_CHARSET.indexOf(a.charAt(u)),6,c),new o(o.Mode.ALPHANUMERIC,a.length,c)}static makeSegments(a){return a==""?[]:o.isNumeric(a)?[o.makeNumeric(a)]:o.isAlphanumeric(a)?[o.makeAlphanumeric(a)]:[o.makeBytes(o.toUtf8ByteArray(a))]}static makeEci(a){let c=[];if(a<0)throw new RangeError("ECI assignment value out of range");if(a<128)r(a,8,c);else if(a<16384)r(2,2,c),r(a,14,c);else if(a<1e6)r(6,3,c),r(a,21,c);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,c)}static isNumeric(a){return o.NUMERIC_REGEX.test(a)}static isAlphanumeric(a){return o.ALPHANUMERIC_REGEX.test(a)}getData(){return this.bitData.slice()}static getTotalBits(a,c){let u=0;for(const d of a){const f=d.mode.numCharCountBits(c);if(d.numChars>=1<<f)return 1/0;u+=4+f+d.bitData.length}return u}static toUtf8ByteArray(a){a=encodeURI(a);let c=[];for(let u=0;u<a.length;u++)a.charAt(u)!="%"?c.push(a.charCodeAt(u)):(c.push(parseInt(a.substr(u+1,2),16)),u+=2);return c}};let l=o;l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=l})(zi||(zi={}));(t=>{(e=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(zi||(zi={}));(t=>{(e=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(zi||(zi={}));var El=zi;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var nO={L:El.QrCode.Ecc.LOW,M:El.QrCode.Ecc.MEDIUM,Q:El.QrCode.Ecc.QUARTILE,H:El.QrCode.Ecc.HIGH},rO=128,sO="L",iO="#FFFFFF",oO="#000000",aO=!1,rA=4,lO=.1;function cO(t,e=0){const n=[];return t.forEach(function(r,s){let i=null;r.forEach(function(o,l){if(!o&&i!==null){n.push(`M${i+e} ${s+e}h${l-i}v1H${i+e}z`),i=null;return}if(l===r.length-1){if(!o)return;i===null?n.push(`M${l+e},${s+e} h1v1H${l+e}z`):n.push(`M${i+e},${s+e} h${l+1-i}v1H${i+e}z`);return}o&&i===null&&(i=l)})}),n.join("")}function uO(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function dO(t,e,n,r){if(r==null)return null;const s=n?rA:0,i=t.length+s*2,o=Math.floor(e*lO),l=i/e,a=(r.width||o)*l,c=(r.height||o)*l,u=r.x==null?t.length/2-a/2:r.x*l,d=r.y==null?t.length/2-c/2:r.y*l;let f=null;if(r.excavate){let p=Math.floor(u),g=Math.floor(d),m=Math.ceil(a+u-p),A=Math.ceil(c+d-g);f={x:p,y:g,w:m,h:A}}return{x:u,y:d,h:c,w:a,excavation:f}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function fO(t){const e=t,{value:n,size:r=rO,level:s=sO,bgColor:i=iO,fgColor:o=oO,includeMargin:l=aO,imageSettings:a}=e,c=tO(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=El.QrCode.encodeText(n,nO[s]).getModules();const d=l?rA:0,f=u.length+d*2,p=dO(u,r,l,a);let g=null;a!=null&&p!=null&&(p.excavation!=null&&(u=uO(u,p.excavation)),g=zc.createElement("image",{xlinkHref:a.src,height:p.h,width:p.w,x:p.x+d,y:p.y+d,preserveAspectRatio:"none"}));const m=cO(u,d);return zc.createElement("svg",eO({height:r,width:r,viewBox:`0 0 ${f} ${f}`},c),zc.createElement("path",{fill:i,d:`M0,0 h${f}v${f}H0z`,shapeRendering:"crispEdges"}),zc.createElement("path",{fill:o,d:m,shapeRendering:"crispEdges"}),g)}function hO({event:t,ticketId:e,isUsed:n}){const r=JSON.stringify({eventId:t.id,ticketId:e.toString(),eventName:t.name,date:t.date.getTime(),price:t.price});return b.jsx("div",{className:"max-w-sm mx-auto",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[b.jsxs("div",{className:"relative h-32 bg-gradient-to-r from-indigo-500 to-purple-600",children:[b.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover opacity-50"}),b.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:b.jsxs("div",{className:"text-white text-center",children:[b.jsx(om,{className:"h-12 w-12 mx-auto mb-2"}),b.jsx("h3",{className:"text-xl font-bold",children:t.name})]})})]}),b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"flex flex-col space-y-3 mb-6",children:[b.jsxs("div",{className:"flex items-center text-gray-600",children:[b.jsx(rb,{className:"h-5 w-5 mr-2"}),b.jsx("span",{children:_d(t.date,"PPP")})]}),b.jsxs("div",{className:"flex items-center text-gray-600",children:[b.jsx(im,{className:"h-5 w-5 mr-2"}),b.jsx("span",{children:_d(t.date,"p")})]})]}),b.jsx("div",{className:`flex justify-center mb-4 ${n?"opacity-50":""}`,children:b.jsx("div",{className:"p-4 bg-white rounded-lg border-2 border-gray-200",children:b.jsx(fO,{value:r,size:200,level:"H",includeMargin:!0})})}),b.jsxs("div",{className:"text-center space-y-2",children:[b.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Ticket ID: ",b.jsx("span",{className:"font-mono",children:e})]}),n&&b.jsx("div",{className:"bg-red-50 text-red-600 py-2 px-4 rounded-md text-sm font-medium",children:"This ticket has been used"})]})]})]})})}const pO=["function getUserTickets(address user) view returns (uint256[])","function getTicketStatus(uint256 ticketId) view returns (bool)"];function gO({event:t}){const{provider:e,address:n}=Wi(),[r,s]=M.useState([]),[i,o]=M.useState(!0),[l,a]=M.useState(0);M.useEffect(()=>{(async()=>{if(!(!e||!n))try{const f=new tt(t.id,pO,e),p=await f.getUserTickets(n),g=await Promise.all(p.map(async m=>({id:m.toString(),isUsed:await f.getTicketStatus(m)})));s(g)}catch(f){console.error("Error fetching tickets:",f)}finally{o(!1)}})()},[e,n,t.id]);const c=()=>{a(d=>d===r.length-1?0:d+1)},u=()=>{a(d=>d===0?r.length-1:d-1)};return i?b.jsx("div",{className:"flex justify-center items-center p-8",children:b.jsx(sb,{className:"h-8 w-8 animate-spin text-indigo-600"})}):r.length===0?b.jsx("div",{className:"text-center py-8",children:b.jsx("p",{className:"text-gray-500",children:"You don't have any tickets for this event"})}):b.jsxs("div",{className:"mt-6",children:[b.jsx("div",{className:"text-center mb-4",children:b.jsxs("p",{className:"text-sm text-gray-600",children:["Ticket ",l+1," of ",r.length]})}),b.jsxs("div",{className:"relative",children:[r.length>1&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:u,className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 bg-white rounded-full p-2 shadow-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 z-10",children:b.jsx(nS,{className:"h-6 w-6 text-gray-600"})}),b.jsx("button",{onClick:c,className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 bg-white rounded-full p-2 shadow-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 z-10",children:b.jsx(rS,{className:"h-6 w-6 text-gray-600"})})]}),b.jsx("div",{className:"overflow-hidden",children:b.jsx("div",{className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${l*100}%)`},children:r.map(d=>b.jsx("div",{className:"w-full flex-shrink-0",children:b.jsx(hO,{event:t,ticketId:d.id,isUsed:d.isUsed})},d.id))})}),r.length>1&&b.jsx("div",{className:"flex justify-center space-x-2 mt-4",children:r.map((d,f)=>b.jsx("button",{onClick:()=>a(f),className:`h-2 w-2 rounded-full transition-colors duration-200 ${f===l?"bg-indigo-600":"bg-gray-300"}`},f))})]})]})}const Ew=["function eventDetails() view returns (string, uint256, uint256, uint256, bool)","function claimRefund()","function getRefundStatus(address) view returns (bool)","function ticketsBought(address) view returns (uint256)"];function mO({event:t,onBuyTicket:e}){const{provider:n,address:r}=Wi(),[s,i]=M.useState(!1),[o,l]=M.useState(t.isCanceled||!1),[a,c]=M.useState(!1),[u,d]=M.useState(!1),[f,p]=M.useState(0),[g,m]=M.useState(!1),A=t.totalTickets-t.ticketsSold,y=new Date>t.date;M.useEffect(()=>{(async()=>{if(n)try{const k=new tt(t.id,Ew,n),S=await k.eventDetails();if(l(S[4]),r){const _=await k.getRefundStatus(r);d(_);const T=await k.ticketsBought(r);p(Number(T))}}catch(k){console.error("Error fetching event status:",k)}})()},[n,r,t.id,t.isCanceled]);const w=async()=>{if(!(!n||!r))try{c(!0);const v=await n.getSigner();await(await new tt(t.id,Ew,v).claimRefund()).wait(),d(!0),c(!1)}catch(v){console.error("Error claiming refund:",v),c(!1)}};return b.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[b.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-48 object-cover"}),b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("h3",{className:"text-xl font-semibold",children:t.name}),o&&b.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Canceled"})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("div",{className:`${g?"":"line-clamp-3"} text-gray-600`,children:t.description}),t.description.length>120&&b.jsx("button",{onClick:()=>m(!g),className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium flex items-center mt-1",children:g?b.jsxs(b.Fragment,{children:["Show Less ",b.jsx(sS,{className:"h-4 w-4 ml-1"})]}):b.jsxs(b.Fragment,{children:["Show More ",b.jsx(tS,{className:"h-4 w-4 ml-1"})]})})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center text-gray-600",children:[b.jsx(rb,{className:"h-4 w-4 mr-2"}),b.jsx("span",{children:_d(t.date,"PPP")})]}),b.jsxs("div",{className:"flex items-center text-gray-600",children:[b.jsx(im,{className:"h-4 w-4 mr-2"}),b.jsx("span",{children:_d(t.date,"p")})]}),b.jsxs("div",{className:"flex items-center text-gray-600",children:[b.jsx(om,{className:"h-4 w-4 mr-2"}),b.jsxs("span",{children:[A," tickets available"]})]}),b.jsxs("div",{className:"flex items-center text-gray-600",children:[b.jsx(oS,{className:"h-4 w-4 mr-2"}),b.jsxs("span",{children:[t.price," ETH"]})]})]}),b.jsxs("div",{className:"mt-4 space-y-2",children:[o?f>0&&!u?b.jsxs("button",{onClick:w,disabled:a,className:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:bg-gray-400",children:[b.jsx(bp,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`}),a?"Processing Refund...":"Claim Refund"]}):u?b.jsx("p",{className:"text-center text-sm text-gray-500",children:"Refund claimed"}):null:b.jsx("button",{onClick:()=>e(t.id),disabled:A===0||y,className:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-gray-400",children:y?"Event Ended":A===0?"Sold Out":"Buy Ticket"}),b.jsx("button",{onClick:()=>i(!s),className:"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s?"Hide My Tickets":"View My Tickets"})]}),s&&b.jsx("div",{className:"mt-4 border-t pt-4",children:b.jsx(gO,{event:t})})]})]})}const yO="modulepreload",wO=function(t){return"/"+t},kw={},$a=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=wO(a),a in kw)return;kw[a]=!0;const c=a.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":yO,c||(d.as="script"),d.crossOrigin="",d.href=a,l&&d.setAttribute("nonce",l),document.head.appendChild(d),c)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},vO=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>$a(async()=>{const{default:r}=await Promise.resolve().then(()=>Ka);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Nm extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class bO extends Nm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class xO extends Nm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class AO extends Nm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var rg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(rg||(rg={}));var EO=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{c(r.next(u))}catch(d){o(d)}}function a(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class kO{constructor(e,{headers:n={},customFetch:r,region:s=rg.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=vO(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return EO(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(g=>{throw new bO(g)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new xO(u);if(!u.ok)throw new AO(u);let f=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield u.json():f==="application/octet-stream"?p=yield u.blob():f==="text/event-stream"?p=u:f==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Nt={},Tm={},wf={},Uc={},vf={},bf={},SO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ga=SO();const CO=Ga.fetch,sA=Ga.fetch.bind(Ga),iA=Ga.Headers,PO=Ga.Request,_O=Ga.Response,Ka=Object.freeze(Object.defineProperty({__proto__:null,Headers:iA,Request:PO,Response:_O,default:sA,fetch:CO},Symbol.toStringTag,{value:"Module"})),NO=RA(Ka);var xf={};Object.defineProperty(xf,"__esModule",{value:!0});let TO=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};xf.default=TO;var oA=cn&&cn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bf,"__esModule",{value:!0});const OO=oA(NO),IO=oA(xf);let RO=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=OO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let c=null,u=null,d=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),A=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");m&&A&&A.length>1&&(d=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await i.text();try{c=JSON.parse(m),Array.isArray(c)&&i.status===404&&(u=[],c=null,f=200,p="OK")}catch{i.status===404&&m===""?(f=204,p="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((a=c==null?void 0:c.details)===null||a===void 0)&&a.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&this.shouldThrowOnError)throw new IO.default(c)}return{error:c,data:u,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}};bf.default=RO;var BO=cn&&cn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vf,"__esModule",{value:!0});const LO=BO(bf);let DO=class extends LO.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};vf.default=DO;var MO=cn&&cn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Uc,"__esModule",{value:!0});const UO=MO(vf);let FO=class extends UO.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Uc.default=FO;var jO=cn&&cn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wf,"__esModule",{value:!0});const fl=jO(Uc);let zO=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new fl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new fl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const a=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(a.length>0){const c=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new fl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new fl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new fl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};wf.default=zO;var Af={},Ef={};Object.defineProperty(Ef,"__esModule",{value:!0});Ef.version=void 0;Ef.version="0.0.0-automated";Object.defineProperty(Af,"__esModule",{value:!0});Af.DEFAULT_HEADERS=void 0;const HO=Ef;Af.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${HO.version}`};var aA=cn&&cn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tm,"__esModule",{value:!0});const $O=aA(wf),GO=aA(Uc),VO=Af;let QO=class lA{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},VO.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new $O.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new lA(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let a;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{l.searchParams.append(u,d)})):(o="POST",a=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new GO.default({method:o,url:l,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};Tm.default=QO;var Ya=cn&&cn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.PostgrestError=Nt.PostgrestBuilder=Nt.PostgrestTransformBuilder=Nt.PostgrestFilterBuilder=Nt.PostgrestQueryBuilder=Nt.PostgrestClient=void 0;const cA=Ya(Tm);Nt.PostgrestClient=cA.default;const uA=Ya(wf);Nt.PostgrestQueryBuilder=uA.default;const dA=Ya(Uc);Nt.PostgrestFilterBuilder=dA.default;const fA=Ya(vf);Nt.PostgrestTransformBuilder=fA.default;const hA=Ya(bf);Nt.PostgrestBuilder=hA.default;const pA=Ya(xf);Nt.PostgrestError=pA.default;var WO=Nt.default={PostgrestClient:cA.default,PostgrestQueryBuilder:uA.default,PostgrestFilterBuilder:dA.default,PostgrestTransformBuilder:fA.default,PostgrestBuilder:hA.default,PostgrestError:pA.default};const{PostgrestClient:JO,PostgrestQueryBuilder:HR,PostgrestFilterBuilder:$R,PostgrestTransformBuilder:GR,PostgrestBuilder:VR,PostgrestError:QR}=WO,KO="2.11.2",YO={"X-Client-Info":`realtime-js/${KO}`},qO="1.0.0",gA=1e4,XO=1e3;var Ho;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ho||(Ho={}));var Ut;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ut||(Ut={}));var kn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(kn||(kn={}));var sg;(function(t){t.websocket="websocket"})(sg||(sg={}));var Ws;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ws||(Ws={}));class ZO{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const a=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:c}}}class mA{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ge;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ge||(ge={}));const Sw=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=eI(o,t,e,s),i),{})},eI=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?yA(i,o):ig(o)},yA=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return sI(e,n)}switch(t){case ge.bool:return tI(e);case ge.float4:case ge.float8:case ge.int2:case ge.int4:case ge.int8:case ge.numeric:case ge.oid:return nI(e);case ge.json:case ge.jsonb:return rI(e);case ge.timestamp:return iI(e);case ge.abstime:case ge.date:case ge.daterange:case ge.int4range:case ge.int8range:case ge.money:case ge.reltime:case ge.text:case ge.time:case ge.timestamptz:case ge.timetz:case ge.tsrange:case ge.tstzrange:return ig(e);default:return ig(e)}},ig=t=>t,tI=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},nI=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},rI=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},sI=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>yA(e,l))}return t},iI=t=>typeof t=="string"?t.replace(" ","T"):t,wA=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class vh{constructor(e,n,r={},s=gA){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Cw;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Cw||(Cw={}));class Dl{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dl.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=Dl.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Dl.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(i,(c,u)=>{o[c]||(a[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const f=u.map(A=>A.presence_ref),p=d.map(A=>A.presence_ref),g=u.filter(A=>p.indexOf(A.presence_ref)<0),m=d.filter(A=>f.indexOf(A.presence_ref)<0);g.length>0&&(l[c]=g),m.length>0&&(a[c]=m)}else l[c]=u}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var c;const u=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(a),u.length>0){const d=e[l].map(p=>p.presence_ref),f=u.filter(p=>d.indexOf(p.presence_ref)<0);e[l].unshift(...f)}r(l,u,a)}),this.map(o,(l,a)=>{let c=e[l];if(!c)return;const u=a.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[l]=c,s(l,c,a),c.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pw;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Pw||(Pw={}));var _w;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(_w||(_w={}));var rr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(rr||(rr={}));class Om{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new vh(this,kn.join,this.params,this.timeout),this.rejoinTimer=new mA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ut.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kn.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Dl(this),this.broadcastEndpointURL=wA(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(u=>e==null?void 0:e(rr.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(rr.CLOSED));const a={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(rr.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,g=[];for(let m=0;m<p;m++){const A=f[m],{filter:{event:y,schema:w,table:v,filter:k}}=A,S=u&&u[m];if(S&&S.event===y&&S.schema===w&&S.table===v&&S.filter===k)g.push(Object.assign(Object.assign({},A),{id:S.id}));else{this.unsubscribe(),e==null||e(rr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(rr.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(rr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(rr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ut.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new vh(this,kn.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new vh(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:c,join:u}=kn;if(r&&[l,a,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,m,A;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((A=(m=p.filter)===null||m===void 0?void 0:m.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var g,m,A,y,w,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const k=p.id,S=(g=p.filter)===null||g===void 0?void 0:g.event;return k&&((m=n.ids)===null||m===void 0?void 0:m.includes(k))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((A=n.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const k=(w=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return k==="*"||k===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:m,table:A,commit_timestamp:y,type:w,errors:v}=g;f=Object.assign(Object.assign({},{schema:m,table:A,commit_timestamp:y,eventType:w,new:{},old:{},errors:v}),this._getPayloadRecords(g))}p.callback(f,r)})}_isClosed(){return this.state===Ut.closed}_isJoined(){return this.state===Ut.joined}_isJoining(){return this.state===Ut.joining}_isLeaving(){return this.state===Ut.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Om.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(kn.close,{},e)}_onError(e){this._on(kn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ut.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Sw(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Sw(e.columns,e.old_record)),n}}const oI=()=>{},aI=typeof WebSocket<"u",lI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cI{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=YO,this.params={},this.timeout=gA,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=oI,this.conn=null,this.sendBuffer=[],this.serializer=new ZO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>$a(async()=>{const{default:a}=await Promise.resolve().then(()=>Ka);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${sg.websocket}`,this.httpEndpoint=wA(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new mA(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(aI){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new uI(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),$a(async()=>{const{default:e}=await import("./browser-Y-w3Pp5A.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qO}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ho.connecting:return Ws.Connecting;case Ho.open:return Ws.Open;case Ho.closing:return Ws.Closing;default:return Ws.Closed}}isConnected(){return this.connectionState()===Ws.Open}channel(e,n={config:{}}){const r=new Om(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(kn.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(XO,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(kn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([lI],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class uI{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ho.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Im extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function He(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class dI extends Im{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class og extends Im{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var fI=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{c(r.next(u))}catch(d){o(d)}}function a(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const vA=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>$a(async()=>{const{default:r}=await Promise.resolve().then(()=>Ka);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},hI=()=>fI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $a(()=>Promise.resolve().then(()=>Ka),void 0)).Response:Response}),ag=t=>{if(Array.isArray(t))return t.map(n=>ag(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ag(r)}),e};var Ji=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{c(r.next(u))}catch(d){o(d)}}function a(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const bh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pI=(t,e,n)=>Ji(void 0,void 0,void 0,function*(){const r=yield hI();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new dI(bh(s),t.status||500))}).catch(s=>{e(new og(bh(s),s))}):e(new og(bh(t),t))}),gI=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Fc(t,e,n,r,s,i){return Ji(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,gI(e,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>pI(a,l,r))})})}function Td(t,e,n,r){return Ji(this,void 0,void 0,function*(){return Fc(t,"GET",e,n,r)})}function Qr(t,e,n,r,s){return Ji(this,void 0,void 0,function*(){return Fc(t,"POST",e,r,s,n)})}function mI(t,e,n,r,s){return Ji(this,void 0,void 0,function*(){return Fc(t,"PUT",e,r,s,n)})}function yI(t,e,n,r){return Ji(this,void 0,void 0,function*(){return Fc(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function bA(t,e,n,r,s){return Ji(this,void 0,void 0,function*(){return Fc(t,"DELETE",e,r,s,n)})}var Et=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{c(r.next(u))}catch(d){o(d)}}function a(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const wI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Nw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vI{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=vA(s)}uploadOrUpdate(e,n,r,s){return Et(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Nw),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(He(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Et(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Et(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const c=Object.assign({upsert:Nw.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",c.cacheControl)):(a=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:u}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(He(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return Et(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Qr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Im("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}})}update(e,n,r){return Et(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Et(this,void 0,void 0,function*(){try{return{data:yield Qr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(He(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Et(this,void 0,void 0,function*(){try{return{data:{path:(yield Qr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(He(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Et(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Qr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(He(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Et(this,void 0,void 0,function*(){try{const s=yield Qr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(He(s))return{data:null,error:s};throw s}})}download(e,n){return Et(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Td(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(He(l))return{data:null,error:l};throw l}})}info(e){return Et(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Td(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ag(r),error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}})}exists(e){return Et(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield yI(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(He(r)&&r instanceof og){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(e){return Et(this,void 0,void 0,function*(){try{return{data:yield bA(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}})}list(e,n,r){return Et(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},wI),n),{prefix:e||""});return{data:yield Qr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(He(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const bI="2.7.1",xI={"X-Client-Info":`storage-js/${bI}`};var io=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{c(r.next(u))}catch(d){o(d)}}function a(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class AI{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},xI),n),this.fetch=vA(r)}listBuckets(){return io(this,void 0,void 0,function*(){try{return{data:yield Td(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(He(e))return{data:null,error:e};throw e}})}getBucket(e){return io(this,void 0,void 0,function*(){try{return{data:yield Td(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return io(this,void 0,void 0,function*(){try{return{data:yield Qr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return io(this,void 0,void 0,function*(){try{return{data:yield mI(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}})}emptyBucket(e){return io(this,void 0,void 0,function*(){try{return{data:yield Qr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}})}deleteBucket(e){return io(this,void 0,void 0,function*(){try{return{data:yield bA(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}})}}class EI extends AI{constructor(e,n={},r){super(e,n,r)}from(e){return new vI(this.url,this.headers,e,this.fetch)}}const kI="2.47.12";let kl="";typeof Deno<"u"?kl="deno":typeof document<"u"?kl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kl="react-native":kl="node";const SI={"X-Client-Info":`supabase-js-${kl}/${kI}`},CI={headers:SI},PI={schema:"public"},_I={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},NI={};var TI=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{c(r.next(u))}catch(d){o(d)}}function a(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const OI=t=>{let e;return t?e=t:typeof fetch>"u"?e=sA:e=fetch,(...n)=>e(...n)},II=()=>typeof Headers>"u"?iA:Headers,RI=(t,e,n)=>{const r=OI(n),s=II();return(i,o)=>TI(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var BI=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{c(r.next(u))}catch(d){o(d)}}function a(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};function LI(t){return t.replace(/\/$/,"")}function DI(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:l,realtime:a,global:c}=e,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},a),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>BI(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const xA="2.67.3",MI="http://localhost:9999",UI="supabase.auth.token",FI={"X-Client-Info":`gotrue-js/${xA}`},Tw=10,lg="X-Supabase-Api-Version",AA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function jI(t){return Math.round(Date.now()/1e3)+t}function zI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Dn=()=>typeof window<"u"&&typeof document<"u",Us={tested:!1,writable:!1},Ml=()=>{if(!Dn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Us.tested)return Us.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Us.tested=!0,Us.writable=!0}catch{Us.tested=!0,Us.writable=!1}return Us.writable};function HI(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const EA=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>$a(async()=>{const{default:r}=await Promise.resolve().then(()=>Ka);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},$I=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",kA=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},pu=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gu=async(t,e)=>{await t.removeItem(e)};function GI(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,l,a,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),r=o<<2|l>>4,s=(l&15)<<4|a>>2,i=(a&3)<<6|c,n=n+String.fromCharCode(r),a!=64&&s!=0&&(n=n+String.fromCharCode(s)),c!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class kf{constructor(){this.promise=new kf.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}kf.promiseConstructor=Promise;function Ow(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(GI(r))}async function VI(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function QI(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function WI(t){return("0"+t.toString(16)).substr(-2)}function JI(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,WI).join("")}async function KI(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function YI(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qI(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await KI(t);return YI(n)}async function oo(t,e,n=!1){const r=JI();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await kA(t,`${e}-code-verifier`,s);const i=await qI(r);return[i,r===i?"plain":"s256"]}const XI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZI(t){const e=t.headers.get(lg);if(!e||!e.match(XI))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Rm extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ee(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class eR extends Rm{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function tR(t){return ee(t)&&t.name==="AuthApiError"}class SA extends Rm{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ki extends Rm{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Hr extends Ki{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nR(t){return ee(t)&&t.name==="AuthSessionMissingError"}class xh extends Ki{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mu extends Ki{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class yu extends Ki{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rR(t){return ee(t)&&t.name==="AuthImplicitGrantRedirectError"}class Iw extends Ki{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cg extends Ki{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ah(t){return ee(t)&&t.name==="AuthRetryableFetchError"}class Rw extends Ki{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var sR=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Gs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),iR=[502,503,504];async function Bw(t){var e;if(!$I(t))throw new cg(Gs(t),0);if(iR.includes(t.status))throw new cg(Gs(t),t.status);let n;try{n=await t.json()}catch(i){throw new SA(Gs(i),i)}let r;const s=ZI(t);if(s&&s.getTime()>=AA["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Rw(Gs(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Hr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Rw(Gs(n),t.status,n.weak_password.reasons);throw new eR(Gs(n),t.status||500,r)}const oR=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ie(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[lg]||(i[lg]=AA["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await aR(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function aR(t,e,n,r,s,i){const o=oR(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new cg(Gs(a),0)}if(l.ok||await Bw(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await Bw(a)}}function $r(t){var e;let n=null;dR(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=jI(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Lw(t){const e=$r(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function qr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function lR(t){return{data:t,error:null}}function cR(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=sR(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function uR(t){return t}function dR(t){return t.access_token&&t.refresh_token&&t.expires_in}var fR=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class hR{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=EA(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:qr})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=fR(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:cR,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ee(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:qr})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,a;try{const c={nextPage:null,lastPage:0,total:0},u=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:uR});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(a=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(g.split(";")[1].split("=")[1]);c[`${A}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ee(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:qr})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:qr})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:qr})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await ie(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}}const pR={getItem:t=>Ml()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ml()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ml()&&globalThis.localStorage.removeItem(t)}};function Dw(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function gR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ao={debug:!!(globalThis&&Ml()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class CA extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class mR extends CA{}async function yR(t,e,n){ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ao.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new mR(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ao.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}gR();const wR={url:MI,storageKey:UI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:FI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},hl=30*1e3,Mw=3;async function Uw(t,e,n){return await n()}class hc{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=hc.nextInstanceID,hc.nextInstanceID+=1,this.instanceID>0&&Dn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},wR),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new hR({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=EA(s.fetch),this.lock=s.lock||Uw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Dn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=yR:this.lock=Uw,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ml()?this.storage=pR:(this.memoryStorage={},this.storage=Dw(this.memoryStorage)):(this.memoryStorage={},this.storage=Dw(this.memoryStorage)),Dn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${xA}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=HI(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Dn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),rR(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ee(n)?{error:n}:{error:new SA("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:$r}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(ee(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:d,options:f}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await oo(this.storage,this.storageKey)),i=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:$r})}else if("phone"in e){const{phone:u,password:d,options:f}=e;i=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:$r})}else throw new mu("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(ee(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Lw})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Lw})}else throw new mu("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new xh}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await pu(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:$r});if(await gu(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new xh}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ee(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:$r}),{data:a,error:c}=l;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new xh}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(n){if(ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await oo(this.storage,this.storageKey));const{error:d}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:l,options:a}=e,{data:c,error:u}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new mu("You must provide either an email or phone number.")}catch(l){if(ee(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:$r});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,c=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await oo(this.storage,this.storageKey)),await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:lR})}catch(i){if(ee(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Hr;const{error:s}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(ee(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await ie(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await ie(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new mu("You must provide either an email or phone number and a type")}catch(n){if(ee(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await pu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,c,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:qr}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hr}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:qr})})}catch(n){if(ee(n))return nR(n)&&(await this._removeSession(),await gu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Hr;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await oo(this.storage,this.storageKey));const{data:c,error:u}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:qr});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return Ow(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Hr;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=Ow(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(ee(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Hr;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ee(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Dn())throw new yu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new yu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Iw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Iw("No code detected.");const{data:w,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:c}=e;if(!i||!l||!o||!c)throw new yu("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(l);let f=u+d;a&&(f=parseInt(a));const p=f-u;p*1e3<=hl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const g=f-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:m,error:A}=await this._getUser(i);if(A)throw A;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(ee(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await pu(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(tR(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await gu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=zI(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await oo(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ee(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,c,u;const{data:d,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Dn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ee(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await QI(async s=>(s>0&&await VI(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$r})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ah(i)&&Date.now()+o-r<hl})}catch(r){if(this._debug(n,"error",r),ee(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Dn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await pu(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+Tw;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Tw}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Ah(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Hr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new kf;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Hr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),ee(i)){const o={session:null,error:i};return Ah(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await kA(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await gu(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Dn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),hl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/hl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${hl}ms, refresh threshold is ${Mw} ticks`),s<=Mw&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof CA)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await oo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ie(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:c}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(ee(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ee(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:u},error:null}}))}}hc.nextInstanceID=0;const vR=hc;class bR extends vR{constructor(e){super(e)}}var xR=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{c(r.next(u))}catch(d){o(d)}}function a(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class AR{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=LI(e);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:PI,realtime:NI,auth:Object.assign(Object.assign({},_I),{storageKey:a}),global:CI},u=DI(r??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=RI(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new JO(`${l}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new kO(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new EI(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return xR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:a},c,u){var d;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bR({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:a,fetch:u,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(e){return new cI(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ER=(t,e,n)=>new AR(t,e,n),ug="https://uwqvdkhxpwvarpgkqeae.supabase.co",kR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV3cXZka2h4cHd2YXJwZ2txZWFlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUwMjk1NzUsImV4cCI6MjA2MDYwNTU3NX0.NVV5gINNkVmgdaVhMR_ILPmqAICFd5vJ5-jzDNkewWU",PA=t=>{try{return new URL(t),!0}catch{return!1}};PA(ug)||console.warn("Invalid or missing Supabase credentials. Image upload functionality will be disabled.");const ri=PA(ug)?ER(ug,kR):null,_o=()=>!!ri,SR=["function eventDetails() view returns (string, uint256, uint256, uint256, bool)","function ticketPrice() view returns (uint256)"];function _A(){const{provider:t,address:e}=Wi(),[n,r]=M.useState(!1),[s,i]=M.useState([]),[o,l]=M.useState(!1),a=M.useCallback(async()=>{if(!t){i([]);return}l(!0);try{console.log("Fetching events from factory:",yh);const d=await new tt(yh,hw,t).getAllEvents();console.log("Found event addresses:",d);let f={};if(_o()&&ri){const{data:m}=await ri.from("event_metadata").select("event_address, image_url, description");m&&(f=m.reduce((A,y)=>({...A,[y.event_address.toLowerCase()]:{image_url:y.image_url,description:y.description}}),{}))}const p=d.map(async m=>{console.log("Fetching details for event:",m);try{const A=new tt(m,SR,t),y=await A.eventDetails(),w=await A.ticketPrice(),v=f[m.toLowerCase()]||{image_url:"https://images.unsplash.com/photo-1540575467063-178a50c2df87",description:"Event tickets available on the blockchain."};return{id:m,name:y[0],date:new Date(Number(y[1])*1e3),totalTickets:Number(y[2]),ticketsSold:Number(y[3]),isCanceled:y[4],price:Li(w),imageUrl:v.image_url,description:v.description}}catch(A){return console.error("Error fetching event details for:",m,A),null}}),g=(await Promise.all(p)).filter(m=>m!==null);console.log("Fetched events:",g),i(g)}catch(u){console.error("Error fetching events:",u),F.error("Failed to fetch events"),i([])}finally{l(!1)}},[t]);return M.useEffect(()=>{t?(console.log("Provider available, fetching events"),a()):i([])},[t,a]),{createEvent:M.useCallback(async({name:u,symbol:d,eventName:f,date:p,totalTickets:g,ticketPrice:m,ticketLimit:A,imageUrl:y,description:w})=>{var v;if(!t||!e)return F.error("Please connect your wallet"),!1;r(!0);try{const k=await t.getSigner(),S=new tt(yh,hw,k),_=jS(m);console.log("Creating event with params:",{name:u,symbol:d,eventName:f,date:p,totalTickets:g,ticketPriceWei:_.toString(),ticketLimit:A});const T=await S.createEvent(u,d,f,p,g,_,A);console.log("Transaction sent:",T.hash);const N=await T.wait();console.log("Transaction confirmed");const V=N.logs.find(D=>{try{const W=S.interface.parseLog(D);return(W==null?void 0:W.name)==="EventCreated"}catch{return!1}});if(V){const D=S.interface.parseLog(V),W=(v=D==null?void 0:D.args)==null?void 0:v.eventContract;if(_o()&&ri){const{error:Y}=await ri.from("event_metadata").insert({event_address:W,image_url:y,description:w});Y&&(console.error("Error storing event metadata:",Y),F.error("Event created, but failed to store image URL"))}}return F.success("Event created successfully!"),await a(),!0}catch(k){return console.error("Error creating event:",k),F.error(k.message||"Failed to create event"),!1}finally{r(!1)}},[t,e,a]),events:s,isCreating:n,isLoading:o,refreshEvents:a}}const CR={eventName:"",name:"",symbol:"",dateTime:"",totalTickets:"",ticketPrice:"",ticketLimit:"",imageUrl:"",description:""};function PR(t){const[e,n]=M.useState(CR),[r,s]=M.useState({}),{createEvent:i,isCreating:o}=_A(),l=()=>{const u={};return e.eventName||(u.eventName="Event name is required"),e.name||(u.name="Contract name is required"),e.symbol||(u.symbol="Symbol is required"),e.dateTime||(u.dateTime="Date and time are required"),e.totalTickets||(u.totalTickets="Total tickets is required"),e.ticketPrice||(u.ticketPrice="Ticket price is required"),e.ticketLimit||(u.ticketLimit="Ticket limit is required"),e.imageUrl||(u.imageUrl="Event image is required"),e.description||(u.description="Event description is required"),s(u),Object.keys(u).length===0},a=M.useCallback(async u=>{if(u.preventDefault(),!l())return;const d=Math.floor(new Date(e.dateTime).getTime()/1e3);await i({eventName:e.eventName,name:e.name,symbol:e.symbol,date:d,totalTickets:parseInt(e.totalTickets),ticketPrice:e.ticketPrice,ticketLimit:parseInt(e.ticketLimit),imageUrl:e.imageUrl,description:e.description})&&t&&t()},[e,i,t]);return{formData:e,handleSubmit:a,handleChange:u=>{const{name:d,value:f}=u.target;n(p=>({...p,[d]:f})),r[d]&&s(p=>({...p,[d]:""}))},isSubmitting:o,errors:r,setFormData:n}}function Eh({label:t,name:e,value:n,onChange:r,error:s,type:i="text"}){return b.jsxs("div",{children:[b.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700",children:t}),b.jsx("input",{type:i,id:e,name:e,value:n,onChange:r,className:`mt-1 block w-full rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm
          ${s?"border-red-300":"border-gray-300"}`}),s&&b.jsx("p",{className:"mt-1 text-sm text-red-600",children:s})]})}function _R({label:t,name:e,value:n,onChange:r,error:s,includeTime:i=!1}){const o=new Date().toISOString().split("T")[0];return b.jsxs("div",{children:[b.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700",children:t}),b.jsx("input",{type:i?"datetime-local":"date",id:e,name:e,value:n,onChange:r,min:i?`${o}T00:00`:o,className:`mt-1 block w-full rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm
          ${s?"border-red-300":"border-gray-300"}`}),s&&b.jsx("p",{className:"mt-1 text-sm text-red-600",children:s})]})}function kh({label:t,name:e,value:n,onChange:r,error:s,min:i="1",max:o,step:l="1",helper:a,conversion:c}){return b.jsxs("div",{children:[b.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700",children:t}),b.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[b.jsx("input",{type:"number",id:e,name:e,value:n,onChange:r,min:i,max:o,step:l,className:`block w-full rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm
            ${s?"border-red-300":"border-gray-300"}`}),c&&b.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:b.jsx("span",{className:"text-gray-500 sm:text-sm",children:c})})]}),a&&b.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a}),s&&b.jsx("p",{className:"mt-1 text-sm text-red-600",children:s})]})}function NR({value:t,onChange:e,error:n}){const r=M.useCallback(async s=>{var o;if(!_o()){F.error("Image upload is not available. Please try again later.");return}const i=(o=s.target.files)==null?void 0:o[0];if(i){if(!i.type.startsWith("image/")){F.error("Please upload an image file");return}if(i.size>5242880){F.error("Image must be less than 5MB");return}try{const l=URL.createObjectURL(i);e(l);const a=i.name.split(".").pop(),u=`event-images/${`${Math.random()}.${a}`}`,{error:d}=await ri.storage.from("event-images").upload(u,i);if(d)throw d;const{data:{publicUrl:f}}=ri.storage.from("event-images").getPublicUrl(u);e(f),F.success("Image uploaded successfully"),URL.revokeObjectURL(l)}catch(l){console.error("Error uploading image:",l),F.error(l.message||"Failed to upload image"),e("")}}},[e]);return b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Event Image"}),b.jsxs("div",{className:"flex items-center space-x-4",children:[t?b.jsxs("div",{className:"relative w-24 h-24",children:[b.jsx("img",{src:t,alt:"Event preview",className:"w-full h-full object-cover rounded-lg"}),b.jsx("button",{type:"button",onClick:()=>e(""),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:"×"})]}):b.jsx("div",{className:"w-24 h-24 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:b.jsx(lS,{className:"w-8 h-8 text-gray-400"})}),b.jsxs("div",{children:[b.jsxs("label",{className:`cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 ${_o()?"":"opacity-50 cursor-not-allowed"}`,children:[b.jsx(hS,{className:"h-4 w-4 mr-2"}),"Upload Image",b.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:r,disabled:!_o()})]}),b.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Max file size: 5MB. Supported formats: JPG, PNG, GIF"}),!_o()&&b.jsx("p",{className:"mt-1 text-xs text-red-500",children:"Image upload is currently unavailable"})]})]}),n&&b.jsx("p",{className:"mt-1 text-sm text-red-600",children:n})]})}function TR({onSuccess:t}){const{formData:e,handleSubmit:n,handleChange:r,isSubmitting:s,errors:i,setFormData:o}=PR(t),a=e.ticketPrice?Number(e.ticketPrice)*3e3:0;return b.jsxs("form",{onSubmit:n,className:"space-y-6 max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-md",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create New Event"}),b.jsx(Eh,{label:"Event Name",name:"eventName",value:e.eventName,onChange:r,error:i.eventName}),b.jsx(Eh,{label:"Contract Name",name:"name",value:e.name,onChange:r,error:i.name}),b.jsx(Eh,{label:"Symbol",name:"symbol",value:e.symbol,onChange:r,error:i.symbol}),b.jsx(_R,{label:"Event Date & Time",name:"dateTime",value:e.dateTime,onChange:r,error:i.dateTime,includeTime:!0}),b.jsx(kh,{label:"Total Tickets",name:"totalTickets",value:e.totalTickets,onChange:r,error:i.totalTickets,min:"1",helper:"Maximum number of tickets that can be sold"}),b.jsx(kh,{label:"Ticket Price (ETH)",name:"ticketPrice",value:e.ticketPrice,onChange:r,error:i.ticketPrice,min:"0.0001",step:"0.0001",helper:`Approximate price in USD: $${a.toFixed(2)}`,conversion:"ETH"}),b.jsx(kh,{label:"Ticket Limit per Wallet",name:"ticketLimit",value:e.ticketLimit,onChange:r,error:i.ticketLimit,min:"1",helper:"Maximum number of tickets a single wallet can purchase"}),b.jsx(NR,{value:e.imageUrl,onChange:c=>o(u=>({...u,imageUrl:c})),error:i.imageUrl}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Event Description"}),b.jsx("textarea",{id:"description",name:"description",rows:3,value:e.description,onChange:r,className:`mt-1 block w-full rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm
            ${i.description?"border-red-300":"border-gray-300"}`}),i.description&&b.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.description})]}),b.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400",children:s?b.jsxs(b.Fragment,{children:[b.jsx(sb,{className:"animate-spin h-5 w-5 mr-2"}),"Creating Event..."]}):"Create Event"})]})}const OR=["function isTicketOwner(address user, uint256 ticketId) view returns (bool)","function getTicketStatus(uint256 ticketId) view returns (bool)","function markTicketAsUsed(uint256 ticketId)"];function IR({eventId:t}){const{provider:e,address:n}=Wi(),[r,s]=M.useState(""),[i,o]=M.useState(null),[l,a]=M.useState(!1),c=async()=>{if(!e||!n){F.error("Please connect your wallet first");return}if(!r){F.error("Please enter a ticket ID");return}a(!0);try{const u=await e.getSigner(),d=new tt(t,OR,u);if(await d.getTicketStatus(r)){o({isValid:!1,message:"This ticket has already been used"});return}await(await d.markTicketAsUsed(r)).wait(),o({isValid:!0,message:"Ticket verified and marked as used"}),F.success("Ticket verified successfully")}catch(u){console.error("Verification error:",u),o({isValid:!1,message:u.message||"Failed to verify ticket"}),F.error(u.message||"Failed to verify ticket")}finally{a(!1)}};return b.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[b.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Verify Tickets"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"ticketId",className:"block text-sm font-medium text-gray-700",children:"Ticket ID"}),b.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[b.jsx("input",{type:"text",id:"ticketId",value:r,onChange:u=>s(u.target.value),className:"flex-1 min-w-0 block w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter ticket ID"}),b.jsxs("button",{onClick:c,disabled:l||!r,className:"ml-3 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-gray-400",children:[b.jsx(fS,{className:"h-4 w-4 mr-2"}),l?"Verifying...":"Verify"]})]})]}),i&&b.jsx("div",{className:`p-4 rounded-md ${i.isValid?"bg-green-50":"bg-red-50"}`,children:b.jsxs("div",{className:"flex",children:[b.jsx("div",{className:"flex-shrink-0",children:i.isValid?b.jsx(eS,{className:"h-5 w-5 text-green-400"}):b.jsx(ib,{className:"h-5 w-5 text-red-400"})}),b.jsx("div",{className:"ml-3",children:b.jsx("p",{className:`text-sm font-medium ${i.isValid?"text-green-800":"text-red-800"}`,children:i.message})})]})})]})]})}const Sh=["function owner() view returns (address)","function withdrawFunds()","function ticketPrice() view returns (uint256)","function ticketsSold() view returns (uint256)","function cancelEvent()","function eventDetails() view returns (string, uint256, uint256, uint256, bool)"];function RR({event:t,onWithdraw:e}){const{provider:n,address:r}=Wi(),[s,i]=M.useState(!1),[o,l]=M.useState(!1),[a,c]=M.useState("0"),[u,d]=M.useState(!1),[f,p]=M.useState(!1),[g,m]=M.useState(!1),A=async()=>{if(n)try{const _=await new tt(t.id,Sh,n).eventDetails();m(_[4])}catch(S){console.error("Error fetching event status:",S)}},y=async()=>{if(n){d(!0);try{const S=await n.getBalance(t.id);c(Li(S))}catch(S){console.error("Error fetching contract balance:",S)}finally{d(!1)}}};M.useEffect(()=>{A(),y();const S=setInterval(y,5e3);return()=>clearInterval(S)},[n,t.id]);const w=async()=>{if(!n||!r){F.error("Please connect your wallet first");return}if(confirm("Are you sure you want to cancel this event? This action cannot be undone and will allow ticket holders to claim refunds."))try{l(!0);const S=await n.getSigner(),_=new tt(t.id,Sh,S);if((await _.owner()).toLowerCase()!==r.toLowerCase()){F.error("Only the event creator can cancel the event");return}const N=await _.cancelEvent(),V=F.loading("Canceling event...");await N.wait(),F.dismiss(V),F.success("Event canceled successfully"),await A(),await e()}catch(S){console.error("Error canceling event:",S),F.error(S.message||"Failed to cancel event")}finally{l(!1)}},v=async()=>{if(!n||!r){F.error("Please connect your wallet first");return}try{i(!0);const S=await n.getSigner(),_=new tt(t.id,Sh,S);if((await _.owner()).toLowerCase()!==r.toLowerCase()){F.error("Only the event creator can withdraw funds");return}const N=await n.getBalance(t.id),V=await _.withdrawFunds(),D=F.loading("Withdrawing funds...");await V.wait();const W=await n.getBalance(t.id);if(F.dismiss(D),W<N){const Y=Li(N-W);F.success(`Successfully withdrawn ${Y} ETH`),await y(),await e()}else F.error("Withdrawal failed - contract balance unchanged")}catch(S){console.error("Error withdrawing funds:",S),S.message.includes("No funds to withdraw")?F.error("No funds available to withdraw"):S.message.includes("user rejected")?F.error("Transaction was rejected"):F.error(S.message||"Failed to withdraw funds")}finally{i(!1)}},k=new Date>t.date;return b.jsxs("div",{className:"space-y-4",children:[b.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-2 sm:space-y-0",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("h3",{className:"text-lg font-semibold",children:t.name}),g&&b.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Canceled"})]}),b.jsxs("p",{className:"text-sm text-gray-500",children:[t.ticketsSold," / ",t.totalTickets," tickets sold"]})]}),b.jsxs("div",{className:"w-full sm:w-auto space-y-2 sm:space-y-0 sm:space-x-2 flex flex-col sm:flex-row",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsxs("p",{className:"text-sm text-gray-600",children:["Total Sales: ",Number(t.price)*t.ticketsSold," ETH"]}),b.jsxs("p",{className:"text-sm text-gray-600",children:["Available to Withdraw: ",u?"Loading...":`${a} ETH`]})]}),b.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[!g&&!k&&b.jsxs("button",{onClick:w,disabled:o,className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:bg-gray-400",children:[b.jsx(Z2,{className:"h-4 w-4 mr-2"}),o?"Canceling...":"Cancel Event"]}),!g&&k&&b.jsxs("button",{onClick:v,disabled:s||Number(a)<=0,className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:bg-gray-400",children:[b.jsx(iS,{className:"h-4 w-4 mr-2"}),s?"Withdrawing...":"Withdraw Funds"]}),!g&&b.jsxs("button",{onClick:()=>p(!f),className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[b.jsx(dS,{className:"h-4 w-4 mr-2"}),f?"Hide Scanner":"Verify Tickets"]})]})]})]})}),f&&!g&&b.jsx(IR,{eventId:t.id})]})}function BR(){const[t,e]=M.useState(!1),[n,r]=M.useState("marketplace"),{events:s,isLoading:i,refreshEvents:o}=_A(),{provider:l,address:a}=Wi(),[c,u]=M.useState([]),[d,f]=M.useState(!1),[p,g]=M.useState(!1),[m,A]=M.useState(!1),[y,w]=M.useState(!0),[v,k]=M.useState("date"),[S,_]=M.useState(!1);M.useEffect(()=>{(!l||!a)&&u([])},[l,a]);const{upcomingEvents:T,pastEvents:N}=M.useMemo(()=>{const Y=new Date,Ae=[...y?s.filter(R=>!R.isCanceled):s].sort((R,U)=>{if(v==="date")return R.date.getTime()-U.date.getTime();if(v==="name")return R.name.localeCompare(U.name);if(v==="available"){const K=R.totalTickets-R.ticketsSold;return U.totalTickets-U.ticketsSold-K}return 0});return{upcomingEvents:Ae.filter(R=>new Date(R.date)>Y),pastEvents:Ae.filter(R=>new Date(R.date)<=Y)}},[s,y,v]);M.useEffect(()=>{(async()=>{if(!l||!a||!s.length){u([]);return}f(!0);try{const q=[];for(const Ae of s)try{(await new tt(Ae.id,["function owner() public view returns (address)"],l).owner()).toLowerCase()===a.toLowerCase()&&q.push(Ae)}catch(R){console.error(`Error checking ownership for event ${Ae.id}:`,R)}u(q)}catch(q){console.error("Error fetching owned events:",q)}finally{f(!1)}})()},[l,a,s]);const V=async Y=>{if(!l||!a){F.error("Please connect your wallet first");return}const q=F.loading("Purchasing ticket...");try{if(!s.find(Je=>Je.id===Y)){F.dismiss(q),F.error("Event not found");return}const R=await l.getSigner(),U=new tt(Y,["function buyTicket() public payable","function ticketPrice() public view returns (uint256)","function eventDetails() public view returns (string, uint256, uint256, uint256, bool)","function ticketsBought(address) public view returns (uint256)","function ticketLimit() public view returns (uint256)"],R),[,K,B,j,Q]=await U.eventDetails();if(Q){F.dismiss(q),F.error("This event has been canceled");return}if(Number(K)*1e3<Date.now()){F.dismiss(q),F.error("This event has already occurred");return}if(j>=B){F.dismiss(q),F.error("All tickets have been sold");return}const ne=await U.ticketsBought(a),se=await U.ticketLimit();if(ne>=se){F.dismiss(q),F.error(`You have reached the ticket limit (${se})`);return}const je=await U.ticketPrice();if(await l.getBalance(a)<je){F.dismiss(q),F.error(`Insufficient funds. You need ${Li(je)} ETH to purchase this ticket.`);return}try{await(await U.buyTicket({value:je})).wait(),F.dismiss(q),F.success("Ticket purchased successfully!"),await o()}catch(Je){F.dismiss(q),Je.message.toLowerCase().includes("insufficient funds")?F.error(`Insufficient funds. You need ${Li(je)} ETH to purchase this ticket.`):Je.message.includes("user rejected")?F.error("Transaction was rejected"):(console.error("Transaction error:",Je),F.error("Failed to purchase ticket. Please try again."))}}catch(Ae){console.error("Error buying ticket:",Ae),F.dismiss(q),F.error(Ae.message||"Failed to buy ticket")}},D=Y=>b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:Y.map(q=>b.jsx(mO,{event:q,onBuyTicket:V},q.id))}),W=()=>b.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4",children:b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(X2,{className:"h-5 w-5 text-indigo-600"}),b.jsx("h3",{className:"text-lg font-medium",children:"Sort & Filter"})]}),b.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("label",{className:"mr-2 text-sm font-medium text-gray-700",children:"Sort by:"}),b.jsxs("select",{value:v,onChange:Y=>k(Y.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[b.jsx("option",{value:"date",children:"Date (Soonest)"}),b.jsx("option",{value:"name",children:"Name (A-Z)"}),b.jsx("option",{value:"available",children:"Available Tickets"})]})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{id:"hideCanceled",type:"checkbox",checked:y,onChange:()=>w(!y),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),b.jsx("label",{htmlFor:"hideCanceled",className:"ml-2 text-sm text-gray-700",children:"Hide canceled events"})]})]})]})});return b.jsxs("div",{className:"min-h-screen bg-gray-100",children:[b.jsx("header",{className:"bg-white shadow",children:b.jsxs("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx(om,{className:"h-8 w-8 text-indigo-600"}),b.jsx("h1",{className:"ml-2 text-xl sm:text-2xl font-bold text-gray-900",children:"BlockTix"})]}),b.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[b.jsx("button",{onClick:()=>r("marketplace"),className:`px-4 py-2 text-sm font-medium rounded-md ${n==="marketplace"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Marketplace"}),b.jsxs("button",{onClick:()=>r("management"),className:`px-4 py-2 text-sm font-medium rounded-md ${n==="management"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[b.jsx(X0,{className:"h-4 w-4 inline-block mr-1"}),"My Events"]})]})]}),b.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[b.jsxs("button",{onClick:o,className:"inline-flex items-center justify-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[b.jsx(bp,{className:"h-4 w-4 mr-2"}),"Refresh"]}),b.jsxs("button",{onClick:()=>_(!S),className:"inline-flex items-center justify-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[b.jsx(q0,{className:"h-4 w-4 mr-2"}),S?"Hide Filters":"Sort & Filter"]}),b.jsxs("button",{onClick:()=>e(!0),className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[b.jsx(Z0,{className:"h-4 w-4 mr-2"}),"Create Event"]}),b.jsx(gw,{})]}),b.jsx("button",{onClick:()=>g(!p),className:"sm:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:b.jsx(uS,{className:"h-6 w-6"})})]}),p&&b.jsxs("div",{className:"sm:hidden mt-4 space-y-2",children:[b.jsxs("div",{className:"flex flex-col space-y-2",children:[b.jsx("button",{onClick:()=>{r("marketplace"),g(!1)},className:`px-4 py-2 text-sm font-medium rounded-md ${n==="marketplace"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Marketplace"}),b.jsxs("button",{onClick:()=>{r("management"),g(!1)},className:`px-4 py-2 text-sm font-medium rounded-md ${n==="management"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[b.jsx(X0,{className:"h-4 w-4 inline-block mr-1"}),"My Events"]})]}),b.jsxs("div",{className:"flex flex-col space-y-2",children:[b.jsxs("button",{onClick:()=>{o(),g(!1)},className:"inline-flex items-center justify-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[b.jsx(bp,{className:"h-4 w-4 mr-2"}),"Refresh"]}),b.jsxs("button",{onClick:()=>{_(!S),g(!1)},className:"inline-flex items-center justify-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[b.jsx(q0,{className:"h-4 w-4 mr-2"}),S?"Hide Filters":"Sort & Filter"]}),b.jsxs("button",{onClick:()=>{e(!0),g(!1)},className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[b.jsx(Z0,{className:"h-4 w-4 mr-2"}),"Create Event"]}),b.jsx(gw,{})]})]})]})}),b.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t?b.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:b.jsx("div",{className:"relative top-20 mx-auto p-5 w-full max-w-4xl",children:b.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl",children:[b.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[b.jsx("h3",{className:"text-xl font-semibold",children:"Create New Event"}),b.jsx("button",{onClick:()=>e(!1),className:"text-gray-500 hover:text-gray-700",children:b.jsx(ib,{className:"h-6 w-6"})})]}),b.jsx("div",{className:"p-6",children:b.jsx(TR,{onSuccess:()=>{e(!1),o()}})})]})})}):b.jsx(b.Fragment,{children:i||d?b.jsx("div",{className:"flex justify-center items-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):n==="marketplace"?b.jsxs("div",{className:"space-y-8",children:[S&&W(),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center mb-4",children:[b.jsx(im,{className:"h-5 w-5 text-indigo-600 mr-2"}),b.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Upcoming Events"})]}),T.length>0?D(T):b.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[b.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No upcoming events"}),b.jsx("p",{className:"mt-2 text-sm text-gray-500",children:y?"Check back later for new events or try showing canceled events":"Check back later for new events"})]})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx(aS,{className:"h-5 w-5 text-gray-600 mr-2"}),b.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Past Events"})]}),b.jsxs("button",{onClick:()=>A(!m),className:"text-sm text-indigo-600 hover:text-indigo-800",children:[m?"Hide":"Show"," Past Events"]})]}),m&&N.length>0&&b.jsx("div",{className:"opacity-75",children:D(N)}),m&&N.length===0&&b.jsx("div",{className:"text-center py-8 bg-white rounded-lg shadow opacity-75",children:b.jsx("p",{className:"text-gray-500",children:"No past events to display"})})]})]}):b.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[b.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"My Events"}),c.length>0?c.map(Y=>b.jsx(RR,{event:Y,onWithdraw:o},Y.id)):b.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[b.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No events created yet"}),b.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Create your first event to start selling tickets"})]})]})})})]})}const NA=document.getElementById("root");if(!NA)throw new Error("Failed to find the root element");X1(NA).render(b.jsxs(M.StrictMode,{children:[b.jsx(K2,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:4e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),b.jsx(BR,{})]}));export{IA as g};
